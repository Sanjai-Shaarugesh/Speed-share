import{r as Z,i as at,a as rt,b as ot,d as tt,e as lt,f as ut,g as ct,h as ft,s as mt,p as pt,V as ht,k as dt,l as gt,S as yt,H as xt,v as K,n as At,o as Et,q as bt,u as J,t as vt,j as S,c as L,m as W}from"./utils.oBxVlz46.js";import{r as j}from"./index.D1QmYGpb.js";import{C as St}from"./index.CbQUixJ7.js";import{p as Vt}from"./configs.CDK-naFb.js";import"./clsx.B-dksMZM.js";import"./_commonjsHelpers.Cpj98o6Y.js";function wt(t){return j.useEffect(()=>()=>t(),[])}function R(t){return typeof t=="object"&&!Array.isArray(t)}function et(t,e,n,s){return typeof t=="string"&&R(e)?Z(t,n,s):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function It(t,e,n){return t*(e+1)}function Q(t,e,n,s){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:s.get(e)??t}const Tt=(t,e,n)=>{const s=e-t;return((n-t)%s+s)%s+t};function nt(t,e){return at(t)?t[Tt(0,t.length,e)]:t}function jt(t,e,n){for(let s=0;s<t.length;s++){const i=t[s];i.at>e&&i.at<n&&(ot(t,i),s--)}}function Dt(t,e,n,s,i,r){jt(t,i,r);for(let a=0;a<e.length;a++)t.push({value:e[a],at:rt(i,r,s[a]),easing:nt(n,a)})}function Nt(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function Mt(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const Ot="easeInOut";function Ft(t,{defaultTransition:e={},...n}={},s,i){const r=e.duration||.3,a=new Map,l=new Map,o={},f=new Map;let c=0,u=0,V=0;for(let I=0;I<t.length;I++){const d=t[I];if(typeof d=="string"){f.set(d,u);continue}else if(!Array.isArray(d)){f.set(d.name,Q(u,d.at,c,f));continue}let[w,g,p={}]=d;p.at!==void 0&&(u=Q(u,p.at,c,f));let h=0;const T=(y,x,b,D=0,N=0)=>{const m=kt(y),{delay:B=0,times:A=lt(m),type:P="keyframes",repeat:k,repeatType:ee,repeatDelay:ne=0,...it}=x;let{ease:v=e.ease||"easeOut",duration:E}=x;const z=typeof B=="function"?B(D,N):B,H=m.length,_=ft(P)?P:i?.[P];if(H<=2&&_){let M=100;if(H===2&&Kt(m)){const O=m[1]-m[0];M=Math.abs(O)}const C={...it};E!==void 0&&(C.duration=mt(E));const G=ut(C,M,_);v=G.ease,E=G.duration}E??(E=r);const $=u+z;A.length===1&&A[0]===0&&(A[1]=1);const U=A.length-m.length;if(U>0&&ct(A,U),m.length===1&&m.unshift(null),k){E=It(E,k);const M=[...m],C=[...A];v=Array.isArray(v)?[...v]:[v];const G=[...v];for(let O=0;O<k;O++){m.push(...M);for(let F=0;F<M.length;F++)A.push(C[F]+(O+1)),v.push(F===0?"linear":nt(G,F-1))}Nt(A,k)}const q=$+E;Dt(b,m,v,A,$,q),h=Math.max(z+E,h),V=Math.max(q,V)};if(tt(w)){const y=X(w,l);T(g,p,Y("default",y))}else{const y=et(w,g,s,o),x=y.length;for(let b=0;b<x;b++){g=g,p=p;const D=y[b],N=X(D,l);for(const m in g)T(g[m],Ct(p,m),Y(m,N),b,x)}}c=u,u+=h}return l.forEach((I,d)=>{for(const w in I){const g=I[w];g.sort(Mt);const p=[],h=[],T=[];for(let x=0;x<g.length;x++){const{at:b,value:D,easing:N}=g[x];p.push(D),h.push(pt(0,V,b)),T.push(N||"easeOut")}h[0]!==0&&(h.unshift(0),p.unshift(p[0]),T.unshift(Ot)),h[h.length-1]!==1&&(h.push(1),p.push(null)),a.has(d)||a.set(d,{keyframes:{},transition:{}});const y=a.get(d);y.keyframes[w]=p,y.transition[w]={...e,duration:V,ease:T,times:h,...n}}}),a}function X(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function Y(t,e){return e[t]||(e[t]=[]),e[t]}function kt(t){return Array.isArray(t)?t:[t]}function Ct(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const Gt=t=>typeof t=="number",Kt=t=>t.every(Gt);function Bt(t,e){return t in e}class Pt extends ht{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(Bt(n,e)){const s=e[n];if(typeof s=="string"||typeof s=="number")return s}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return dt()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function Lt(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=gt(t)?new yt(e):new xt(e);n.mount(t),K.set(t,n)}function Wt(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Pt(e);n.mount(t),K.set(t,n)}function Rt(t,e){return tt(t)||typeof t=="number"||typeof t=="string"&&!R(e)}function st(t,e,n,s){const i=[];if(Rt(t,e))i.push(At(t,R(e)&&e.default||e,n&&(n.default||n)));else{const r=et(t,e,s),a=r.length;for(let l=0;l<a;l++){const o=r[l],f=o instanceof Element?Lt:Wt;K.has(o)||f(o);const c=K.get(o),u={...n};"delay"in u&&typeof u.delay=="function"&&(u.delay=u.delay(l,a)),i.push(...Et(c,{...e,transition:u},{}))}}return i}function zt(t,e,n){const s=[];return Ft(t,e,n,{spring:bt}).forEach(({keyframes:r,transition:a},l)=>{s.push(...st(l,r,a))}),s}class Ht{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e){const n=this.animations.map(s=>s.attachTimeline(e));return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class _t extends Ht{then(e,n){return this.finished.finally(e).then(()=>{})}}function $t(t){return Array.isArray(t)&&t.some(Array.isArray)}function Ut(t){function e(n,s,i){let r=[];$t(n)?r=zt(n,s,t):r=st(n,s,i,t);const a=new _t(r);return t&&t.animations.push(a),a}return e}function qt(){const t=J(()=>({current:null,animations:[]})),e=J(()=>Ut(t));return wt(()=>{t.animations.forEach(n=>n.stop())}),[t,e]}const Jt={some:0,all:1};function Qt(t,e,{root:n,margin:s,amount:i="some"}={}){const r=Z(t),a=new WeakMap,l=f=>{f.forEach(c=>{const u=a.get(c.target);if(c.isIntersecting!==!!u)if(c.isIntersecting){const V=e(c.target,c);typeof V=="function"?a.set(c.target,V):o.unobserve(c.target)}else typeof u=="function"&&(u(c),a.delete(c.target))})},o=new IntersectionObserver(l,{root:n,rootMargin:s,threshold:typeof i=="number"?i:Jt[i]});return r.forEach(f=>o.observe(f)),()=>o.disconnect()}function Xt(t,{root:e,margin:n,amount:s,once:i=!1,initial:r=!1}={}){const[a,l]=j.useState(r);return j.useEffect(()=>{if(!t.current||i&&a)return;const o=()=>(l(!0),i?void 0:()=>l(!1)),f={root:e&&e.current||void 0,margin:n,amount:s};return Qt(t.current,o,f)},[e,t,n,i,s]),a}function Yt(t,e){if(t==="first")return 0;{const n=e-1;return t==="last"?n:n/2}}function Zt(t=.1,{startDelay:e=0,from:n=0,ease:s}={}){return(i,r)=>{const a=typeof n=="number"?n:Yt(n,r),l=Math.abs(a-i);let o=t*l;if(s){const f=r*t;o=vt(s)(o/f)*f}return e+o}}const te=({words:t,className:e,cursorClassName:n})=>{const s=t.map(o=>({...o,text:o.text.split("")})),[i,r]=qt(),a=Xt(i);j.useEffect(()=>{a&&r("span",{display:"inline-block",opacity:1,width:"fit-content"},{duration:.3,delay:Zt(.1),ease:"easeInOut"})},[a]);const l=()=>S.jsx(W.div,{ref:i,className:"inline",children:s.map((o,f)=>S.jsxs("div",{className:"inline-block",children:[o.text.map((c,u)=>S.jsx(W.span,{className:L("opacity-0 hidden text-black dark:ext-blue-600 dark:text-red-400",o.className),children:c},`char-${u}`)),"Â "]},`word-${f}`))});return S.jsxs("div",{className:L("text-base sm:text-xl md:text-xl lg:text-2xl font-medium text-center",e),children:[l(),S.jsx(W.span,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,repeat:1/0,repeatType:"reverse"},className:L("inline-block rounded-sm w-[4px] h-4 md:h-6 lg:h-10 bg-blue-500",n)})]})};function ue(){let[t,e]=j.useState(!1);j.useEffect(()=>{e(St.isNativePlatform())});const n=[{text:"A"},{text:"client-side"},{text:"secure"},{text:"P2P"},{text:"file"},{text:"sharing"},{text:"app optimized"},{text:"low-bandwidth conditions"},{text:"app",className:"text-blue-500 dark:text-blue-500"}];return S.jsx("div",{className:"flex flex-col items-center justify-center  ",children:t?S.jsx("p",{class:"text-center mb-4 xl:mb-8 my-4 sm:my-8 p-1",children:Vt}):S.jsx(te,{words:n})})}export{ue as TypewriterEffectDemo};
