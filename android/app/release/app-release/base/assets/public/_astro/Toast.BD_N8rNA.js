const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/web.TUJhb6UJ.js","_astro/index.CbQUixJ7.js","_astro/index-client.jTtPU0d8.js","_astro/template.CA2CCGSC.js","_astro/events.C8s-YETX.js","_astro/snippet.BJi_jcpL.js","_astro/_commonjsHelpers.Cpj98o6Y.js","_astro/configs.CDK-naFb.js","_astro/clsx.B-dksMZM.js"])))=>i.map(i=>d[i]);
import{i as if_block,o as onMount,a as onDestroy}from"./index-client.jTtPU0d8.js";import{q as create_text,v as block,w as set_hydrate_node,x as hydrating,y as get_first_child,z as hydrate_next,g as get,A as derived_safe_equal,H as HYDRATION_START_ELSE,B as remove_nodes,C as set_hydrating,D as hydrate_node,E as HYDRATION_END,F as resume_effect,G as branch,I as pause_effect,J as INERT,K as array_from,L as active_effect,M as EACH_ITEM_REACTIVE,N as internal_set,O as EACH_INDEX_REACTIVE,P as mutable_source,Q as source,R as EACH_IS_CONTROLLED,S as is_array,T as EACH_IS_ANIMATED,U as pause_children,V as clear_text_content,W as run_out_transitions,X as destroy_effect,Y as EACH_ITEM_IMMUTABLE,Z as get_next_sibling,_ as EFFECT_TRANSPARENT,$ as NAMESPACE_SVG,a0 as assign_nodes,a1 as NAMESPACE_HTML,a2 as get_prototype_of,a3 as LOADING_ATTR_SYMBOL,a4 as get_descriptors,a5 as BLOCK_EFFECT,a6 as EFFECT_RAN,a7 as effect,a8 as untrack,a9 as TRANSITION_GLOBAL,aa as is_function,n as noop,ab as set_active_reaction,ac as set_active_effect,ad as active_reaction,ae as TRANSITION_IN,af as TRANSITION_OUT,ag as render_effect,ah as is_runes,ai as is,aj as STATE_SYMBOL,ak as get_descriptor,al as props_invalid_value,am as LEGACY_DERIVED_PROP,an as derived,ao as PROPS_IS_UPDATED,ap as safe_equals,d as proxy,j as set,aq as PROPS_IS_BINDABLE,ar as LEGACY_PROPS,as as legacy_mode_flag,at as PROPS_IS_RUNES,au as PROPS_IS_IMMUTABLE,av as PROPS_IS_LAZY_INITIAL,p as push,m as ns_template,e as child,i as template_effect,a as append,b as pop,h as sibling,r as reset,c as comment,f as first_child,t as template,s as state,k as next,u as user_effect,l as user_derived,o as text}from"./template.CA2CCGSC.js";import{q as queue_micro_task,c as create_event,d as delegate,a as autofocus,b as queue_idle_task,f as add_form_reset_listener,w as without_reactive_context,l as listen_to_event_and_reset_event}from"./events.C8s-YETX.js";import{i as is_raw_text_element,b as set_should_intro,c as is_capture_event,n as normalize_attribute,d as is_delegated,e as should_intro,s as snippet,a as set_text}from"./snippet.BJi_jcpL.js";import{c as commonjsGlobal,g as getDefaultExportFromCjs}from"./_commonjsHelpers.Cpj98o6Y.js";import{a as defaultReceiveOptions}from"./configs.CDK-naFb.js";import{r as registerPlugin}from"./index.CbQUixJ7.js";import{c as clsx$1}from"./clsx.B-dksMZM.js";function index(t,i){return i}function pause_effects(t,i,r,s){for(var a=[],n=i.length,l=0;l<n;l++)pause_children(i[l].e,a,!0);var o=n>0&&a.length===0&&r!==null;if(o){var d=r.parentNode;clear_text_content(d),d.append(r),s.clear(),link(t,i[0].prev,i[n-1].next)}run_out_transitions(a,()=>{for(var c=0;c<n;c++){var f=i[c];o||(s.delete(f.k),link(t,f.prev,f.next)),destroy_effect(f.e,!o)}})}function each(t,i,r,s,a,n=null){var l=t,o={flags:i,items:new Map,first:null},d=(i&EACH_IS_CONTROLLED)!==0;if(d){var c=t;l=hydrating?set_hydrate_node(get_first_child(c)):c.appendChild(create_text())}hydrating&&hydrate_next();var f=null,p=!1,_=derived_safe_equal(()=>{var u=r();return is_array(u)?u:u==null?[]:array_from(u)});block(()=>{var u=get(_),h=u.length;if(p&&h===0)return;p=h===0;let m=!1;if(hydrating){var g=l.data===HYDRATION_START_ELSE;g!==(h===0)&&(l=remove_nodes(),set_hydrate_node(l),set_hydrating(!1),m=!0)}if(hydrating){for(var v=null,w,E=0;E<h;E++){if(hydrate_node.nodeType===8&&hydrate_node.data===HYDRATION_END){l=hydrate_node,m=!0,set_hydrating(!1);break}var S=u[E],x=s(S,E);w=create_item(hydrate_node,o,v,null,S,x,E,a,i,r),o.items.set(x,w),v=w}h>0&&set_hydrate_node(remove_nodes())}hydrating||reconcile(u,o,l,a,i,s,r),n!==null&&(h===0?f?resume_effect(f):f=branch(()=>n(l)):f!==null&&pause_effect(f,()=>{f=null})),m&&set_hydrating(!0),get(_)}),hydrating&&(l=hydrate_node)}function reconcile(t,i,r,s,a,n,l){var o=(a&EACH_IS_ANIMATED)!==0,d=(a&(EACH_ITEM_REACTIVE|EACH_INDEX_REACTIVE))!==0,c=t.length,f=i.items,p=i.first,_=p,u,h=null,m,g=[],v=[],w,E,S,x;if(o)for(x=0;x<c;x+=1)w=t[x],E=n(w,x),S=f.get(E),S!==void 0&&(S.a?.measure(),(m??=new Set).add(S));for(x=0;x<c;x+=1){if(w=t[x],E=n(w,x),S=f.get(E),S===void 0){var I=_?_.e.nodes_start:r;h=create_item(I,i,h,h===null?i.first:h.next,w,E,x,s,a,l),f.set(E,h),g=[],v=[],_=h.next;continue}if(d&&update_item(S,w,x,a),(S.e.f&INERT)!==0&&(resume_effect(S.e),o&&(S.a?.unfix(),(m??=new Set).delete(S))),S!==_){if(u!==void 0&&u.has(S)){if(g.length<v.length){var R=v[0],D;h=R.prev;var C=g[0],M=g[g.length-1];for(D=0;D<g.length;D+=1)move(g[D],R,r);for(D=0;D<v.length;D+=1)u.delete(v[D]);link(i,C.prev,M.next),link(i,h,C),link(i,M,R),_=R,h=M,x-=1,g=[],v=[]}else u.delete(S),move(S,_,r),link(i,S.prev,S.next),link(i,S,h===null?i.first:h.next),link(i,h,S),h=S;continue}for(g=[],v=[];_!==null&&_.k!==E;)(_.e.f&INERT)===0&&(u??=new Set).add(_),v.push(_),_=_.next;if(_===null)continue;S=_}g.push(S),h=S,_=S.next}if(_!==null||u!==void 0){for(var P=u===void 0?[]:array_from(u);_!==null;)(_.e.f&INERT)===0&&P.push(_),_=_.next;var A=P.length;if(A>0){var N=(a&EACH_IS_CONTROLLED)!==0&&c===0?r:null;if(o){for(x=0;x<A;x+=1)P[x].a?.measure();for(x=0;x<A;x+=1)P[x].a?.fix()}pause_effects(i,P,N,f)}}o&&queue_micro_task(()=>{if(m!==void 0)for(S of m)S.a?.apply()}),active_effect.first=i.first&&i.first.e,active_effect.last=h&&h.e}function update_item(t,i,r,s){(s&EACH_ITEM_REACTIVE)!==0&&internal_set(t.v,i),(s&EACH_INDEX_REACTIVE)!==0?internal_set(t.i,r):t.i=r}function create_item(t,i,r,s,a,n,l,o,d,c){var f=(d&EACH_ITEM_REACTIVE)!==0,p=(d&EACH_ITEM_IMMUTABLE)===0,_=f?p?mutable_source(a):source(a):a,u=(d&EACH_INDEX_REACTIVE)===0?l:source(l),h={i:u,v:_,k:n,a:null,e:null,prev:r,next:s};try{return h.e=branch(()=>o(t,_,u,c),hydrating),h.e.prev=r&&r.e,h.e.next=s&&s.e,r===null?i.first=h:(r.next=h,r.e.next=h.e),s!==null&&(s.prev=h,s.e.prev=h.e),h}finally{}}function move(t,i,r){for(var s=t.next?t.next.e.nodes_start:r,a=i?i.e.nodes_start:r,n=t.e.nodes_start;n!==s;){var l=get_next_sibling(n);a.before(n),n=l}}function link(t,i,r){i===null?t.first=r:(i.next=r,i.e.next=r&&r.e),r!==null&&(r.prev=i,r.e.prev=i&&i.e)}function element(t,i,r,s,a,n){let l=hydrating;hydrating&&hydrate_next();var o,d,c=null;hydrating&&hydrate_node.nodeType===1&&(c=hydrate_node,hydrate_next());var f=hydrating?hydrate_node:t,p;block(()=>{const _=i()||null;var u=NAMESPACE_SVG;_!==o&&(p&&(_===null?pause_effect(p,()=>{p=null,d=null}):_===d?resume_effect(p):(destroy_effect(p),set_should_intro(!1))),_&&_!==d&&(p=branch(()=>{if(c=hydrating?c:document.createElementNS(u,_),assign_nodes(c,c),s){hydrating&&is_raw_text_element(_)&&c.append(document.createComment(""));var h=hydrating?get_first_child(c):c.appendChild(create_text());hydrating&&(h===null?set_hydrating(!1):set_hydrate_node(h)),s(c,h)}active_effect.nodes_end=c,f.before(c)})),o=_,o&&(d=o),set_should_intro(!0))},EFFECT_TRANSPARENT),l&&(set_hydrating(!0),set_hydrate_node(f))}function clsx(t){return typeof t=="object"?clsx$1(t):t??""}const whitespace=[...` 	
\r\fÂ \v\uFEFF`];function to_class(t,i,r){var s=t==null?"":""+t;if(i&&(s=s?s+" "+i:i),r){for(var a in r)if(r[a])s=s?s+" "+a:a;else if(s.length)for(var n=a.length,l=0;(l=s.indexOf(a,l))>=0;){var o=l+n;(l===0||whitespace.includes(s[l-1]))&&(o===s.length||whitespace.includes(s[o]))?s=(l===0?"":s.substring(0,l))+s.substring(o+1):l=o}}return s===""?null:s}function append_styles(t,i=!1){var r=i?" !important;":";",s="";for(var a in t){var n=t[a];n!=null&&n!==""&&(s+=" "+a+": "+n+r)}return s}function to_css_name(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function to_style(t,i){if(i){var r="",s,a;if(Array.isArray(i)?(s=i[0],a=i[1]):s=i,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var n=!1,l=0,o=!1,d=[];s&&d.push(...Object.keys(s).map(to_css_name)),a&&d.push(...Object.keys(a).map(to_css_name));var c=0,f=-1;const m=t.length;for(var p=0;p<m;p++){var _=t[p];if(o?_==="/"&&t[p-1]==="*"&&(o=!1):n?n===_&&(n=!1):_==="/"&&t[p+1]==="*"?o=!0:_==='"'||_==="'"?n=_:_==="("?l++:_===")"&&l--,!o&&n===!1&&l===0){if(_===":"&&f===-1)f=p;else if(_===";"||p===m-1){if(f!==-1){var u=to_css_name(t.substring(c,f).trim());if(!d.includes(u)){_!==";"&&p++;var h=t.substring(c,p).trim();r+=" "+h+";"}}c=p+1,f=-1}}}}return s&&(r+=append_styles(s)),a&&(r+=append_styles(a,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function set_class(t,i,r,s,a,n){var l=t.__className;if(hydrating||l!==r||l===void 0){var o=to_class(r,s,n);(!hydrating||o!==t.getAttribute("class"))&&(o==null?t.removeAttribute("class"):i?t.className=o:t.setAttribute("class",o)),t.__className=r}else if(n&&a!==n)for(var d in n){var c=!!n[d];(a==null||c!==!!a[d])&&t.classList.toggle(d,c)}return n}function update_styles(t,i={},r,s){for(var a in r){var n=r[a];i[a]!==n&&(r[a]==null?t.style.removeProperty(a):t.style.setProperty(a,n,s))}}function set_style(t,i,r,s){var a=t.__style;if(hydrating||a!==i){var n=to_style(i,s);(!hydrating||n!==t.getAttribute("style"))&&(n==null?t.removeAttribute("style"):t.style.cssText=n),t.__style=i}else s&&(Array.isArray(s)?(update_styles(t,r?.[0],s[0]),update_styles(t,r?.[1],s[1],"important")):update_styles(t,r,s));return s}const CLASS=Symbol("class"),STYLE=Symbol("style"),IS_CUSTOM_ELEMENT=Symbol("is custom element"),IS_HTML=Symbol("is html");function remove_input_defaults(t){if(hydrating){var i=!1,r=()=>{if(!i){if(i=!0,t.hasAttribute("value")){var s=t.value;set_attribute(t,"value",null),t.value=s}if(t.hasAttribute("checked")){var a=t.checked;set_attribute(t,"checked",null),t.checked=a}}};t.__on_r=r,queue_idle_task(r),add_form_reset_listener()}}function set_value(t,i){var r=get_attributes(t);r.value===(r.value=i??void 0)||t.value===i&&(i!==0||t.nodeName!=="PROGRESS")||(t.value=i??"")}function set_selected(t,i){i?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function set_attribute(t,i,r,s){var a=get_attributes(t);hydrating&&(a[i]=t.getAttribute(i),i==="src"||i==="srcset"||i==="href"&&t.nodeName==="LINK")||a[i]!==(a[i]=r)&&(i==="loading"&&(t[LOADING_ATTR_SYMBOL]=r),r==null?t.removeAttribute(i):typeof r!="string"&&get_setters(t).includes(i)?t[i]=r:t.setAttribute(i,r))}function set_attributes(t,i,r,s,a=!1){var n=get_attributes(t),l=n[IS_CUSTOM_ELEMENT],o=!n[IS_HTML];let d=hydrating&&l;d&&set_hydrating(!1);var c=i||{},f=t.tagName==="OPTION";for(var p in i)p in r||(r[p]=null);r.class?r.class=clsx(r.class):r[CLASS]&&(r.class=null),r[STYLE]&&(r.style??=null);var _=get_setters(t);for(const E in r){let S=r[E];if(f&&E==="value"&&S==null){t.value=t.__value="",c[E]=S;continue}if(E==="class"){var u=t.namespaceURI==="http://www.w3.org/1999/xhtml";set_class(t,u,S,s,i?.[CLASS],r[CLASS]),c[E]=S,c[CLASS]=r[CLASS];continue}if(E==="style"){set_style(t,S,i?.[STYLE],r[STYLE]),c[E]=S,c[STYLE]=r[STYLE];continue}var h=c[E];if(S!==h){c[E]=S;var m=E[0]+E[1];if(m!=="$$")if(m==="on"){const x={},I="$$"+E;let R=E.slice(2);var g=is_delegated(R);if(is_capture_event(R)&&(R=R.slice(0,-7),x.capture=!0),!g&&h){if(S!=null)continue;t.removeEventListener(R,c[I],x),c[I]=null}if(S!=null)if(g)t[`__${R}`]=S,delegate([R]);else{let D=function(C){c[E].call(this,C)};c[I]=create_event(R,t,D,x)}else g&&(t[`__${R}`]=void 0)}else if(E==="style")set_attribute(t,E,S);else if(E==="autofocus")autofocus(t,!!S);else if(!l&&(E==="__value"||E==="value"&&S!=null))t.value=t.__value=S;else if(E==="selected"&&f)set_selected(t,S);else{var v=E;o||(v=normalize_attribute(v));var w=v==="defaultValue"||v==="defaultChecked";if(S==null&&!l&&!w)if(n[E]=null,v==="value"||v==="checked"){let x=t;const I=i===void 0;if(v==="value"){let R=x.defaultValue;x.removeAttribute(v),x.defaultValue=R,x.value=x.__value=I?R:null}else{let R=x.defaultChecked;x.removeAttribute(v),x.defaultChecked=R,x.checked=I?R:!1}}else t.removeAttribute(E);else w||_.includes(v)&&(l||typeof S!="string")?t[v]=S:typeof S!="function"&&set_attribute(t,v,S)}}}return d&&set_hydrating(!0),c}function get_attributes(t){return t.__attributes??={[IS_CUSTOM_ELEMENT]:t.nodeName.includes("-"),[IS_HTML]:t.namespaceURI===NAMESPACE_HTML}}var setters_cache=new Map;function get_setters(t){var i=setters_cache.get(t.nodeName);if(i)return i;setters_cache.set(t.nodeName,i=[]);for(var r,s=t,a=Element.prototype;a!==s;){r=get_descriptors(s);for(var n in r)r[n].set&&i.push(n);s=get_prototype_of(s)}return i}const now=()=>performance.now(),raf={tick:t=>requestAnimationFrame(t),now:()=>now(),tasks:new Set};function run_tasks(){const t=raf.now();raf.tasks.forEach(i=>{i.c(t)||(raf.tasks.delete(i),i.f())}),raf.tasks.size!==0&&raf.tick(run_tasks)}function loop(t){let i;return raf.tasks.size===0&&raf.tick(run_tasks),{promise:new Promise(r=>{raf.tasks.add(i={c:t,f:r})}),abort(){raf.tasks.delete(i)}}}function dispatch_event(t,i){without_reactive_context(()=>{t.dispatchEvent(new CustomEvent(i))})}function css_property_to_camelcase(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const i=t.split("-");return i.length===1?i[0]:i[0]+i.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function css_to_keyframe(t){const i={},r=t.split(";");for(const s of r){const[a,n]=s.split(":");if(!a||n===void 0)break;const l=css_property_to_camelcase(a.trim());i[l]=n.trim()}return i}const linear$1=t=>t;function transition(t,i,r,s){var a=(t&TRANSITION_IN)!==0,n=(t&TRANSITION_OUT)!==0,l=a&&n,o=(t&TRANSITION_GLOBAL)!==0,d=l?"both":a?"in":"out",c,f=i.inert,p=i.style.overflow,_,u;function h(){var E=active_reaction,S=active_effect;set_active_reaction(null),set_active_effect(null);try{return c??=r()(i,s?.()??{},{direction:d})}finally{set_active_reaction(E),set_active_effect(S)}}var m={is_global:o,in(){if(i.inert=f,!a){u?.abort(),u?.reset?.();return}n||_?.abort(),dispatch_event(i,"introstart"),_=animate(i,h(),u,1,()=>{dispatch_event(i,"introend"),_?.abort(),_=c=void 0,i.style.overflow=p})},out(E){if(!n){E?.(),c=void 0;return}i.inert=!0,dispatch_event(i,"outrostart"),u=animate(i,h(),_,0,()=>{dispatch_event(i,"outroend"),E?.()})},stop:()=>{_?.abort(),u?.abort()}},g=active_effect;if((g.transitions??=[]).push(m),a&&should_intro){var v=o;if(!v){for(var w=g.parent;w&&(w.f&EFFECT_TRANSPARENT)!==0;)for(;(w=w.parent)&&(w.f&BLOCK_EFFECT)===0;);v=!w||(w.f&EFFECT_RAN)!==0}v&&effect(()=>{untrack(()=>m.in())})}}function animate(t,i,r,s,a){var n=s===1;if(is_function(i)){var l,o=!1;return queue_micro_task(()=>{if(!o){var g=i({direction:n?"in":"out"});l=animate(t,g,r,s,a)}}),{abort:()=>{o=!0,l?.abort()},deactivate:()=>l.deactivate(),reset:()=>l.reset(),t:()=>l.t()}}if(r?.deactivate(),!i?.duration)return a(),{abort:noop,deactivate:noop,reset:noop,t:()=>s};const{delay:d=0,css:c,tick:f,easing:p=linear$1}=i;var _=[];if(n&&r===void 0&&(f&&f(0,1),c)){var u=css_to_keyframe(c(0,1));_.push(u,u)}var h=()=>1-s,m=t.animate(_,{duration:d});return m.onfinish=()=>{var g=r?.t()??1-s;r?.abort();var v=s-g,w=i.duration*Math.abs(v),E=[];if(w>0){var S=!1;if(c)for(var x=Math.ceil(w/16.666666666666668),I=0;I<=x;I+=1){var R=g+v*p(I/x),D=css_to_keyframe(c(R,1-R));E.push(D),S||=D.overflow==="hidden"}S&&(t.style.overflow="hidden"),h=()=>{var C=m.currentTime;return g+v*p(C/w)},f&&loop(()=>{if(m.playState!=="running")return!1;var C=h();return f(C,1-C),!0})}m=t.animate(E,{duration:w,fill:"forwards"}),m.onfinish=()=>{h=()=>s,f?.(s,1-s),a()}},{abort:()=>{m&&(m.cancel(),m.effect=null,m.onfinish=noop)},deactivate:()=>{a=noop},reset:()=>{s===0&&f?.(1,0)},t:()=>h()}}function bind_value(t,i,r=i){var s=is_runes();listen_to_event_and_reset_event(t,"input",a=>{var n=a?t.defaultValue:t.value;if(n=is_numberlike_input(t)?to_number(n):n,r(n),s&&n!==(n=i())){var l=t.selectionStart,o=t.selectionEnd;t.value=n??"",o!==null&&(t.selectionStart=l,t.selectionEnd=Math.min(o,t.value.length))}}),(hydrating&&t.defaultValue!==t.value||untrack(i)==null&&t.value)&&r(is_numberlike_input(t)?to_number(t.value):t.value),render_effect(()=>{var a=i();is_numberlike_input(t)&&a===to_number(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function bind_checked(t,i,r=i){listen_to_event_and_reset_event(t,"change",s=>{var a=s?t.defaultChecked:t.checked;r(a)}),(hydrating&&t.defaultChecked!==t.checked||untrack(i)==null)&&r(t.checked),render_effect(()=>{var s=i();t.checked=!!s})}function is_numberlike_input(t){var i=t.type;return i==="number"||i==="range"}function to_number(t){return t===""?null:+t}function select_option(t,i,r){if(t.multiple)return select_options(t,i);for(var s of t.options){var a=get_option_value(s);if(is(a,i)){s.selected=!0;return}}(!r||i!==void 0)&&(t.selectedIndex=-1)}function init_select(t,i){effect(()=>{var r=new MutationObserver(()=>{var s=t.__value;select_option(t,s)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function bind_select_value(t,i,r=i){var s=!0;listen_to_event_and_reset_event(t,"change",a=>{var n=a?"[selected]":":checked",l;if(t.multiple)l=[].map.call(t.querySelectorAll(n),get_option_value);else{var o=t.querySelector(n)??t.querySelector("option:not([disabled])");l=o&&get_option_value(o)}r(l)}),effect(()=>{var a=i();if(select_option(t,a,s),s&&a===void 0){var n=t.querySelector(":checked");n!==null&&(a=get_option_value(n),r(a))}t.__value=a,s=!1}),init_select(t)}function select_options(t,i){for(var r of t.options)r.selected=~i.indexOf(get_option_value(r))}function get_option_value(t){return"__value"in t?t.__value:t.value}function is_bound_this(t,i){return t===i||t?.[STATE_SYMBOL]===i}function bind_this(t={},i,r,s){return effect(()=>{var a,n;return render_effect(()=>{a=n,n=[],untrack(()=>{t!==r(...n)&&(i(t,...n),a&&is_bound_this(r(...a),t)&&i(null,...a))})}),()=>{queue_micro_task(()=>{n&&is_bound_this(r(...n),t)&&i(null,...n)})}}),t}let is_store_binding=!1;function capture_store_binding(t){var i=is_store_binding;try{return is_store_binding=!1,[t(),is_store_binding]}finally{is_store_binding=i}}const rest_props_handler={get(t,i){if(!t.exclude.includes(i))return t.props[i]},set(t,i){return!1},getOwnPropertyDescriptor(t,i){if(!t.exclude.includes(i)&&i in t.props)return{enumerable:!0,configurable:!0,value:t.props[i]}},has(t,i){return t.exclude.includes(i)?!1:i in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(i=>!t.exclude.includes(i))}};function rest_props(t,i,r){return new Proxy({props:t,exclude:i},rest_props_handler)}const spread_props_handler={get(t,i){let r=t.props.length;for(;r--;){let s=t.props[r];if(is_function(s)&&(s=s()),typeof s=="object"&&s!==null&&i in s)return s[i]}},set(t,i,r){let s=t.props.length;for(;s--;){let a=t.props[s];is_function(a)&&(a=a());const n=get_descriptor(a,i);if(n&&n.set)return n.set(r),!0}return!1},getOwnPropertyDescriptor(t,i){let r=t.props.length;for(;r--;){let s=t.props[r];if(is_function(s)&&(s=s()),typeof s=="object"&&s!==null&&i in s){const a=get_descriptor(s,i);return a&&!a.configurable&&(a.configurable=!0),a}}},has(t,i){if(i===STATE_SYMBOL||i===LEGACY_PROPS)return!1;for(let r of t.props)if(is_function(r)&&(r=r()),r!=null&&i in r)return!0;return!1},ownKeys(t){const i=[];for(let r of t.props){is_function(r)&&(r=r());for(const s in r)i.includes(s)||i.push(s)}return i}};function spread_props(...t){return new Proxy({props:t},spread_props_handler)}function has_destroyed_component_ctx(t){return t.ctx?.d??!1}function prop(t,i,r,s){var a=(r&PROPS_IS_IMMUTABLE)!==0,n=!legacy_mode_flag||(r&PROPS_IS_RUNES)!==0,l=(r&PROPS_IS_BINDABLE)!==0,o=(r&PROPS_IS_LAZY_INITIAL)!==0,d=!1,c;l?[c,d]=capture_store_binding(()=>t[i]):c=t[i];var f=STATE_SYMBOL in t||LEGACY_PROPS in t,p=l&&(get_descriptor(t,i)?.set??(f&&i in t&&(I=>t[i]=I)))||void 0,_=s,u=!0,h=!1,m=()=>(h=!0,u&&(u=!1,o?_=untrack(s):_=s),_);c===void 0&&s!==void 0&&(p&&n&&props_invalid_value(),c=m(),p&&p(c));var g;if(n)g=()=>{var I=t[i];return I===void 0?m():(u=!0,h=!1,I)};else{var v=(a?derived:derived_safe_equal)(()=>t[i]);v.f|=LEGACY_DERIVED_PROP,g=()=>{var I=get(v);return I!==void 0&&(_=void 0),I===void 0?_:I}}if((r&PROPS_IS_UPDATED)===0)return g;if(p){var w=t.$$legacy;return function(I,R){return arguments.length>0?((!n||!R||w||d)&&p(R?g():I),I):g()}}var E=!1,S=mutable_source(c),x=derived(()=>{var I=g(),R=get(S);return E?(E=!1,R):S.v=I});return l&&get(x),a||(x.equals=safe_equals),function(I,R){if(arguments.length>0){const D=R?get(x):n&&l?proxy(I):I;if(!x.equals(D)){if(E=!0,set(S,D),h&&_!==void 0&&(_=D),has_destroyed_component_ctx(x))return I;untrack(()=>get(x))}return I}return has_destroyed_component_ctx(x)?x.v:get(x)}}let listenerQueue=[],lqIndex=0;const QUEUE_ITEMS_PER_LISTENER=4;let atom=t=>{let i=[],r={get(){return r.lc||r.listen(()=>{})(),r.value},lc:0,listen(s){return r.lc=i.push(s),()=>{for(let n=lqIndex+QUEUE_ITEMS_PER_LISTENER;n<listenerQueue.length;)listenerQueue[n]===s?listenerQueue.splice(n,QUEUE_ITEMS_PER_LISTENER):n+=QUEUE_ITEMS_PER_LISTENER;let a=i.indexOf(s);~a&&(i.splice(a,1),--r.lc)}},notify(s,a){let n=!listenerQueue.length;for(let l of i)listenerQueue.push(l,r.value,s,a);if(n){for(lqIndex=0;lqIndex<listenerQueue.length;lqIndex+=QUEUE_ITEMS_PER_LISTENER)listenerQueue[lqIndex](listenerQueue[lqIndex+1],listenerQueue[lqIndex+2],listenerQueue[lqIndex+3]);listenerQueue.length=0}},off(){},set(s){let a=r.value;a!==s&&(r.value=s,r.notify(a))},subscribe(s){let a=r.listen(s);return s(r.value),a},value:t};return r};const toastAtom=atom(null);function addToastMessage(t,i="info",r=5e3){toastAtom.set({id:Date.now().toString(),message:t,status:i,duration:r})}/**
 * @license @lucide/svelte v0.503.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var root$c=ns_template("<svg><!><!></svg>");function Icon(t,i){push(i,!0);const r=prop(i,"color",3,"currentColor"),s=prop(i,"size",3,24),a=prop(i,"strokeWidth",3,2),n=prop(i,"absoluteStrokeWidth",3,!1),l=prop(i,"iconNode",19,()=>[]),o=rest_props(i,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var d=root$c();let c;var f=child(d);each(f,17,l,index,(_,u)=>{let h=()=>get(u)[0],m=()=>get(u)[1];var g=comment(),v=first_child(g);element(v,h,!0,(w,E)=>{let S;template_effect(()=>S=set_attributes(w,S,{...m()}))}),append(_,g)});var p=sibling(f);snippet(p,()=>i.children??noop),reset(d),template_effect(_=>c=set_attributes(d,c,{...defaultAttributes,...o,width:s(),height:s(),stroke:r(),"stroke-width":_,class:["lucide-icon lucide",i.name&&`lucide-${i.name}`,i.class]}),[()=>n()?Number(a())*24/Number(s()):a()]),append(t,d),pop()}function Circle_alert(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"circle-alert"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Circle_check_big(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"circle-check-big"},()=>r,{iconNode:[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335"}],["path",{d:"m9 11 3 3L22 4"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Circle_stop(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"circle-stop"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Eye_off(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"eye-off"},()=>r,{iconNode:[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143"}],["path",{d:"m2 2 20 20"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Eye(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"eye"},()=>r,{iconNode:[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function File_down(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"file-down"},()=>r,{iconNode:[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M12 18v-6"}],["path",{d:"m9 15 3 3 3-3"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Folder_archive(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"folder-archive"},()=>r,{iconNode:[["circle",{cx:"15",cy:"19",r:"2"}],["path",{d:"M20.9 19.8A2 2 0 0 0 22 18V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h5.1"}],["path",{d:"M15 11v-1"}],["path",{d:"M15 17v-2"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Folder_down(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"folder-down"},()=>r,{iconNode:[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}],["path",{d:"M12 10v6"}],["path",{d:"m15 13-3 3-3-3"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Forward(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"forward"},()=>r,{iconNode:[["polyline",{points:"15 17 20 12 15 7"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Info(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"info"},()=>r,{iconNode:[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M12 16v-4"}],["path",{d:"M12 8h.01"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Paperclip(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"paperclip"},()=>r,{iconNode:[["path",{d:"M13.234 20.252 21 12.3"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Qr_code(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"qr-code"},()=>r,{iconNode:[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3"}],["path",{d:"M21 21v.01"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7"}],["path",{d:"M3 12h.01"}],["path",{d:"M12 3h.01"}],["path",{d:"M12 16v.01"}],["path",{d:"M16 12h1"}],["path",{d:"M21 12v.01"}],["path",{d:"M12 21v-1"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Roller_coaster(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"roller-coaster"},()=>r,{iconNode:[["path",{d:"M6 19V5"}],["path",{d:"M10 19V6.8"}],["path",{d:"M14 19v-7.8"}],["path",{d:"M18 5v4"}],["path",{d:"M18 19v-6"}],["path",{d:"M22 19V9"}],["path",{d:"M2 19V9a4 4 0 0 1 4-4c2 0 4 1.33 6 4s4 4 6 4a4 4 0 1 0-3-6.65"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Scan_line(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"scan-line"},()=>r,{iconNode:[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}],["path",{d:"M7 12h10"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Scan_qr_code(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"scan-qr-code"},()=>r,{iconNode:[["path",{d:"M17 12v4a1 1 0 0 1-1 1h-4"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}],["path",{d:"M17 8V7"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}],["path",{d:"M7 17h.01"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}],["rect",{x:"7",y:"7",width:"5",height:"5",rx:"1"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Send(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"send"},()=>r,{iconNode:[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"}],["path",{d:"m21.854 2.147-10.94 10.939"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Shredder(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"shredder"},()=>r,{iconNode:[["path",{d:"M10 22v-5"}],["path",{d:"M14 19v-2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}],["path",{d:"M18 20v-3"}],["path",{d:"M2 13h20"}],["path",{d:"M20 13V7l-5-5H6a2 2 0 0 0-2 2v9"}],["path",{d:"M6 20v-3"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Trash_2(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"trash-2"},()=>r,{iconNode:[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Triangle_alert(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"triangle-alert"},()=>r,{iconNode:[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["path",{d:"M12 9v4"}],["path",{d:"M12 17h.01"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function Workflow(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"workflow"},()=>r,{iconNode:[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}function X(t,i){push(i,!0);let r=rest_props(i,["$$slots","$$events","$$legacy"]);Icon(t,spread_props({name:"x"},()=>r,{iconNode:[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]],children:(a,n)=>{var l=comment(),o=first_child(l);snippet(o,()=>i.children??noop),append(a,l)},$$slots:{default:!0}})),pop()}var on_change=(t,i,r)=>i.onChange(get(r)),root$b=template('<label class="swap bg-base-100 ml-3 mt-1"><input type="checkbox" class="hidden"> <div class="swap-on mt-1"><!></div> <div class="swap-off mt-1"><!></div></label>');function Eye_1(t,i){push(i,!0);let r=state(!1);const s="eye-input";var a=root$b();set_attribute(a,"for",s);var n=child(a);remove_input_defaults(n),set_attribute(n,"id",s),n.__change=[on_change,i,r];var l=sibling(n,2),o=child(l);Eye_off(o,{class:"w-6 h-6 text-white-700"}),reset(l);var d=sibling(l,2),c=child(d);Eye(c,{class:"w-6 h-6 text-white-700"}),reset(d),reset(a),bind_checked(n,()=>get(r),f=>set(r,f)),append(t,a),pop()}delegate(["change"]);var indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=t;function t(i,r){for(var s=new Array(arguments.length-1),a=0,n=2,l=!0;n<arguments.length;)s[a++]=arguments[n++];return new Promise(function(d,c){s[a]=function(p){if(l)if(l=!1,p)c(p);else{for(var _=new Array(arguments.length-1),u=0;u<_.length;)_[u++]=arguments[u];d.apply(null,_)}};try{i.apply(r||null,s)}catch(f){l&&(l=!1,c(f))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(t){var i=t;i.length=function(o){var d=o.length;if(!d)return 0;for(var c=0;--d%4>1&&o.charAt(d)==="=";)++c;return Math.ceil(o.length*3)/4-c};for(var r=new Array(64),s=new Array(123),a=0;a<64;)s[r[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;i.encode=function(o,d,c){for(var f=null,p=[],_=0,u=0,h;d<c;){var m=o[d++];switch(u){case 0:p[_++]=r[m>>2],h=(m&3)<<4,u=1;break;case 1:p[_++]=r[h|m>>4],h=(m&15)<<2,u=2;break;case 2:p[_++]=r[h|m>>6],p[_++]=r[m&63],u=0;break}_>8191&&((f||(f=[])).push(String.fromCharCode.apply(String,p)),_=0)}return u&&(p[_++]=r[h],p[_++]=61,u===1&&(p[_++]=61)),f?(_&&f.push(String.fromCharCode.apply(String,p.slice(0,_))),f.join("")):String.fromCharCode.apply(String,p.slice(0,_))};var n="invalid encoding";i.decode=function(o,d,c){for(var f=c,p=0,_,u=0;u<o.length;){var h=o.charCodeAt(u++);if(h===61&&p>1)break;if((h=s[h])===void 0)throw Error(n);switch(p){case 0:_=h,p=1;break;case 1:d[c++]=_<<2|(h&48)>>4,_=h,p=2;break;case 2:d[c++]=(_&15)<<4|(h&60)>>2,_=h,p=3;break;case 3:d[c++]=(_&3)<<6|h,p=0;break}}if(p===1)throw Error(n);return c-f},i.test=function(o){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(o)}}(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=t;function t(){this._listeners={}}return t.prototype.on=function(r,s,a){return(this._listeners[r]||(this._listeners[r]=[])).push({fn:s,ctx:a||this}),this},t.prototype.off=function(r,s){if(r===void 0)this._listeners={};else if(s===void 0)this._listeners[r]=[];else for(var a=this._listeners[r],n=0;n<a.length;)a[n].fn===s?a.splice(n,1):++n;return this},t.prototype.emit=function(r){var s=this._listeners[r];if(s){for(var a=[],n=1;n<arguments.length;)a.push(arguments[n++]);for(n=0;n<s.length;)s[n].fn.apply(s[n++].ctx,a)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=t(t);function t(n){return typeof Float32Array<"u"?function(){var l=new Float32Array([-0]),o=new Uint8Array(l.buffer),d=o[3]===128;function c(u,h,m){l[0]=u,h[m]=o[0],h[m+1]=o[1],h[m+2]=o[2],h[m+3]=o[3]}function f(u,h,m){l[0]=u,h[m]=o[3],h[m+1]=o[2],h[m+2]=o[1],h[m+3]=o[0]}n.writeFloatLE=d?c:f,n.writeFloatBE=d?f:c;function p(u,h){return o[0]=u[h],o[1]=u[h+1],o[2]=u[h+2],o[3]=u[h+3],l[0]}function _(u,h){return o[3]=u[h],o[2]=u[h+1],o[1]=u[h+2],o[0]=u[h+3],l[0]}n.readFloatLE=d?p:_,n.readFloatBE=d?_:p}():function(){function l(d,c,f,p){var _=c<0?1:0;if(_&&(c=-c),c===0)d(1/c>0?0:2147483648,f,p);else if(isNaN(c))d(2143289344,f,p);else if(c>34028234663852886e22)d((_<<31|2139095040)>>>0,f,p);else if(c<11754943508222875e-54)d((_<<31|Math.round(c/1401298464324817e-60))>>>0,f,p);else{var u=Math.floor(Math.log(c)/Math.LN2),h=Math.round(c*Math.pow(2,-u)*8388608)&8388607;d((_<<31|u+127<<23|h)>>>0,f,p)}}n.writeFloatLE=l.bind(null,i),n.writeFloatBE=l.bind(null,r);function o(d,c,f){var p=d(c,f),_=(p>>31)*2+1,u=p>>>23&255,h=p&8388607;return u===255?h?NaN:_*(1/0):u===0?_*1401298464324817e-60*h:_*Math.pow(2,u-150)*(h+8388608)}n.readFloatLE=o.bind(null,s),n.readFloatBE=o.bind(null,a)}(),typeof Float64Array<"u"?function(){var l=new Float64Array([-0]),o=new Uint8Array(l.buffer),d=o[7]===128;function c(u,h,m){l[0]=u,h[m]=o[0],h[m+1]=o[1],h[m+2]=o[2],h[m+3]=o[3],h[m+4]=o[4],h[m+5]=o[5],h[m+6]=o[6],h[m+7]=o[7]}function f(u,h,m){l[0]=u,h[m]=o[7],h[m+1]=o[6],h[m+2]=o[5],h[m+3]=o[4],h[m+4]=o[3],h[m+5]=o[2],h[m+6]=o[1],h[m+7]=o[0]}n.writeDoubleLE=d?c:f,n.writeDoubleBE=d?f:c;function p(u,h){return o[0]=u[h],o[1]=u[h+1],o[2]=u[h+2],o[3]=u[h+3],o[4]=u[h+4],o[5]=u[h+5],o[6]=u[h+6],o[7]=u[h+7],l[0]}function _(u,h){return o[7]=u[h],o[6]=u[h+1],o[5]=u[h+2],o[4]=u[h+3],o[3]=u[h+4],o[2]=u[h+5],o[1]=u[h+6],o[0]=u[h+7],l[0]}n.readDoubleLE=d?p:_,n.readDoubleBE=d?_:p}():function(){function l(d,c,f,p,_,u){var h=p<0?1:0;if(h&&(p=-p),p===0)d(0,_,u+c),d(1/p>0?0:2147483648,_,u+f);else if(isNaN(p))d(0,_,u+c),d(2146959360,_,u+f);else if(p>17976931348623157e292)d(0,_,u+c),d((h<<31|2146435072)>>>0,_,u+f);else{var m;if(p<22250738585072014e-324)m=p/5e-324,d(m>>>0,_,u+c),d((h<<31|m/4294967296)>>>0,_,u+f);else{var g=Math.floor(Math.log(p)/Math.LN2);g===1024&&(g=1023),m=p*Math.pow(2,-g),d(m*4503599627370496>>>0,_,u+c),d((h<<31|g+1023<<20|m*1048576&1048575)>>>0,_,u+f)}}}n.writeDoubleLE=l.bind(null,i,0,4),n.writeDoubleBE=l.bind(null,r,4,0);function o(d,c,f,p,_){var u=d(p,_+c),h=d(p,_+f),m=(h>>31)*2+1,g=h>>>20&2047,v=4294967296*(h&1048575)+u;return g===2047?v?NaN:m*(1/0):g===0?m*5e-324*v:m*Math.pow(2,g-1075)*(v+4503599627370496)}n.readDoubleLE=o.bind(null,s,0,4),n.readDoubleBE=o.bind(null,a,4,0)}(),n}function i(n,l,o){l[o]=n&255,l[o+1]=n>>>8&255,l[o+2]=n>>>16&255,l[o+3]=n>>>24}function r(n,l,o){l[o]=n>>>24,l[o+1]=n>>>16&255,l[o+2]=n>>>8&255,l[o+3]=n&255}function s(n,l){return(n[l]|n[l+1]<<8|n[l+2]<<16|n[l+3]<<24)>>>0}function a(n,l){return(n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(t){var i=t;i.length=function(s){for(var a=0,n=0,l=0;l<s.length;++l)n=s.charCodeAt(l),n<128?a+=1:n<2048?a+=2:(n&64512)===55296&&(s.charCodeAt(l+1)&64512)===56320?(++l,a+=4):a+=3;return a},i.read=function(s,a,n){var l=n-a;if(l<1)return"";for(var o=null,d=[],c=0,f;a<n;)f=s[a++],f<128?d[c++]=f:f>191&&f<224?d[c++]=(f&31)<<6|s[a++]&63:f>239&&f<365?(f=((f&7)<<18|(s[a++]&63)<<12|(s[a++]&63)<<6|s[a++]&63)-65536,d[c++]=55296+(f>>10),d[c++]=56320+(f&1023)):d[c++]=(f&15)<<12|(s[a++]&63)<<6|s[a++]&63,c>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,d)),c=0);return o?(c&&o.push(String.fromCharCode.apply(String,d.slice(0,c))),o.join("")):String.fromCharCode.apply(String,d.slice(0,c))},i.write=function(s,a,n){for(var l=n,o,d,c=0;c<s.length;++c)o=s.charCodeAt(c),o<128?a[n++]=o:o<2048?(a[n++]=o>>6|192,a[n++]=o&63|128):(o&64512)===55296&&((d=s.charCodeAt(c+1))&64512)===56320?(o=65536+((o&1023)<<10)+(d&1023),++c,a[n++]=o>>18|240,a[n++]=o>>12&63|128,a[n++]=o>>6&63|128,a[n++]=o&63|128):(a[n++]=o>>12|224,a[n++]=o>>6&63|128,a[n++]=o&63|128);return n-l}}(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=t;function t(i,r,s){var a=s||8192,n=a>>>1,l=null,o=a;return function(c){if(c<1||c>n)return i(c);o+c>a&&(l=i(a),o=0);var f=r.call(l,o,o+=c);return o&7&&(o=(o|7)+1),f}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=i;var t=requireMinimal$1();function i(n,l){this.lo=n>>>0,this.hi=l>>>0}var r=i.zero=new i(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(l){if(l===0)return r;var o=l<0;o&&(l=-l);var d=l>>>0,c=(l-d)/4294967296>>>0;return o&&(c=~c>>>0,d=~d>>>0,++d>4294967295&&(d=0,++c>4294967295&&(c=0))),new i(d,c)},i.from=function(l){if(typeof l=="number")return i.fromNumber(l);if(t.isString(l))if(t.Long)l=t.Long.fromString(l);else return i.fromNumber(parseInt(l,10));return l.low||l.high?new i(l.low>>>0,l.high>>>0):r},i.prototype.toNumber=function(l){if(!l&&this.hi>>>31){var o=~this.lo+1>>>0,d=~this.hi>>>0;return o||(d=d+1>>>0),-(o+d*4294967296)}return this.lo+this.hi*4294967296},i.prototype.toLong=function(l){return t.Long?new t.Long(this.lo|0,this.hi|0,!!l):{low:this.lo|0,high:this.hi|0,unsigned:!!l}};var a=String.prototype.charCodeAt;return i.fromHash=function(l){return l===s?r:new i((a.call(l,0)|a.call(l,1)<<8|a.call(l,2)<<16|a.call(l,3)<<24)>>>0,(a.call(l,4)|a.call(l,5)<<8|a.call(l,6)<<16|a.call(l,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var l=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^l)>>>0,this.lo=(this.lo<<1^l)>>>0,this},i.prototype.zzDecode=function(){var l=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^l)>>>0,this.hi=(this.hi>>>1^l)>>>0,this},i.prototype.length=function(){var l=this.lo,o=(this.lo>>>28|this.hi<<4)>>>0,d=this.hi>>>24;return d===0?o===0?l<16384?l<128?1:2:l<2097152?3:4:o<16384?o<128?5:6:o<2097152?7:8:d<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,function(t){var i=t;i.asPromise=requireAspromise(),i.base64=requireBase64(),i.EventEmitter=requireEventemitter(),i.float=requireFloat(),i.inquire=requireInquire(),i.utf8=requireUtf8(),i.pool=requirePool(),i.LongBits=requireLongbits(),i.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),i.global=i.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal$1,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n},i.isString=function(n){return typeof n=="string"||n instanceof String},i.isObject=function(n){return n&&typeof n=="object"},i.isset=i.isSet=function(n,l){var o=n[l];return o!=null&&n.hasOwnProperty(l)?typeof o!="object"||(Array.isArray(o)?o.length:Object.keys(o).length)>0:!1},i.Buffer=function(){try{var a=i.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(n){return typeof n=="number"?i.Buffer?i._Buffer_allocUnsafe(n):new i.Array(n):i.Buffer?i._Buffer_from(n):typeof Uint8Array>"u"?n:new Uint8Array(n)},i.Array=typeof Uint8Array<"u"?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(n){return n?i.LongBits.from(n).toHash():i.LongBits.zeroHash},i.longFromHash=function(n,l){var o=i.LongBits.fromHash(n);return i.Long?i.Long.fromBits(o.lo,o.hi,l):o.toNumber(!!l)};function r(a,n,l){for(var o=Object.keys(n),d=0;d<o.length;++d)(a[o[d]]===void 0||!l)&&(a[o[d]]=n[o[d]]);return a}i.merge=r,i.lcFirst=function(n){return n.charAt(0).toLowerCase()+n.substring(1)};function s(a){function n(l,o){if(!(this instanceof n))return new n(l,o);Object.defineProperty(this,"message",{get:function(){return l}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:new Error().stack||""}),o&&r(this,o)}return n.prototype=Object.create(Error.prototype,{constructor:{value:n,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return a},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),n}i.newError=s,i.ProtocolError=s("ProtocolError"),i.oneOfGetter=function(n){for(var l={},o=0;o<n.length;++o)l[n[o]]=1;return function(){for(var d=Object.keys(this),c=d.length-1;c>-1;--c)if(l[d[c]]===1&&this[d[c]]!==void 0&&this[d[c]]!==null)return d[c]}},i.oneOfSetter=function(n){return function(l){for(var o=0;o<n.length;++o)n[o]!==l&&delete this[n[o]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var a=i.Buffer;if(!a){i._Buffer_from=i._Buffer_allocUnsafe=null;return}i._Buffer_from=a.from!==Uint8Array.from&&a.from||function(l,o){return new a(l,o)},i._Buffer_allocUnsafe=a.allocUnsafe||function(l){return new a(l)}}}(minimal$1)),minimal$1}var writer$1,hasRequiredWriter$1;function requireWriter$1(){if(hasRequiredWriter$1)return writer$1;hasRequiredWriter$1=1,writer$1=d;var t=requireMinimal$1(),i,r=t.LongBits,s=t.base64,a=t.utf8;function n(g,v,w){this.fn=g,this.len=v,this.next=void 0,this.val=w}function l(){}function o(g){this.head=g.head,this.tail=g.tail,this.len=g.len,this.next=g.states}function d(){this.len=0,this.head=new n(l,0,0),this.tail=this.head,this.states=null}var c=function(){return t.Buffer?function(){return(d.create=function(){return new i})()}:function(){return new d}};d.create=c(),d.alloc=function(v){return new t.Array(v)},t.Array!==Array&&(d.alloc=t.pool(d.alloc,t.Array.prototype.subarray)),d.prototype._push=function(v,w,E){return this.tail=this.tail.next=new n(v,w,E),this.len+=w,this};function f(g,v,w){v[w]=g&255}function p(g,v,w){for(;g>127;)v[w++]=g&127|128,g>>>=7;v[w]=g}function _(g,v){this.len=g,this.next=void 0,this.val=v}_.prototype=Object.create(n.prototype),_.prototype.fn=p,d.prototype.uint32=function(v){return this.len+=(this.tail=this.tail.next=new _((v=v>>>0)<128?1:v<16384?2:v<2097152?3:v<268435456?4:5,v)).len,this},d.prototype.int32=function(v){return v<0?this._push(u,10,r.fromNumber(v)):this.uint32(v)},d.prototype.sint32=function(v){return this.uint32((v<<1^v>>31)>>>0)};function u(g,v,w){for(;g.hi;)v[w++]=g.lo&127|128,g.lo=(g.lo>>>7|g.hi<<25)>>>0,g.hi>>>=7;for(;g.lo>127;)v[w++]=g.lo&127|128,g.lo=g.lo>>>7;v[w++]=g.lo}d.prototype.uint64=function(v){var w=r.from(v);return this._push(u,w.length(),w)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(v){var w=r.from(v).zzEncode();return this._push(u,w.length(),w)},d.prototype.bool=function(v){return this._push(f,1,v?1:0)};function h(g,v,w){v[w]=g&255,v[w+1]=g>>>8&255,v[w+2]=g>>>16&255,v[w+3]=g>>>24}d.prototype.fixed32=function(v){return this._push(h,4,v>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(v){var w=r.from(v);return this._push(h,4,w.lo)._push(h,4,w.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(v){return this._push(t.float.writeFloatLE,4,v)},d.prototype.double=function(v){return this._push(t.float.writeDoubleLE,8,v)};var m=t.Array.prototype.set?function(v,w,E){w.set(v,E)}:function(v,w,E){for(var S=0;S<v.length;++S)w[E+S]=v[S]};return d.prototype.bytes=function(v){var w=v.length>>>0;if(!w)return this._push(f,1,0);if(t.isString(v)){var E=d.alloc(w=s.length(v));s.decode(v,E,0),v=E}return this.uint32(w)._push(m,w,v)},d.prototype.string=function(v){var w=a.length(v);return w?this.uint32(w)._push(a.write,w,v):this._push(f,1,0)},d.prototype.fork=function(){return this.states=new o(this),this.head=this.tail=new n(l,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new n(l,0,0),this.len=0),this},d.prototype.ldelim=function(){var v=this.head,w=this.tail,E=this.len;return this.reset().uint32(E),E&&(this.tail.next=v.next,this.tail=w,this.len+=E),this},d.prototype.finish=function(){for(var v=this.head.next,w=this.constructor.alloc(this.len),E=0;v;)v.fn(v.val,w,E),E+=v.len,v=v.next;return w},d._configure=function(g){i=g,d.create=c(),i._configure()},writer$1}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=r;var t=requireWriter$1();(r.prototype=Object.create(t.prototype)).constructor=r;var i=requireMinimal$1();function r(){t.call(this)}r._configure=function(){r.alloc=i._Buffer_allocUnsafe,r.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&i.Buffer.prototype.set.name==="set"?function(n,l,o){l.set(n,o)}:function(n,l,o){if(n.copy)n.copy(l,o,0,n.length);else for(var d=0;d<n.length;)l[o++]=n[d++]}},r.prototype.bytes=function(n){i.isString(n)&&(n=i._Buffer_from(n,"base64"));var l=n.length>>>0;return this.uint32(l),l&&this._push(r.writeBytesBuffer,l,n),this};function s(a,n,l){a.length<40?i.utf8.write(a,n,l):n.utf8Write?n.utf8Write(a,l):n.write(a,l)}return r.prototype.string=function(n){var l=i.Buffer.byteLength(n);return this.uint32(l),l&&this._push(s,l,n),this},r._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=n;var t=requireMinimal$1(),i,r=t.LongBits,s=t.utf8;function a(p,_){return RangeError("index out of range: "+p.pos+" + "+(_||1)+" > "+p.len)}function n(p){this.buf=p,this.pos=0,this.len=p.length}var l=typeof Uint8Array<"u"?function(_){if(_ instanceof Uint8Array||Array.isArray(_))return new n(_);throw Error("illegal buffer")}:function(_){if(Array.isArray(_))return new n(_);throw Error("illegal buffer")},o=function(){return t.Buffer?function(u){return(n.create=function(m){return t.Buffer.isBuffer(m)?new i(m):l(m)})(u)}:l};n.create=o(),n.prototype._slice=t.Array.prototype.subarray||t.Array.prototype.slice,n.prototype.uint32=function(){var _=4294967295;return function(){if(_=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(_=(_|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(_=(_|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(_=(_|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(_=(_|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return _;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return _}}(),n.prototype.int32=function(){return this.uint32()|0},n.prototype.sint32=function(){var _=this.uint32();return _>>>1^-(_&1)|0};function d(){var p=new r(0,0),_=0;if(this.len-this.pos>4){for(;_<4;++_)if(p.lo=(p.lo|(this.buf[this.pos]&127)<<_*7)>>>0,this.buf[this.pos++]<128)return p;if(p.lo=(p.lo|(this.buf[this.pos]&127)<<28)>>>0,p.hi=(p.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return p;_=0}else{for(;_<3;++_){if(this.pos>=this.len)throw a(this);if(p.lo=(p.lo|(this.buf[this.pos]&127)<<_*7)>>>0,this.buf[this.pos++]<128)return p}return p.lo=(p.lo|(this.buf[this.pos++]&127)<<_*7)>>>0,p}if(this.len-this.pos>4){for(;_<5;++_)if(p.hi=(p.hi|(this.buf[this.pos]&127)<<_*7+3)>>>0,this.buf[this.pos++]<128)return p}else for(;_<5;++_){if(this.pos>=this.len)throw a(this);if(p.hi=(p.hi|(this.buf[this.pos]&127)<<_*7+3)>>>0,this.buf[this.pos++]<128)return p}throw Error("invalid varint encoding")}n.prototype.bool=function(){return this.uint32()!==0};function c(p,_){return(p[_-4]|p[_-3]<<8|p[_-2]<<16|p[_-1]<<24)>>>0}n.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return c(this.buf,this.pos+=4)},n.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return c(this.buf,this.pos+=4)|0};function f(){if(this.pos+8>this.len)throw a(this,8);return new r(c(this.buf,this.pos+=4),c(this.buf,this.pos+=4))}return n.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var _=t.float.readFloatLE(this.buf,this.pos);return this.pos+=4,_},n.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var _=t.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,_},n.prototype.bytes=function(){var _=this.uint32(),u=this.pos,h=this.pos+_;if(h>this.len)throw a(this,_);if(this.pos+=_,Array.isArray(this.buf))return this.buf.slice(u,h);if(u===h){var m=t.Buffer;return m?m.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,u,h)},n.prototype.string=function(){var _=this.bytes();return s.read(_,0,_.length)},n.prototype.skip=function(_){if(typeof _=="number"){if(this.pos+_>this.len)throw a(this,_);this.pos+=_}else do if(this.pos>=this.len)throw a(this);while(this.buf[this.pos++]&128);return this},n.prototype.skipType=function(p){switch(p){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(p=this.uint32()&7)!==4;)this.skipType(p);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+p+" at offset "+this.pos)}return this},n._configure=function(p){i=p,n.create=o(),i._configure();var _=t.Long?"toLong":"toNumber";t.merge(n.prototype,{int64:function(){return d.call(this)[_](!1)},uint64:function(){return d.call(this)[_](!0)},sint64:function(){return d.call(this).zzDecode()[_](!1)},fixed64:function(){return f.call(this)[_](!0)},sfixed64:function(){return f.call(this)[_](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=r;var t=requireReader();(r.prototype=Object.create(t.prototype)).constructor=r;var i=requireMinimal$1();function r(s){t.call(this,s)}return r._configure=function(){i.Buffer&&(r.prototype._slice=i.Buffer.prototype.slice)},r.prototype.string=function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},r._configure(),reader_buffer}var rpc={},service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=i;var t=requireMinimal$1();(i.prototype=Object.create(t.EventEmitter.prototype)).constructor=i;function i(r,s,a){if(typeof r!="function")throw TypeError("rpcImpl must be a function");t.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=!!s,this.responseDelimited=!!a}return i.prototype.rpcCall=function r(s,a,n,l,o){if(!l)throw TypeError("request must be specified");var d=this;if(!o)return t.asPromise(r,d,s,a,n,l);if(!d.rpcImpl){setTimeout(function(){o(Error("already ended"))},0);return}try{return d.rpcImpl(s,a[d.requestDelimited?"encodeDelimited":"encode"](l).finish(),function(f,p){if(f)return d.emit("error",f,s),o(f);if(p===null){d.end(!0);return}if(!(p instanceof n))try{p=n[d.responseDelimited?"decodeDelimited":"decode"](p)}catch(_){return d.emit("error",_,s),o(_)}return d.emit("data",p,s),o(null,p)})}catch(c){d.emit("error",c,s),setTimeout(function(){o(c)},0);return}},i.prototype.end=function(s){return this.rpcImpl&&(s||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,function(t){var i=t;i.Service=requireService()}(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,function(t){var i=t;i.build="minimal",i.Writer=requireWriter$1(),i.BufferWriter=requireWriter_buffer(),i.Reader=requireReader(),i.BufferReader=requireReader_buffer(),i.util=requireMinimal$1(),i.rpc=requireRpc(),i.roots=requireRoots(),i.configure=r;function r(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}r()}(indexMinimal)),indexMinimal}var minimal,hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,minimal=requireIndexMinimal()),minimal}var minimalExports=requireMinimal(),ReceiveEvent=(t=>(t[t.EVENT_RECEIVER_ACCEPT=0]="EVENT_RECEIVER_ACCEPT",t[t.EVENT_RECEIVER_REJECT=1]="EVENT_RECEIVER_REJECT",t[t.EVENT_RECEIVED_CHUNK=2]="EVENT_RECEIVED_CHUNK",t[t.EVENT_VALIDATE_ERROR=3]="EVENT_VALIDATE_ERROR",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED",t))(ReceiveEvent||{});function receiveEventFromJSON(t){switch(t){case 0:case"EVENT_RECEIVER_ACCEPT":return 0;case 1:case"EVENT_RECEIVER_REJECT":return 1;case 2:case"EVENT_RECEIVED_CHUNK":return 2;case 3:case"EVENT_VALIDATE_ERROR":return 3;case-1:case"UNRECOGNIZED":default:return-1}}function receiveEventToJSON(t){switch(t){case 0:return"EVENT_RECEIVER_ACCEPT";case 1:return"EVENT_RECEIVER_REJECT";case 2:return"EVENT_RECEIVED_CHUNK";case 3:return"EVENT_VALIDATE_ERROR";case-1:default:return"UNRECOGNIZED"}}function createBaseMetaData(){return{name:"",size:0,type:"",key:new Uint8Array}}const MetaData={encode(t,i=minimalExports.Writer.create()){return t.name!==""&&i.uint32(10).string(t.name),t.size!==0&&i.uint32(16).int32(t.size),t.type!==""&&i.uint32(26).string(t.type),t.key.length!==0&&i.uint32(34).bytes(t.key),i},decode(t,i){const r=t instanceof minimalExports.Reader?t:minimalExports.Reader.create(t);let s=i===void 0?r.len:r.pos+i;const a=createBaseMetaData();for(;r.pos<s;){const n=r.uint32();switch(n>>>3){case 1:if(n!=10)break;a.name=r.string();continue;case 2:if(n!=16)break;a.size=r.int32();continue;case 3:if(n!=26)break;a.type=r.string();continue;case 4:if(n!=34)break;a.key=r.bytes();continue}if((n&7)==4||n==0)break;r.skipType(n&7)}return a},fromJSON(t){return{name:isSet(t.name)?String(t.name):"",size:isSet(t.size)?Number(t.size):0,type:isSet(t.type)?String(t.type):"",key:isSet(t.key)?bytesFromBase64(t.key):new Uint8Array}},toJSON(t){const i={};return t.name!==void 0&&(i.name=t.name),t.size!==void 0&&(i.size=Math.round(t.size)),t.type!==void 0&&(i.type=t.type),t.key!==void 0&&(i.key=base64FromBytes(t.key!==void 0?t.key:new Uint8Array)),i},create(t){return MetaData.fromPartial(t??{})},fromPartial(t){const i=createBaseMetaData();return i.name=t.name??"",i.size=t.size??0,i.type=t.type??"",i.key=t.key??new Uint8Array,i}};function createBaseMessage(){return{id:"",metaData:void 0,chunk:void 0,receiveEvent:void 0}}const Message={encode(t,i=minimalExports.Writer.create()){return t.id!==""&&i.uint32(10).string(t.id),t.metaData!==void 0&&MetaData.encode(t.metaData,i.uint32(18).fork()).ldelim(),t.chunk!==void 0&&i.uint32(26).bytes(t.chunk),t.receiveEvent!==void 0&&i.uint32(32).int32(t.receiveEvent),i},decode(t,i){const r=t instanceof minimalExports.Reader?t:minimalExports.Reader.create(t);let s=i===void 0?r.len:r.pos+i;const a=createBaseMessage();for(;r.pos<s;){const n=r.uint32();switch(n>>>3){case 1:if(n!=10)break;a.id=r.string();continue;case 2:if(n!=18)break;a.metaData=MetaData.decode(r,r.uint32());continue;case 3:if(n!=26)break;a.chunk=r.bytes();continue;case 4:if(n!=32)break;a.receiveEvent=r.int32();continue}if((n&7)==4||n==0)break;r.skipType(n&7)}return a},fromJSON(t){return{id:isSet(t.id)?String(t.id):"",metaData:isSet(t.metaData)?MetaData.fromJSON(t.metaData):void 0,chunk:isSet(t.chunk)?bytesFromBase64(t.chunk):void 0,receiveEvent:isSet(t.receiveEvent)?receiveEventFromJSON(t.receiveEvent):void 0}},toJSON(t){const i={};return t.id!==void 0&&(i.id=t.id),t.metaData!==void 0&&(i.metaData=t.metaData?MetaData.toJSON(t.metaData):void 0),t.chunk!==void 0&&(i.chunk=t.chunk!==void 0?base64FromBytes(t.chunk):void 0),t.receiveEvent!==void 0&&(i.receiveEvent=t.receiveEvent!==void 0?receiveEventToJSON(t.receiveEvent):void 0),i},create(t){return Message.fromPartial(t??{})},fromPartial(t){const i=createBaseMessage();return i.id=t.id??"",i.metaData=t.metaData!==void 0&&t.metaData!==null?MetaData.fromPartial(t.metaData):void 0,i.chunk=t.chunk??void 0,i.receiveEvent=t.receiveEvent??void 0,i}};var tsProtoGlobalThis=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw"Unable to locate global object"})();function bytesFromBase64(t){if(tsProtoGlobalThis.Buffer)return Uint8Array.from(tsProtoGlobalThis.Buffer.from(t,"base64"));{const i=tsProtoGlobalThis.atob(t),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}}function base64FromBytes(t){if(tsProtoGlobalThis.Buffer)return tsProtoGlobalThis.Buffer.from(t).toString("base64");{const i=[];return t.forEach(r=>{i.push(String.fromCharCode(r))}),tsProtoGlobalThis.btoa(i.join(""))}}function isSet(t){return t!=null}const linear=t=>t;function cubic_out(t){const i=t-1;return i*i*i+1}function fade(t,{delay:i=0,duration:r=400,easing:s=linear}={}){const a=+getComputedStyle(t).opacity;return{delay:i,duration:r,easing:s,css:n=>`opacity: ${n*a}`}}function slide(t,{delay:i=0,duration:r=400,easing:s=cubic_out,axis:a="y"}={}){const n=getComputedStyle(t),l=+n.opacity,o=a==="y"?"height":"width",d=parseFloat(n[o]),c=a==="y"?["top","bottom"]:["left","right"],f=c.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),p=parseFloat(n[`padding${f[0]}`]),_=parseFloat(n[`padding${f[1]}`]),u=parseFloat(n[`margin${f[0]}`]),h=parseFloat(n[`margin${f[1]}`]),m=parseFloat(n[`border${f[0]}Width`]),g=parseFloat(n[`border${f[1]}Width`]);return{delay:i,duration:r,easing:s,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*l};${o}: ${v*d}px;padding-${c[0]}: ${v*p}px;padding-${c[1]}: ${v*_}px;margin-${c[0]}: ${v*u}px;margin-${c[1]}: ${v*h}px;border-${c[0]}-width: ${v*m}px;border-${c[1]}-width: ${v*g}px;min-${o}: 0`}}function quintOut(t){return--t*t*t*t*t+1}function toggle(t,i,r){i()&&r(!r())}var root_1$7=template('<div><svg fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div>'),root_2$8=template('<div class="border-t border-base-300 bg-base-100"><div class="px-3 sm:px-4 md:px-6 py-3 sm:py-4 text-sm sm:text-base text-base-content/80 leading-relaxed"><div class="animate-in fade-in-0 slide-in-from-top-2 duration-300"><!></div></div></div>'),root$a=template('<div class="card bg-base-100 shadow-sm hover:shadow-md transition-shadow duration-200 border border-base-300"><button type="button"><div class="flex items-center justify-between gap-2 sm:gap-4"><h3><span class="truncate block"> </span></h3> <!></div></button> <!></div>');function Collapse(t,i){push(i,!0);let r=prop(i,"isOpen",15,!1),s=prop(i,"toggleable",3,!0);var a=root$a(),n=child(a);n.__click=[toggle,s,r];var l=child(n),o=child(l),d=child(o),c=child(d,!0);reset(d),reset(o);var f=sibling(o,2);{var p=h=>{var m=root_1$7(),g=child(m);reset(m),template_effect(()=>{set_class(m,1,`transform transition-transform duration-300 ease-out flex-shrink-0
                   ${r()?"rotate-180":"rotate-0"}`),set_class(g,0,`w-4 h-4 sm:w-5 sm:h-5 transition-colors duration-200
                     ${r()?"text-primary":"text-base-content/60"}`)}),append(h,m)};if_block(f,h=>{s()&&h(p)})}reset(l),reset(n);var _=sibling(n,2);{var u=h=>{var m=root_2$8(),g=child(m),v=child(g),w=child(v);snippet(w,()=>i.children??noop),reset(v),reset(g),reset(m),transition(3,m,()=>slide,()=>({duration:400,easing:quintOut})),append(h,m)};if_block(_,h=>{r()&&h(u)})}reset(a),template_effect(()=>{n.disabled=!s(),set_class(n,1,`w-full px-3 sm:px-4 md:px-6 py-3 sm:py-4 text-left transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-inset touch-manipulation rounded-t-2xl
           ${r()?"bg-primary/10 hover:bg-primary/20":"bg-base-200 hover:bg-base-300"}
           ${s()?"cursor-pointer":"cursor-default opacity-75"}
           disabled:cursor-not-allowed disabled:opacity-50`),set_class(o,1,`text-sm sm:text-base md:text-lg font-medium transition-colors duration-200 flex-1 min-w-0
               ${r()?"text-primary":"text-base-content"}`),set_text(c,i.title)}),append(t,a),pop()}delegate(["click"]);const rsaGenParams={name:"RSA-OAEP",modulusLength:1024,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},aesGenParams={name:"AES-GCM",length:256};async function generateRsaKeyPair(){return await crypto.subtle.generateKey(rsaGenParams,!0,["encrypt","decrypt"])}async function generateAesKey(){return await crypto.subtle.generateKey(aesGenParams,!0,["encrypt","decrypt"])}async function encryptAesGcmOptimized(t,i,r=16*1024*1024){const s=crypto.getRandomValues(new Uint8Array(12));if(i.byteLength>r){const a=new Uint8Array(i),n=[];let l=0;for(;l<a.byteLength;){const f=a.subarray(l,Math.min(l+r,a.byteLength)),p=await crypto.subtle.encrypt({name:aesGenParams.name,iv:s},t,f);n.push(new Uint8Array(p)),l+=r}const o=n.reduce((f,p)=>f+p.byteLength,0),d=new Uint8Array(s.length+o);d.set(s);let c=s.length;for(const f of n)d.set(f,c),c+=f.byteLength;return d}else{const a=await crypto.subtle.encrypt({name:aesGenParams.name,iv:s},t,i),n=new Uint8Array(a),l=new Uint8Array(s.length+n.length);return l.set(s),l.set(n,s.length),l}}async function encryptAesGcm(t,i){return encryptAesGcmOptimized(t,i)}async function encryptAesKeyWithRsaPublicKey(t,i){const r=await crypto.subtle.exportKey("raw",i),s=await crypto.subtle.encrypt({name:rsaGenParams.name},t,r);return new Uint8Array(s)}async function decryptAesKeyWithRsaPrivateKey(t,i){const r=await crypto.subtle.decrypt({name:"RSA-OAEP"},t,i);return await crypto.subtle.importKey("raw",r,{name:aesGenParams.name},!0,["encrypt","decrypt"])}async function decryptAesGcmOptimized(t,i,r=16*1024*1024){const s=i.slice(0,12),a=i.slice(12);if(a.byteLength>r){const n=await crypto.subtle.decrypt({name:aesGenParams.name,iv:s},t,a);return new Uint8Array(n)}else{const n=await crypto.subtle.decrypt({name:aesGenParams.name,iv:s},t,a);return new Uint8Array(n)}}async function decryptAesGcm(t,i){return decryptAesGcmOptimized(t,i)}function arrayBufferToBase64(t){if(t.byteLength>1024*1024){const i=[],r=new Uint8Array(t),s=1024*1024;for(let a=0;a<r.length;a+=s){const n=r.subarray(a,a+s),l=String.fromCharCode.apply(null,n);i.push(l)}return btoa(i.join(""))}else{const i=new Uint8Array(t),r=String.fromCharCode.apply(null,i);return btoa(r)}}async function exportRsaPublicKeyToBase64(t){const i=await crypto.subtle.exportKey("spki",t);return arrayBufferToBase64(i)}function base64ToArrayBuffer(t){const i=atob(t),r=new Uint8Array(i.length);for(let s=0;s<i.length;s++)r[s]=i.charCodeAt(s);return r.buffer}async function importRsaPublicKeyFromBase64(t){const i=base64ToArrayBuffer(t);return await crypto.subtle.importKey("spki",i,rsaGenParams,!0,["encrypt"])}const DefaultOptions={compress:!0,replaceFieldNames:!0,sdpVersion:0,sessionName:"-",origin:{username:"-",sessionId:"4109260023080860376",netType:"IN",addrtype:"IP4",unicastAddress:"127.0.0.1"},timing:"0 0",extmapAllowMixed:!0,msidSemantic:"WMS",mediaOptions:{removeMediaID:!0,removeSetup:!0,replaceCandidateString:!0,replaceMediaString:!0,forceTrickle:!0,compressFingerprint:!0,compressConnection:!0}};function mergeOptions(t={}){return Object.assign(Object.assign(Object.assign({},DefaultOptions),t),{origin:Object.assign(Object.assign({},DefaultOptions.origin),t.origin),mediaOptions:Object.assign(Object.assign({},DefaultOptions.mediaOptions),t.mediaOptions)})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(t){let i=t.length;for(;--i>=0;)t[i]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(t,i,r,s,a){this.static_tree=t,this.extra_bits=i,this.extra_base=r,this.elems=s,this.max_length=a,this.has_stree=t&&t.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(t,i){this.dyn_tree=t,this.max_code=0,this.stat_desc=i}const d_code=t=>t<256?_dist_code[t]:_dist_code[256+(t>>>7)],put_short=(t,i)=>{t.pending_buf[t.pending++]=i&255,t.pending_buf[t.pending++]=i>>>8&255},send_bits=(t,i,r)=>{t.bi_valid>Buf_size-r?(t.bi_buf|=i<<t.bi_valid&65535,put_short(t,t.bi_buf),t.bi_buf=i>>Buf_size-t.bi_valid,t.bi_valid+=r-Buf_size):(t.bi_buf|=i<<t.bi_valid&65535,t.bi_valid+=r)},send_code=(t,i,r)=>{send_bits(t,r[i*2],r[i*2+1])},bi_reverse=(t,i)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--i>0);return r>>>1},bi_flush=t=>{t.bi_valid===16?(put_short(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},gen_bitlen=(t,i)=>{const r=i.dyn_tree,s=i.max_code,a=i.stat_desc.static_tree,n=i.stat_desc.has_stree,l=i.stat_desc.extra_bits,o=i.stat_desc.extra_base,d=i.stat_desc.max_length;let c,f,p,_,u,h,m=0;for(_=0;_<=MAX_BITS$1;_++)t.bl_count[_]=0;for(r[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<HEAP_SIZE$1;c++)f=t.heap[c],_=r[r[f*2+1]*2+1]+1,_>d&&(_=d,m++),r[f*2+1]=_,!(f>s)&&(t.bl_count[_]++,u=0,f>=o&&(u=l[f-o]),h=r[f*2],t.opt_len+=h*(_+u),n&&(t.static_len+=h*(a[f*2+1]+u)));if(m!==0){do{for(_=d-1;t.bl_count[_]===0;)_--;t.bl_count[_]--,t.bl_count[_+1]+=2,t.bl_count[d]--,m-=2}while(m>0);for(_=d;_!==0;_--)for(f=t.bl_count[_];f!==0;)p=t.heap[--c],!(p>s)&&(r[p*2+1]!==_&&(t.opt_len+=(_-r[p*2+1])*r[p*2],r[p*2+1]=_),f--)}},gen_codes=(t,i,r)=>{const s=new Array(MAX_BITS$1+1);let a=0,n,l;for(n=1;n<=MAX_BITS$1;n++)a=a+r[n-1]<<1,s[n]=a;for(l=0;l<=i;l++){let o=t[l*2+1];o!==0&&(t[l*2]=bi_reverse(s[o]++,o))}},tr_static_init=()=>{let t,i,r,s,a;const n=new Array(MAX_BITS$1+1);for(r=0,s=0;s<LENGTH_CODES$1-1;s++)for(base_length[s]=r,t=0;t<1<<extra_lbits[s];t++)_length_code[r++]=s;for(_length_code[r-1]=s,a=0,s=0;s<16;s++)for(base_dist[s]=a,t=0;t<1<<extra_dbits[s];t++)_dist_code[a++]=s;for(a>>=7;s<D_CODES$1;s++)for(base_dist[s]=a<<7,t=0;t<1<<extra_dbits[s]-7;t++)_dist_code[256+a++]=s;for(i=0;i<=MAX_BITS$1;i++)n[i]=0;for(t=0;t<=143;)static_ltree[t*2+1]=8,t++,n[8]++;for(;t<=255;)static_ltree[t*2+1]=9,t++,n[9]++;for(;t<=279;)static_ltree[t*2+1]=7,t++,n[7]++;for(;t<=287;)static_ltree[t*2+1]=8,t++,n[8]++;for(gen_codes(static_ltree,L_CODES$1+1,n),t=0;t<D_CODES$1;t++)static_dtree[t*2+1]=5,static_dtree[t*2]=bi_reverse(t,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=t=>{let i;for(i=0;i<L_CODES$1;i++)t.dyn_ltree[i*2]=0;for(i=0;i<D_CODES$1;i++)t.dyn_dtree[i*2]=0;for(i=0;i<BL_CODES$1;i++)t.bl_tree[i*2]=0;t.dyn_ltree[END_BLOCK*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},bi_windup=t=>{t.bi_valid>8?put_short(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},smaller=(t,i,r,s)=>{const a=i*2,n=r*2;return t[a]<t[n]||t[a]===t[n]&&s[i]<=s[r]},pqdownheap=(t,i,r)=>{const s=t.heap[r];let a=r<<1;for(;a<=t.heap_len&&(a<t.heap_len&&smaller(i,t.heap[a+1],t.heap[a],t.depth)&&a++,!smaller(i,s,t.heap[a],t.depth));)t.heap[r]=t.heap[a],r=a,a<<=1;t.heap[r]=s},compress_block=(t,i,r)=>{let s,a,n=0,l,o;if(t.sym_next!==0)do s=t.pending_buf[t.sym_buf+n++]&255,s+=(t.pending_buf[t.sym_buf+n++]&255)<<8,a=t.pending_buf[t.sym_buf+n++],s===0?send_code(t,a,i):(l=_length_code[a],send_code(t,l+LITERALS$1+1,i),o=extra_lbits[l],o!==0&&(a-=base_length[l],send_bits(t,a,o)),s--,l=d_code(s),send_code(t,l,r),o=extra_dbits[l],o!==0&&(s-=base_dist[l],send_bits(t,s,o)));while(n<t.sym_next);send_code(t,END_BLOCK,i)},build_tree=(t,i)=>{const r=i.dyn_tree,s=i.stat_desc.static_tree,a=i.stat_desc.has_stree,n=i.stat_desc.elems;let l,o,d=-1,c;for(t.heap_len=0,t.heap_max=HEAP_SIZE$1,l=0;l<n;l++)r[l*2]!==0?(t.heap[++t.heap_len]=d=l,t.depth[l]=0):r[l*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=d<2?++d:0,r[c*2]=1,t.depth[c]=0,t.opt_len--,a&&(t.static_len-=s[c*2+1]);for(i.max_code=d,l=t.heap_len>>1;l>=1;l--)pqdownheap(t,r,l);c=n;do l=t.heap[1],t.heap[1]=t.heap[t.heap_len--],pqdownheap(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=l,t.heap[--t.heap_max]=o,r[c*2]=r[l*2]+r[o*2],t.depth[c]=(t.depth[l]>=t.depth[o]?t.depth[l]:t.depth[o])+1,r[l*2+1]=r[o*2+1]=c,t.heap[1]=c++,pqdownheap(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],gen_bitlen(t,i),gen_codes(r,d,t.bl_count)},scan_tree=(t,i,r)=>{let s,a=-1,n,l=i[0*2+1],o=0,d=7,c=4;for(l===0&&(d=138,c=3),i[(r+1)*2+1]=65535,s=0;s<=r;s++)n=l,l=i[(s+1)*2+1],!(++o<d&&n===l)&&(o<c?t.bl_tree[n*2]+=o:n!==0?(n!==a&&t.bl_tree[n*2]++,t.bl_tree[REP_3_6*2]++):o<=10?t.bl_tree[REPZ_3_10*2]++:t.bl_tree[REPZ_11_138*2]++,o=0,a=n,l===0?(d=138,c=3):n===l?(d=6,c=3):(d=7,c=4))},send_tree=(t,i,r)=>{let s,a=-1,n,l=i[0*2+1],o=0,d=7,c=4;for(l===0&&(d=138,c=3),s=0;s<=r;s++)if(n=l,l=i[(s+1)*2+1],!(++o<d&&n===l)){if(o<c)do send_code(t,n,t.bl_tree);while(--o!==0);else n!==0?(n!==a&&(send_code(t,n,t.bl_tree),o--),send_code(t,REP_3_6,t.bl_tree),send_bits(t,o-3,2)):o<=10?(send_code(t,REPZ_3_10,t.bl_tree),send_bits(t,o-3,3)):(send_code(t,REPZ_11_138,t.bl_tree),send_bits(t,o-11,7));o=0,a=n,l===0?(d=138,c=3):n===l?(d=6,c=3):(d=7,c=4)}},build_bl_tree=t=>{let i;for(scan_tree(t,t.dyn_ltree,t.l_desc.max_code),scan_tree(t,t.dyn_dtree,t.d_desc.max_code),build_tree(t,t.bl_desc),i=BL_CODES$1-1;i>=3&&t.bl_tree[bl_order[i]*2+1]===0;i--);return t.opt_len+=3*(i+1)+5+5+4,i},send_all_trees=(t,i,r,s)=>{let a;for(send_bits(t,i-257,5),send_bits(t,r-1,5),send_bits(t,s-4,4),a=0;a<s;a++)send_bits(t,t.bl_tree[bl_order[a]*2+1],3);send_tree(t,t.dyn_ltree,i-1),send_tree(t,t.dyn_dtree,r-1)},detect_data_type=t=>{let i=4093624447,r;for(r=0;r<=31;r++,i>>>=1)if(i&1&&t.dyn_ltree[r*2]!==0)return Z_BINARY;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Z_TEXT;for(r=32;r<LITERALS$1;r++)if(t.dyn_ltree[r*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=t=>{static_init_done||(tr_static_init(),static_init_done=!0),t.l_desc=new TreeDesc(t.dyn_ltree,static_l_desc),t.d_desc=new TreeDesc(t.dyn_dtree,static_d_desc),t.bl_desc=new TreeDesc(t.bl_tree,static_bl_desc),t.bi_buf=0,t.bi_valid=0,init_block(t)},_tr_stored_block$1=(t,i,r,s)=>{send_bits(t,(STORED_BLOCK<<1)+(s?1:0),3),bi_windup(t),put_short(t,r),put_short(t,~r),r&&t.pending_buf.set(t.window.subarray(i,i+r),t.pending),t.pending+=r},_tr_align$1=t=>{send_bits(t,STATIC_TREES<<1,3),send_code(t,END_BLOCK,static_ltree),bi_flush(t)},_tr_flush_block$1=(t,i,r,s)=>{let a,n,l=0;t.level>0?(t.strm.data_type===Z_UNKNOWN$1&&(t.strm.data_type=detect_data_type(t)),build_tree(t,t.l_desc),build_tree(t,t.d_desc),l=build_bl_tree(t),a=t.opt_len+3+7>>>3,n=t.static_len+3+7>>>3,n<=a&&(a=n)):a=n=r+5,r+4<=a&&i!==-1?_tr_stored_block$1(t,i,r,s):t.strategy===Z_FIXED$1||n===a?(send_bits(t,(STATIC_TREES<<1)+(s?1:0),3),compress_block(t,static_ltree,static_dtree)):(send_bits(t,(DYN_TREES<<1)+(s?1:0),3),send_all_trees(t,t.l_desc.max_code+1,t.d_desc.max_code+1,l+1),compress_block(t,t.dyn_ltree,t.dyn_dtree)),init_block(t),s&&bi_windup(t)},_tr_tally$1=(t,i,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=i,t.pending_buf[t.sym_buf+t.sym_next++]=i>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,i===0?t.dyn_ltree[r*2]++:(t.matches++,i--,t.dyn_ltree[(_length_code[r]+LITERALS$1+1)*2]++,t.dyn_dtree[d_code(i)*2]++),t.sym_next===t.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(t,i,r,s)=>{let a=t&65535|0,n=t>>>16&65535|0,l=0;for(;r!==0;){l=r>2e3?2e3:r,r-=l;do a=a+i[s++]|0,n=n+a|0;while(--l);a%=65521,n%=65521}return a|n<<16|0};var adler32_1=adler32;const makeTable=()=>{let t,i=[];for(var r=0;r<256;r++){t=r;for(var s=0;s<8;s++)t=t&1?3988292384^t>>>1:t>>>1;i[r]=t}return i},crcTable=new Uint32Array(makeTable()),crc32=(t,i,r,s)=>{const a=crcTable,n=s+r;t^=-1;for(let l=s;l<n;l++)t=t>>>8^a[(t^i[l])&255];return t^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(t,i)=>(t.msg=messages[i],i),rank=t=>t*2-(t>4?9:0),zero=t=>{let i=t.length;for(;--i>=0;)t[i]=0},slide_hash=t=>{let i,r,s,a=t.w_size;i=t.hash_size,s=i;do r=t.head[--s],t.head[s]=r>=a?r-a:0;while(--i);i=a,s=i;do r=t.prev[--s],t.prev[s]=r>=a?r-a:0;while(--i)};let HASH_ZLIB=(t,i,r)=>(i<<t.hash_shift^r)&t.hash_mask,HASH=HASH_ZLIB;const flush_pending=t=>{const i=t.state;let r=i.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(i.pending_buf.subarray(i.pending_out,i.pending_out+r),t.next_out),t.next_out+=r,i.pending_out+=r,t.total_out+=r,t.avail_out-=r,i.pending-=r,i.pending===0&&(i.pending_out=0))},flush_block_only=(t,i)=>{_tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,i),t.block_start=t.strstart,flush_pending(t.strm)},put_byte=(t,i)=>{t.pending_buf[t.pending++]=i},putShortMSB=(t,i)=>{t.pending_buf[t.pending++]=i>>>8&255,t.pending_buf[t.pending++]=i&255},read_buf=(t,i,r,s)=>{let a=t.avail_in;return a>s&&(a=s),a===0?0:(t.avail_in-=a,i.set(t.input.subarray(t.next_in,t.next_in+a),r),t.state.wrap===1?t.adler=adler32_1(t.adler,i,a,r):t.state.wrap===2&&(t.adler=crc32_1(t.adler,i,a,r)),t.next_in+=a,t.total_in+=a,a)},longest_match=(t,i)=>{let r=t.max_chain_length,s=t.strstart,a,n,l=t.prev_length,o=t.nice_match;const d=t.strstart>t.w_size-MIN_LOOKAHEAD?t.strstart-(t.w_size-MIN_LOOKAHEAD):0,c=t.window,f=t.w_mask,p=t.prev,_=t.strstart+MAX_MATCH;let u=c[s+l-1],h=c[s+l];t.prev_length>=t.good_match&&(r>>=2),o>t.lookahead&&(o=t.lookahead);do if(a=i,!(c[a+l]!==h||c[a+l-1]!==u||c[a]!==c[s]||c[++a]!==c[s+1])){s+=2,a++;do;while(c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&c[++s]===c[++a]&&s<_);if(n=MAX_MATCH-(_-s),s=_-MAX_MATCH,n>l){if(t.match_start=i,l=n,n>=o)break;u=c[s+l-1],h=c[s+l]}}while((i=p[i&f])>d&&--r!==0);return l<=t.lookahead?l:t.lookahead},fill_window=t=>{const i=t.w_size;let r,s,a;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=i+(i-MIN_LOOKAHEAD)&&(t.window.set(t.window.subarray(i,i+i-s),0),t.match_start-=i,t.strstart-=i,t.block_start-=i,t.insert>t.strstart&&(t.insert=t.strstart),slide_hash(t),s+=i),t.strm.avail_in===0)break;if(r=read_buf(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=r,t.lookahead+t.insert>=MIN_MATCH)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=HASH(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=HASH(t,t.ins_h,t.window[a+MIN_MATCH-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<MIN_MATCH)););}while(t.lookahead<MIN_LOOKAHEAD&&t.strm.avail_in!==0)},deflate_stored=(t,i)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,s,a,n,l=0,o=t.strm.avail_in;do{if(s=65535,n=t.bi_valid+42>>3,t.strm.avail_out<n||(n=t.strm.avail_out-n,a=t.strstart-t.block_start,s>a+t.strm.avail_in&&(s=a+t.strm.avail_in),s>n&&(s=n),s<r&&(s===0&&i!==Z_FINISH$3||i===Z_NO_FLUSH$2||s!==a+t.strm.avail_in)))break;l=i===Z_FINISH$3&&s===a+t.strm.avail_in?1:0,_tr_stored_block(t,0,0,l),t.pending_buf[t.pending-4]=s,t.pending_buf[t.pending-3]=s>>8,t.pending_buf[t.pending-2]=~s,t.pending_buf[t.pending-1]=~s>>8,flush_pending(t.strm),a&&(a>s&&(a=s),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+a),t.strm.next_out),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a,t.block_start+=a,s-=a),s&&(read_buf(t.strm,t.strm.output,t.strm.next_out,s),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s)}while(l===0);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),l?BS_FINISH_DONE:i!==Z_NO_FLUSH$2&&i!==Z_FINISH$3&&t.strm.avail_in===0&&t.strstart===t.block_start?BS_BLOCK_DONE:(n=t.window_size-t.strstart,t.strm.avail_in>n&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,n+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),n>t.strm.avail_in&&(n=t.strm.avail_in),n&&(read_buf(t.strm,t.window,t.strstart,n),t.strstart+=n,t.insert+=n>t.w_size-t.insert?t.w_size-t.insert:n),t.high_water<t.strstart&&(t.high_water=t.strstart),n=t.bi_valid+42>>3,n=t.pending_buf_size-n>65535?65535:t.pending_buf_size-n,r=n>t.w_size?t.w_size:n,a=t.strstart-t.block_start,(a>=r||(a||i===Z_FINISH$3)&&i!==Z_NO_FLUSH$2&&t.strm.avail_in===0&&a<=n)&&(s=a>n?n:a,l=i===Z_FINISH$3&&t.strm.avail_in===0&&s===a?1:0,_tr_stored_block(t,t.block_start,s,l),t.block_start+=s,flush_pending(t.strm)),l?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(t,i)=>{let r,s;for(;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&i===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(r=0,t.lookahead>=MIN_MATCH&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,r)),t.match_length>=MIN_MATCH)if(s=_tr_tally(t,t.strstart-t.match_start,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=MIN_MATCH){t.match_length--;do t.strstart++,t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+1]);else s=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(s&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,i===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(t,i)=>{let r,s,a;for(;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&i===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(r=0,t.lookahead>=MIN_MATCH&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=MIN_MATCH-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,r),t.match_length<=5&&(t.strategy===Z_FILTERED||t.match_length===MIN_MATCH&&t.strstart-t.match_start>4096)&&(t.match_length=MIN_MATCH-1)),t.prev_length>=MIN_MATCH&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-MIN_MATCH,s=_tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-MIN_MATCH),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=a&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=MIN_MATCH-1,t.strstart++,s&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}else if(t.match_available){if(s=_tr_tally(t,0,t.window[t.strstart-1]),s&&flush_block_only(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return BS_NEED_MORE}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(s=_tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,i===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(t,i)=>{let r,s,a,n;const l=t.window;for(;;){if(t.lookahead<=MAX_MATCH){if(fill_window(t),t.lookahead<=MAX_MATCH&&i===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=MIN_MATCH&&t.strstart>0&&(a=t.strstart-1,s=l[a],s===l[++a]&&s===l[++a]&&s===l[++a])){n=t.strstart+MAX_MATCH;do;while(s===l[++a]&&s===l[++a]&&s===l[++a]&&s===l[++a]&&s===l[++a]&&s===l[++a]&&s===l[++a]&&s===l[++a]&&a<n);t.match_length=MAX_MATCH-(n-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=MIN_MATCH?(r=_tr_tally(t,1,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,i===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(t,i)=>{let r;for(;;){if(t.lookahead===0&&(fill_window(t),t.lookahead===0)){if(i===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(t.match_length=0,r=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,i===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(t,i,r,s,a){this.good_length=t,this.max_lazy=i,this.nice_length=r,this.max_chain=s,this.func=a}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=t=>{t.window_size=2*t.w_size,zero(t.head),t.max_lazy_match=configuration_table[t.level].max_lazy,t.good_match=configuration_table[t.level].good_length,t.nice_match=configuration_table[t.level].nice_length,t.max_chain_length=configuration_table[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=MIN_MATCH-1,t.match_available=0,t.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=t=>{if(!t)return 1;const i=t.state;return!i||i.strm!==t||i.status!==INIT_STATE&&i.status!==GZIP_STATE&&i.status!==EXTRA_STATE&&i.status!==NAME_STATE&&i.status!==COMMENT_STATE&&i.status!==HCRC_STATE&&i.status!==BUSY_STATE&&i.status!==FINISH_STATE?1:0},deflateResetKeep=t=>{if(deflateStateCheck(t))return err(t,Z_STREAM_ERROR$2);t.total_in=t.total_out=0,t.data_type=Z_UNKNOWN;const i=t.state;return i.pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap===2?GZIP_STATE:i.wrap?INIT_STATE:BUSY_STATE,t.adler=i.wrap===2?0:1,i.last_flush=-2,_tr_init(i),Z_OK$3},deflateReset=t=>{const i=deflateResetKeep(t);return i===Z_OK$3&&lm_init(t.state),i},deflateSetHeader=(t,i)=>deflateStateCheck(t)||t.state.wrap!==2?Z_STREAM_ERROR$2:(t.state.gzhead=i,Z_OK$3),deflateInit2=(t,i,r,s,a,n)=>{if(!t)return Z_STREAM_ERROR$2;let l=1;if(i===Z_DEFAULT_COMPRESSION$1&&(i=6),s<0?(l=0,s=-s):s>15&&(l=2,s-=16),a<1||a>MAX_MEM_LEVEL||r!==Z_DEFLATED$2||s<8||s>15||i<0||i>9||n<0||n>Z_FIXED||s===8&&l!==1)return err(t,Z_STREAM_ERROR$2);s===8&&(s=9);const o=new DeflateState;return t.state=o,o.strm=t,o.status=INIT_STATE,o.wrap=l,o.gzhead=null,o.w_bits=s,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+MIN_MATCH-1)/MIN_MATCH),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=i,o.strategy=n,o.method=r,deflateReset(t)},deflateInit=(t,i)=>deflateInit2(t,i,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(t,i)=>{if(deflateStateCheck(t)||i>Z_BLOCK$1||i<0)return t?err(t,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===FINISH_STATE&&i!==Z_FINISH$3)return err(t,t.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const s=r.last_flush;if(r.last_flush=i,r.pending!==0){if(flush_pending(t),t.avail_out===0)return r.last_flush=-1,Z_OK$3}else if(t.avail_in===0&&rank(i)<=rank(s)&&i!==Z_FINISH$3)return err(t,Z_BUF_ERROR$1);if(r.status===FINISH_STATE&&t.avail_in!==0)return err(t,Z_BUF_ERROR$1);if(r.status===INIT_STATE&&r.wrap===0&&(r.status=BUSY_STATE),r.status===INIT_STATE){let a=Z_DEFLATED$2+(r.w_bits-8<<4)<<8,n=-1;if(r.strategy>=Z_HUFFMAN_ONLY||r.level<2?n=0:r.level<6?n=1:r.level===6?n=2:n=3,a|=n<<6,r.strstart!==0&&(a|=PRESET_DICT),a+=31-a%31,putShortMSB(r,a),r.strstart!==0&&(putShortMSB(r,t.adler>>>16),putShortMSB(r,t.adler&65535)),t.adler=1,r.status=BUSY_STATE,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(r.status===GZIP_STATE){if(t.adler=0,put_byte(r,31),put_byte(r,139),put_byte(r,8),r.gzhead)put_byte(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),put_byte(r,r.gzhead.time&255),put_byte(r,r.gzhead.time>>8&255),put_byte(r,r.gzhead.time>>16&255),put_byte(r,r.gzhead.time>>24&255),put_byte(r,r.level===9?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(put_byte(r,r.gzhead.extra.length&255),put_byte(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=EXTRA_STATE;else if(put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,r.level===9?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,OS_CODE),r.status=BUSY_STATE,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(r.status===EXTRA_STATE){if(r.gzhead.extra){let a=r.pending,n=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>a&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex+=o,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3;a=0,n-=o}let l=new Uint8Array(r.gzhead.extra);r.pending_buf.set(l.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>a&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=NAME_STATE}if(r.status===NAME_STATE){if(r.gzhead.name){let a=r.pending,n;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-a,a)),flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3;a=0}r.gzindex<r.gzhead.name.length?n=r.gzhead.name.charCodeAt(r.gzindex++)&255:n=0,put_byte(r,n)}while(n!==0);r.gzhead.hcrc&&r.pending>a&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=COMMENT_STATE}if(r.status===COMMENT_STATE){if(r.gzhead.comment){let a=r.pending,n;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-a,a)),flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3;a=0}r.gzindex<r.gzhead.comment.length?n=r.gzhead.comment.charCodeAt(r.gzindex++)&255:n=0,put_byte(r,n)}while(n!==0);r.gzhead.hcrc&&r.pending>a&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-a,a))}r.status=HCRC_STATE}if(r.status===HCRC_STATE){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(flush_pending(t),r.pending!==0))return r.last_flush=-1,Z_OK$3;put_byte(r,t.adler&255),put_byte(r,t.adler>>8&255),t.adler=0}if(r.status=BUSY_STATE,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(t.avail_in!==0||r.lookahead!==0||i!==Z_NO_FLUSH$2&&r.status!==FINISH_STATE){let a=r.level===0?deflate_stored(r,i):r.strategy===Z_HUFFMAN_ONLY?deflate_huff(r,i):r.strategy===Z_RLE?deflate_rle(r,i):configuration_table[r.level].func(r,i);if((a===BS_FINISH_STARTED||a===BS_FINISH_DONE)&&(r.status=FINISH_STATE),a===BS_NEED_MORE||a===BS_FINISH_STARTED)return t.avail_out===0&&(r.last_flush=-1),Z_OK$3;if(a===BS_BLOCK_DONE&&(i===Z_PARTIAL_FLUSH?_tr_align(r):i!==Z_BLOCK$1&&(_tr_stored_block(r,0,0,!1),i===Z_FULL_FLUSH$1&&(zero(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),flush_pending(t),t.avail_out===0))return r.last_flush=-1,Z_OK$3}return i!==Z_FINISH$3?Z_OK$3:r.wrap<=0?Z_STREAM_END$3:(r.wrap===2?(put_byte(r,t.adler&255),put_byte(r,t.adler>>8&255),put_byte(r,t.adler>>16&255),put_byte(r,t.adler>>24&255),put_byte(r,t.total_in&255),put_byte(r,t.total_in>>8&255),put_byte(r,t.total_in>>16&255),put_byte(r,t.total_in>>24&255)):(putShortMSB(r,t.adler>>>16),putShortMSB(r,t.adler&65535)),flush_pending(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=t=>{if(deflateStateCheck(t))return Z_STREAM_ERROR$2;const i=t.state.status;return t.state=null,i===BUSY_STATE?err(t,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(t,i)=>{let r=i.length;if(deflateStateCheck(t))return Z_STREAM_ERROR$2;const s=t.state,a=s.wrap;if(a===2||a===1&&s.status!==INIT_STATE||s.lookahead)return Z_STREAM_ERROR$2;if(a===1&&(t.adler=adler32_1(t.adler,i,r,0)),s.wrap=0,r>=s.w_size){a===0&&(zero(s.head),s.strstart=0,s.block_start=0,s.insert=0);let d=new Uint8Array(s.w_size);d.set(i.subarray(r-s.w_size,r),0),i=d,r=s.w_size}const n=t.avail_in,l=t.next_in,o=t.input;for(t.avail_in=r,t.next_in=0,t.input=i,fill_window(s);s.lookahead>=MIN_MATCH;){let d=s.strstart,c=s.lookahead-(MIN_MATCH-1);do s.ins_h=HASH(s,s.ins_h,s.window[d+MIN_MATCH-1]),s.prev[d&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=d,d++;while(--c);s.strstart=d,s.lookahead=MIN_MATCH-1,fill_window(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,t.next_in=l,t.input=o,t.avail_in=n,s.wrap=a,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(t,i)=>Object.prototype.hasOwnProperty.call(t,i);var assign=function(t){const i=Array.prototype.slice.call(arguments,1);for(;i.length;){const r=i.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const s in r)_has(r,s)&&(t[s]=r[s])}}return t},flattenChunks=t=>{let i=0;for(let s=0,a=t.length;s<a;s++)i+=t[s].length;const r=new Uint8Array(i);for(let s=0,a=0,n=t.length;s<n;s++){let l=t[s];r.set(l,a),a+=l.length}return r},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let t=0;t<256;t++)_utf8len[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let i,r,s,a,n,l=t.length,o=0;for(a=0;a<l;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<l&&(s=t.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(i=new Uint8Array(o),n=0,a=0;n<o;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<l&&(s=t.charCodeAt(a+1),(s&64512)===56320&&(r=65536+(r-55296<<10)+(s-56320),a++)),r<128?i[n++]=r:r<2048?(i[n++]=192|r>>>6,i[n++]=128|r&63):r<65536?(i[n++]=224|r>>>12,i[n++]=128|r>>>6&63,i[n++]=128|r&63):(i[n++]=240|r>>>18,i[n++]=128|r>>>12&63,i[n++]=128|r>>>6&63,i[n++]=128|r&63);return i};const buf2binstring=(t,i)=>{if(i<65534&&t.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,t.length===i?t:t.subarray(0,i));let r="";for(let s=0;s<i;s++)r+=String.fromCharCode(t[s]);return r};var buf2string=(t,i)=>{const r=i||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,i));let s,a;const n=new Array(r*2);for(a=0,s=0;s<r;){let l=t[s++];if(l<128){n[a++]=l;continue}let o=_utf8len[l];if(o>4){n[a++]=65533,s+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&s<r;)l=l<<6|t[s++]&63,o--;if(o>1){n[a++]=65533;continue}l<65536?n[a++]=l:(l-=65536,n[a++]=55296|l>>10&1023,n[a++]=56320|l&1023)}return buf2binstring(n,a)},utf8border=(t,i)=>{i=i||t.length,i>t.length&&(i=t.length);let r=i-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?i:r+_utf8len[t[r]]>i?r:i},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(t){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},t||{});let i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=deflate_1$2.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(r!==Z_OK$2)throw new Error(messages[r]);if(i.header&&deflate_1$2.deflateSetHeader(this.strm,i.header),i.dictionary){let s;if(typeof i.dictionary=="string"?s=strings.string2buf(i.dictionary):toString$1.call(i.dictionary)==="[object ArrayBuffer]"?s=new Uint8Array(i.dictionary):s=i.dictionary,r=deflate_1$2.deflateSetDictionary(this.strm,s),r!==Z_OK$2)throw new Error(messages[r]);this._dict_set=!0}}Deflate$1.prototype.push=function(t,i){const r=this.strm,s=this.options.chunkSize;let a,n;if(this.ended)return!1;for(i===~~i?n=i:n=i===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof t=="string"?r.input=strings.string2buf(t):toString$1.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),(n===Z_SYNC_FLUSH||n===Z_FULL_FLUSH)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(a=deflate_1$2.deflate(r,n),a===Z_STREAM_END$2)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=deflate_1$2.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===Z_OK$2;if(r.avail_out===0){this.onData(r.output);continue}if(n>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(t){this.chunks.push(t)};Deflate$1.prototype.onEnd=function(t){t===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function deflate$1(t,i){const r=new Deflate$1(i);if(r.push(t,!0),r.err)throw r.msg||messages[r.err];return r.result}var deflate_2=deflate$1,deflate_1$1={deflate:deflate_2};const BAD$1=16209,TYPE$1=16191;var inffast=function t(i,r){let s,a,n,l,o,d,c,f,p,_,u,h,m,g,v,w,E,S,x,I,R,D,C,M;const P=i.state;s=i.next_in,C=i.input,a=s+(i.avail_in-5),n=i.next_out,M=i.output,l=n-(r-i.avail_out),o=n+(i.avail_out-257),d=P.dmax,c=P.wsize,f=P.whave,p=P.wnext,_=P.window,u=P.hold,h=P.bits,m=P.lencode,g=P.distcode,v=(1<<P.lenbits)-1,w=(1<<P.distbits)-1;e:do{h<15&&(u+=C[s++]<<h,h+=8,u+=C[s++]<<h,h+=8),E=m[u&v];t:for(;;){if(S=E>>>24,u>>>=S,h-=S,S=E>>>16&255,S===0)M[n++]=E&65535;else if(S&16){x=E&65535,S&=15,S&&(h<S&&(u+=C[s++]<<h,h+=8),x+=u&(1<<S)-1,u>>>=S,h-=S),h<15&&(u+=C[s++]<<h,h+=8,u+=C[s++]<<h,h+=8),E=g[u&w];r:for(;;){if(S=E>>>24,u>>>=S,h-=S,S=E>>>16&255,S&16){if(I=E&65535,S&=15,h<S&&(u+=C[s++]<<h,h+=8,h<S&&(u+=C[s++]<<h,h+=8)),I+=u&(1<<S)-1,I>d){i.msg="invalid distance too far back",P.mode=BAD$1;break e}if(u>>>=S,h-=S,S=n-l,I>S){if(S=I-S,S>f&&P.sane){i.msg="invalid distance too far back",P.mode=BAD$1;break e}if(R=0,D=_,p===0){if(R+=c-S,S<x){x-=S;do M[n++]=_[R++];while(--S);R=n-I,D=M}}else if(p<S){if(R+=c+p-S,S-=p,S<x){x-=S;do M[n++]=_[R++];while(--S);if(R=0,p<x){S=p,x-=S;do M[n++]=_[R++];while(--S);R=n-I,D=M}}}else if(R+=p-S,S<x){x-=S;do M[n++]=_[R++];while(--S);R=n-I,D=M}for(;x>2;)M[n++]=D[R++],M[n++]=D[R++],M[n++]=D[R++],x-=3;x&&(M[n++]=D[R++],x>1&&(M[n++]=D[R++]))}else{R=n-I;do M[n++]=M[R++],M[n++]=M[R++],M[n++]=M[R++],x-=3;while(x>2);x&&(M[n++]=M[R++],x>1&&(M[n++]=M[R++]))}}else if((S&64)===0){E=g[(E&65535)+(u&(1<<S)-1)];continue r}else{i.msg="invalid distance code",P.mode=BAD$1;break e}break}}else if((S&64)===0){E=m[(E&65535)+(u&(1<<S)-1)];continue t}else if(S&32){P.mode=TYPE$1;break e}else{i.msg="invalid literal/length code",P.mode=BAD$1;break e}break}}while(s<a&&n<o);x=h>>3,s-=x,h-=x<<3,u&=(1<<h)-1,i.next_in=s,i.next_out=n,i.avail_in=s<a?5+(a-s):5-(s-a),i.avail_out=n<o?257+(o-n):257-(n-o),P.hold=u,P.bits=h};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(t,i,r,s,a,n,l,o)=>{const d=o.bits;let c=0,f=0,p=0,_=0,u=0,h=0,m=0,g=0,v=0,w=0,E,S,x,I,R,D=null,C;const M=new Uint16Array(MAXBITS+1),P=new Uint16Array(MAXBITS+1);let A=null,N,y,$;for(c=0;c<=MAXBITS;c++)M[c]=0;for(f=0;f<s;f++)M[i[r+f]]++;for(u=d,_=MAXBITS;_>=1&&M[_]===0;_--);if(u>_&&(u=_),_===0)return a[n++]=1<<24|64<<16|0,a[n++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<_&&M[p]===0;p++);for(u<p&&(u=p),g=1,c=1;c<=MAXBITS;c++)if(g<<=1,g-=M[c],g<0)return-1;if(g>0&&(t===CODES$1||_!==1))return-1;for(P[1]=0,c=1;c<MAXBITS;c++)P[c+1]=P[c]+M[c];for(f=0;f<s;f++)i[r+f]!==0&&(l[P[i[r+f]]++]=f);if(t===CODES$1?(D=A=l,C=20):t===LENS$1?(D=lbase,A=lext,C=257):(D=dbase,A=dext,C=0),w=0,f=0,c=p,R=n,h=u,m=0,x=-1,v=1<<u,I=v-1,t===LENS$1&&v>ENOUGH_LENS$1||t===DISTS$1&&v>ENOUGH_DISTS$1)return 1;for(;;){N=c-m,l[f]+1<C?(y=0,$=l[f]):l[f]>=C?(y=A[l[f]-C],$=D[l[f]-C]):(y=96,$=0),E=1<<c-m,S=1<<h,p=S;do S-=E,a[R+(w>>m)+S]=N<<24|y<<16|$|0;while(S!==0);for(E=1<<c-1;w&E;)E>>=1;if(E!==0?(w&=E-1,w+=E):w=0,f++,--M[c]===0){if(c===_)break;c=i[r+l[f]]}if(c>u&&(w&I)!==x){for(m===0&&(m=u),R+=p,h=c-m,g=1<<h;h+m<_&&(g-=M[h+m],!(g<=0));)h++,g<<=1;if(v+=1<<h,t===LENS$1&&v>ENOUGH_LENS$1||t===DISTS$1&&v>ENOUGH_DISTS$1)return 1;x=w&I,a[x]=u<<24|h<<16|R-n|0}}return w!==0&&(a[R+w]=c-m<<24|64<<16|0),o.bits=u,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=t=>{if(!t)return 1;const i=t.state;return!i||i.strm!==t||i.mode<HEAD||i.mode>SYNC?1:0},inflateResetKeep=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const i=t.state;return t.total_in=t.total_out=i.total=0,t.msg="",i.wrap&&(t.adler=i.wrap&1),i.mode=HEAD,i.last=0,i.havedict=0,i.flags=-1,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(ENOUGH_LENS),i.distcode=i.distdyn=new Int32Array(ENOUGH_DISTS),i.sane=1,i.back=-1,Z_OK$1},inflateReset=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const i=t.state;return i.wsize=0,i.whave=0,i.wnext=0,inflateResetKeep(t)},inflateReset2=(t,i)=>{let r;if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const s=t.state;return i<0?(r=0,i=-i):(r=(i>>4)+5,i<48&&(i&=15)),i&&(i<8||i>15)?Z_STREAM_ERROR$1:(s.window!==null&&s.wbits!==i&&(s.window=null),s.wrap=r,s.wbits=i,inflateReset(t))},inflateInit2=(t,i)=>{if(!t)return Z_STREAM_ERROR$1;const r=new InflateState;t.state=r,r.strm=t,r.window=null,r.mode=HEAD;const s=inflateReset2(t,i);return s!==Z_OK$1&&(t.state=null),s},inflateInit=t=>inflateInit2(t,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=t=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let i=0;for(;i<144;)t.lens[i++]=8;for(;i<256;)t.lens[i++]=9;for(;i<280;)t.lens[i++]=7;for(;i<288;)t.lens[i++]=8;for(inftrees(LENS,t.lens,0,288,lenfix,0,t.work,{bits:9}),i=0;i<32;)t.lens[i++]=5;inftrees(DISTS,t.lens,0,32,distfix,0,t.work,{bits:5}),virgin=!1}t.lencode=lenfix,t.lenbits=9,t.distcode=distfix,t.distbits=5},updatewindow=(t,i,r,s)=>{let a;const n=t.state;return n.window===null&&(n.wsize=1<<n.wbits,n.wnext=0,n.whave=0,n.window=new Uint8Array(n.wsize)),s>=n.wsize?(n.window.set(i.subarray(r-n.wsize,r),0),n.wnext=0,n.whave=n.wsize):(a=n.wsize-n.wnext,a>s&&(a=s),n.window.set(i.subarray(r-s,r-s+a),n.wnext),s-=a,s?(n.window.set(i.subarray(r-s,r),0),n.wnext=s,n.whave=n.wsize):(n.wnext+=a,n.wnext===n.wsize&&(n.wnext=0),n.whave<n.wsize&&(n.whave+=a))),0},inflate$2=(t,i)=>{let r,s,a,n,l,o,d,c,f,p,_,u,h,m,g=0,v,w,E,S,x,I,R,D;const C=new Uint8Array(4);let M,P;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(t)||!t.output||!t.input&&t.avail_in!==0)return Z_STREAM_ERROR$1;r=t.state,r.mode===TYPE&&(r.mode=TYPEDO),l=t.next_out,a=t.output,d=t.avail_out,n=t.next_in,s=t.input,o=t.avail_in,c=r.hold,f=r.bits,p=o,_=d,D=Z_OK$1;e:for(;;)switch(r.mode){case HEAD:if(r.wrap===0){r.mode=TYPEDO;break}for(;f<16;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,C[0]=c&255,C[1]=c>>>8&255,r.check=crc32_1(r.check,C,2,0),c=0,f=0,r.mode=FLAGS;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=BAD;break}if((c&15)!==Z_DEFLATED){t.msg="unknown compression method",r.mode=BAD;break}if(c>>>=4,f-=4,R=(c&15)+8,r.wbits===0&&(r.wbits=R),R>15||R>r.wbits){t.msg="invalid window size",r.mode=BAD;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?DICTID:TYPE,c=0,f=0;break;case FLAGS:for(;f<16;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}if(r.flags=c,(r.flags&255)!==Z_DEFLATED){t.msg="unknown compression method",r.mode=BAD;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=BAD;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=crc32_1(r.check,C,2,0)),c=0,f=0,r.mode=TIME;case TIME:for(;f<32;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,r.check=crc32_1(r.check,C,4,0)),c=0,f=0,r.mode=OS;case OS:for(;f<16;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=crc32_1(r.check,C,2,0)),c=0,f=0,r.mode=EXLEN;case EXLEN:if(r.flags&1024){for(;f<16;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=crc32_1(r.check,C,2,0)),c=0,f=0}else r.head&&(r.head.extra=null);r.mode=EXTRA;case EXTRA:if(r.flags&1024&&(u=r.length,u>o&&(u=o),u&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(s.subarray(n,n+u),R)),r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,s,u,n)),o-=u,n+=u,r.length-=u),r.length))break e;r.length=0,r.mode=NAME;case NAME:if(r.flags&2048){if(o===0)break e;u=0;do R=s[n+u++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R));while(R&&u<o);if(r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,s,u,n)),o-=u,n+=u,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=COMMENT;case COMMENT:if(r.flags&4096){if(o===0)break e;u=0;do R=s[n+u++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R));while(R&&u<o);if(r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,s,u,n)),o-=u,n+=u,R)break e}else r.head&&(r.head.comment=null);r.mode=HCRC;case HCRC:if(r.flags&512){for(;f<16;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=BAD;break}c=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=TYPE;break;case DICTID:for(;f<32;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}t.adler=r.check=zswap32(c),c=0,f=0,r.mode=DICT;case DICT:if(r.havedict===0)return t.next_out=l,t.avail_out=d,t.next_in=n,t.avail_in=o,r.hold=c,r.bits=f,Z_NEED_DICT$1;t.adler=r.check=1,r.mode=TYPE;case TYPE:if(i===Z_BLOCK||i===Z_TREES)break e;case TYPEDO:if(r.last){c>>>=f&7,f-=f&7,r.mode=CHECK;break}for(;f<3;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}switch(r.last=c&1,c>>>=1,f-=1,c&3){case 0:r.mode=STORED;break;case 1:if(fixedtables(r),r.mode=LEN_,i===Z_TREES){c>>>=2,f-=2;break e}break;case 2:r.mode=TABLE;break;case 3:t.msg="invalid block type",r.mode=BAD}c>>>=2,f-=2;break;case STORED:for(c>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=BAD;break}if(r.length=c&65535,c=0,f=0,r.mode=COPY_,i===Z_TREES)break e;case COPY_:r.mode=COPY;case COPY:if(u=r.length,u){if(u>o&&(u=o),u>d&&(u=d),u===0)break e;a.set(s.subarray(n,n+u),l),o-=u,n+=u,d-=u,l+=u,r.length-=u;break}r.mode=TYPE;break;case TABLE:for(;f<14;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}if(r.nlen=(c&31)+257,c>>>=5,f-=5,r.ndist=(c&31)+1,c>>>=5,f-=5,r.ncode=(c&15)+4,c>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=BAD;break}r.have=0,r.mode=LENLENS;case LENLENS:for(;r.have<r.ncode;){for(;f<3;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}r.lens[A[r.have++]]=c&7,c>>>=3,f-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,M={bits:r.lenbits},D=inftrees(CODES,r.lens,0,19,r.lencode,0,r.work,M),r.lenbits=M.bits,D){t.msg="invalid code lengths set",r.mode=BAD;break}r.have=0,r.mode=CODELENS;case CODELENS:for(;r.have<r.nlen+r.ndist;){for(;g=r.lencode[c&(1<<r.lenbits)-1],v=g>>>24,w=g>>>16&255,E=g&65535,!(v<=f);){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}if(E<16)c>>>=v,f-=v,r.lens[r.have++]=E;else{if(E===16){for(P=v+2;f<P;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}if(c>>>=v,f-=v,r.have===0){t.msg="invalid bit length repeat",r.mode=BAD;break}R=r.lens[r.have-1],u=3+(c&3),c>>>=2,f-=2}else if(E===17){for(P=v+3;f<P;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}c>>>=v,f-=v,R=0,u=3+(c&7),c>>>=3,f-=3}else{for(P=v+7;f<P;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}c>>>=v,f-=v,R=0,u=11+(c&127),c>>>=7,f-=7}if(r.have+u>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=BAD;break}for(;u--;)r.lens[r.have++]=R}}if(r.mode===BAD)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=BAD;break}if(r.lenbits=9,M={bits:r.lenbits},D=inftrees(LENS,r.lens,0,r.nlen,r.lencode,0,r.work,M),r.lenbits=M.bits,D){t.msg="invalid literal/lengths set",r.mode=BAD;break}if(r.distbits=6,r.distcode=r.distdyn,M={bits:r.distbits},D=inftrees(DISTS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,M),r.distbits=M.bits,D){t.msg="invalid distances set",r.mode=BAD;break}if(r.mode=LEN_,i===Z_TREES)break e;case LEN_:r.mode=LEN;case LEN:if(o>=6&&d>=258){t.next_out=l,t.avail_out=d,t.next_in=n,t.avail_in=o,r.hold=c,r.bits=f,inffast(t,_),l=t.next_out,a=t.output,d=t.avail_out,n=t.next_in,s=t.input,o=t.avail_in,c=r.hold,f=r.bits,r.mode===TYPE&&(r.back=-1);break}for(r.back=0;g=r.lencode[c&(1<<r.lenbits)-1],v=g>>>24,w=g>>>16&255,E=g&65535,!(v<=f);){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}if(w&&(w&240)===0){for(S=v,x=w,I=E;g=r.lencode[I+((c&(1<<S+x)-1)>>S)],v=g>>>24,w=g>>>16&255,E=g&65535,!(S+v<=f);){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}c>>>=S,f-=S,r.back+=S}if(c>>>=v,f-=v,r.back+=v,r.length=E,w===0){r.mode=LIT;break}if(w&32){r.back=-1,r.mode=TYPE;break}if(w&64){t.msg="invalid literal/length code",r.mode=BAD;break}r.extra=w&15,r.mode=LENEXT;case LENEXT:if(r.extra){for(P=r.extra;f<P;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=DIST;case DIST:for(;g=r.distcode[c&(1<<r.distbits)-1],v=g>>>24,w=g>>>16&255,E=g&65535,!(v<=f);){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}if((w&240)===0){for(S=v,x=w,I=E;g=r.distcode[I+((c&(1<<S+x)-1)>>S)],v=g>>>24,w=g>>>16&255,E=g&65535,!(S+v<=f);){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}c>>>=S,f-=S,r.back+=S}if(c>>>=v,f-=v,r.back+=v,w&64){t.msg="invalid distance code",r.mode=BAD;break}r.offset=E,r.extra=w&15,r.mode=DISTEXT;case DISTEXT:if(r.extra){for(P=r.extra;f<P;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=BAD;break}r.mode=MATCH;case MATCH:if(d===0)break e;if(u=_-d,r.offset>u){if(u=r.offset-u,u>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=BAD;break}u>r.wnext?(u-=r.wnext,h=r.wsize-u):h=r.wnext-u,u>r.length&&(u=r.length),m=r.window}else m=a,h=l-r.offset,u=r.length;u>d&&(u=d),d-=u,r.length-=u;do a[l++]=m[h++];while(--u);r.length===0&&(r.mode=LEN);break;case LIT:if(d===0)break e;a[l++]=r.length,d--,r.mode=LEN;break;case CHECK:if(r.wrap){for(;f<32;){if(o===0)break e;o--,c|=s[n++]<<f,f+=8}if(_-=d,t.total_out+=_,r.total+=_,r.wrap&4&&_&&(t.adler=r.check=r.flags?crc32_1(r.check,a,_,l-_):adler32_1(r.check,a,_,l-_)),_=d,r.wrap&4&&(r.flags?c:zswap32(c))!==r.check){t.msg="incorrect data check",r.mode=BAD;break}c=0,f=0}r.mode=LENGTH;case LENGTH:if(r.wrap&&r.flags){for(;f<32;){if(o===0)break e;o--,c+=s[n++]<<f,f+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=BAD;break}c=0,f=0}r.mode=DONE;case DONE:D=Z_STREAM_END$1;break e;case BAD:D=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return t.next_out=l,t.avail_out=d,t.next_in=n,t.avail_in=o,r.hold=c,r.bits=f,(r.wsize||_!==t.avail_out&&r.mode<BAD&&(r.mode<CHECK||i!==Z_FINISH$1))&&updatewindow(t,t.output,t.next_out,_-t.avail_out),p-=t.avail_in,_-=t.avail_out,t.total_in+=p,t.total_out+=_,r.total+=_,r.wrap&4&&_&&(t.adler=r.check=r.flags?crc32_1(r.check,a,_,t.next_out-_):adler32_1(r.check,a,_,t.next_out-_)),t.data_type=r.bits+(r.last?64:0)+(r.mode===TYPE?128:0)+(r.mode===LEN_||r.mode===COPY_?256:0),(p===0&&_===0||i===Z_FINISH$1)&&D===Z_OK$1&&(D=Z_BUF_ERROR),D},inflateEnd=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;let i=t.state;return i.window&&(i.window=null),t.state=null,Z_OK$1},inflateGetHeader=(t,i)=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const r=t.state;return(r.wrap&2)===0?Z_STREAM_ERROR$1:(r.head=i,i.done=!1,Z_OK$1)},inflateSetDictionary=(t,i)=>{const r=i.length;let s,a,n;return inflateStateCheck(t)||(s=t.state,s.wrap!==0&&s.mode!==DICT)?Z_STREAM_ERROR$1:s.mode===DICT&&(a=1,a=adler32_1(a,i,r,0),a!==s.check)?Z_DATA_ERROR$1:(n=updatewindow(t,i,r,r),n?(s.mode=MEM,Z_MEM_ERROR$1):(s.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(t){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const i=this.options;i.raw&&i.windowBits>=0&&i.windowBits<16&&(i.windowBits=-i.windowBits,i.windowBits===0&&(i.windowBits=-15)),i.windowBits>=0&&i.windowBits<16&&!(t&&t.windowBits)&&(i.windowBits+=32),i.windowBits>15&&i.windowBits<48&&(i.windowBits&15)===0&&(i.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=inflate_1$2.inflateInit2(this.strm,i.windowBits);if(r!==Z_OK)throw new Error(messages[r]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),i.dictionary&&(typeof i.dictionary=="string"?i.dictionary=strings.string2buf(i.dictionary):toString$2.call(i.dictionary)==="[object ArrayBuffer]"&&(i.dictionary=new Uint8Array(i.dictionary)),i.raw&&(r=inflate_1$2.inflateSetDictionary(this.strm,i.dictionary),r!==Z_OK)))throw new Error(messages[r])}Inflate$1.prototype.push=function(t,i){const r=this.strm,s=this.options.chunkSize,a=this.options.dictionary;let n,l,o;if(this.ended)return!1;for(i===~~i?l=i:l=i===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),n=inflate_1$2.inflate(r,l),n===Z_NEED_DICT&&a&&(n=inflate_1$2.inflateSetDictionary(r,a),n===Z_OK?n=inflate_1$2.inflate(r,l):n===Z_DATA_ERROR&&(n=Z_NEED_DICT));r.avail_in>0&&n===Z_STREAM_END&&r.state.wrap>0&&t[r.next_in]!==0;)inflate_1$2.inflateReset(r),n=inflate_1$2.inflate(r,l);switch(n){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(n),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||n===Z_STREAM_END))if(this.options.to==="string"){let d=strings.utf8border(r.output,r.next_out),c=r.next_out-d,f=strings.buf2string(r.output,d);r.next_out=c,r.avail_out=s-c,c&&r.output.set(r.output.subarray(d,d+c),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(n===Z_OK&&o===0)){if(n===Z_STREAM_END)return n=inflate_1$2.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(t){this.chunks.push(t)};Inflate$1.prototype.onEnd=function(t){t===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function inflate$1(t,i){const r=new Inflate$1(i);if(r.push(t),r.err)throw r.msg||messages[r.err];return r.result}var inflate_2=inflate$1,inflate_1$1={inflate:inflate_2};const{deflate}=deflate_1$1,{inflate}=inflate_1$1;var deflate_1=deflate,inflate_1=inflate;function base64encode(t){return btoa?btoa(t):Buffer.from(t,"binary").toString("base64")}function base64decode(t){return atob?atob(t):Buffer.from(t,"base64").toString("binary")}function uint8ArrayToBase64(t){return base64encode(String.fromCharCode(...t))}function base64ToUint8Array(t){const i=base64decode(t),r=i.length,s=new Uint8Array(r);for(let a=0;a<r;a++)s[a]=i.charCodeAt(a);return s}class FingerprintToBase64{static encode(i){const r=i.split(":"),s=new Uint8Array(r.map(o=>parseInt(o,16)));let a=0,n=0,l="";for(const o of s)for(a=a<<this.BITS_PER_BYTE|o,n+=this.BITS_PER_BYTE;n>=this.BITS_PER_BASE64_CHAR;){n-=this.BITS_PER_BASE64_CHAR;const d=a>>n&(1<<this.BITS_PER_BASE64_CHAR)-1;l+=this.CHARSET[d]}if(n>0){const o=a<<this.BITS_PER_BASE64_CHAR-n&(1<<this.BITS_PER_BASE64_CHAR)-1;l+=this.CHARSET[o]}for(;l.length%4!==0;)l+="=";return l}static decode(i){let r=0,s=0,a="";for(const l of i){if(l==="=")break;const o=this.CHARSET.indexOf(l);for(r=r<<this.BITS_PER_BASE64_CHAR|o,s+=this.BITS_PER_BASE64_CHAR;s>=this.BITS_PER_BYTE;){s-=this.BITS_PER_BYTE;const d=r>>s&(1<<this.BITS_PER_BYTE)-1;a+=d.toString(16).padStart(2,"0").toUpperCase()}}let n="";for(let l=0;l<a.length;l++)n+=a[l],l%2===1&&l!==a.length-1&&(n+=":");return n}}FingerprintToBase64.CHARSET="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";FingerprintToBase64.BITS_PER_BYTE=8;FingerprintToBase64.BITS_PER_BASE64_CHAR=6;function compressText(t){const i=deflate_1(t,{level:9});return uint8ArrayToBase64(i)}function decompressText(t){const i=base64ToUint8Array(t);return inflate_1(i,{to:"string"})}const FieldReplaceMap={"v=":"V","o=":"O","s=":"S","c=":"C","a=":"A","m=":"M","t=":"T"},FieldReplaceMapReverse=Object.fromEntries(Object.entries(FieldReplaceMap).map(t=>t.reverse())),AttributeRepalceMap={"rtcp:":"R","ice-ufrag:":"U","ice-pwd:":"P","ice-options:":"O","fingerprint:":"F","candidate:":"C","sctp-port:":"S","max-message-size:":"M","extmap:":"E","rtpmap:":"T","rtcp-fb:":"B","fmtp:":"Z"},AttributeRepalceMapReverse=Object.fromEntries(Object.entries(AttributeRepalceMap).map(t=>t.reverse())),HashFuncMap={"sha-1":"1","sha-224":"2","sha-256":"3","sha-384":"4","sha-512":"5",md5:"6",md2:"7",token:"8"},HashFuncMapReverse=Object.fromEntries(Object.entries(HashFuncMap).map(t=>t.reverse())),candidateEncodeMap={"typ host generation 0 network-cost 999":"H","typ srflx":"S","rport 0 generation 0 network-cost 999":"R",udp:"U",raddr:"A"},candidateEncodeRegex=new RegExp(Object.keys(candidateEncodeMap).join("|"),"g");function candidateEncode(t){return t.replace(candidateEncodeRegex,i=>candidateEncodeMap[i])}const candidateDecodeMap=Object.fromEntries(Object.entries(candidateEncodeMap).map(t=>t.reverse())),candidateDecodeRegex=new RegExp(Object.keys(candidateDecodeMap).join("|"),"g");function candidateDecode(t){return t.replace(candidateDecodeRegex,i=>candidateDecodeMap[i])}const mediaEncodeMap={application:"P","UDP/DTLS/SCTP":"U","UDP/TLS/RTP/SAVPF":"T","webrtc-datachannel":"D",audio:"A",video:"V"},mediaEncodeRegex=new RegExp(Object.keys(mediaEncodeMap).join("|"),"g");function mediaEncode(t){return t.replace(mediaEncodeRegex,i=>mediaEncodeMap[i])}const mediaDecodeMap=Object.fromEntries(Object.entries(mediaEncodeMap).map(t=>t.reverse())),mediaDecodeRegex=new RegExp(Object.keys(mediaDecodeMap).join("|"),"g");function mediaDecode(t){return t.replace(mediaDecodeRegex,i=>mediaDecodeMap[i])}const MediaConnectionAddressTypeMap={IP4:"4",IP6:"6"},MediaConnectionAddressTypeMapReverse=Object.fromEntries(Object.entries(MediaConnectionAddressTypeMap).map(t=>t.reverse())),MediaConnectionIPMap={"0.0.0.0":"0"},MediaConnectionIPMapReverse=Object.fromEntries(Object.entries(MediaConnectionIPMap).map(t=>t.reverse())),compactSDP=(t,i)=>{const r=mergeOptions(i);return t=compactSDPStr(t,r),r.compress&&(t=compressText(t)),t};function compactSDPStr(t,i){const r=t.split(`\r
`);let s=[];return r.forEach(a=>{var n,l,o,d,c,f,p,_;if(!(a.startsWith("v=")&&i.sdpVersion!==void 0)&&!(a.startsWith("s=")&&i.sessionName!==void 0)&&!(a.startsWith("t=")&&i.timing!==void 0)&&!(a.startsWith("a=extmap-allow-mixed")&&i.extmapAllowMixed)&&!(a.startsWith("a=msid-semantic:")&&i.msidSemantic!==void 0)){if(a.startsWith("o=")&&i.origin!==void 0){let u=a.slice(2).split(" "),h=[];i.origin.username===void 0&&h.push(u[0]),i.origin.sessionId===void 0&&h.push(u[1]),h.push(u[2]),i.origin.netType===void 0&&h.push(u[3]),i.origin.addrtype===void 0&&h.push(u[4]),i.origin.unicastAddress===void 0&&h.push(u[5]),s.push(`o=${h.join(" ")}`);return}if(!(a.startsWith("a=group:")&&(!((n=i.mediaOptions)===null||n===void 0)&&n.removeMediaID))&&!(a.startsWith("a=mid:")&&(!((l=i.mediaOptions)===null||l===void 0)&&l.removeMediaID))&&!(a.startsWith("a=setup:")&&(!((o=i.mediaOptions)===null||o===void 0)&&o.removeSetup))&&!(a.startsWith("a=ice-options:trickle")&&(!((d=i.mediaOptions)===null||d===void 0)&&d.forceTrickle))){if(a.startsWith("m=")&&(!((c=i.mediaOptions)===null||c===void 0)&&c.replaceMediaString)){a=mediaEncode(a),s.push(a);return}if(a.startsWith("a=candidate:")&&(!((f=i.mediaOptions)===null||f===void 0)&&f.replaceCandidateString)){a=candidateEncode(a),s.push(a);return}if(a.startsWith("a=fingerprint:")&&(!((p=i.mediaOptions)===null||p===void 0)&&p.compressFingerprint)){let[u,h]=a.slice(14).split(" ");u in HashFuncMap&&(u=HashFuncMap[u]),h=FingerprintToBase64.encode(h),s.push(`a=fingerprint:${u} ${h}`);return}if(a.startsWith("c=")&&(!((_=i.mediaOptions)===null||_===void 0)&&_.compressConnection)){let[u,h,m]=a.slice(2).split(" ");h in MediaConnectionAddressTypeMap&&(h=MediaConnectionAddressTypeMap[h]),m in MediaConnectionIPMap&&(m=MediaConnectionIPMap[m]),s.push(`c=${h} ${m}`);return}s.push(a)}}}),i.replaceFieldNames&&(s=s.map(a=>{let n=a.slice(0,2),l=a.slice(2);if(n==="a="){let[o,...d]=l.split(":");o=o+":",o in AttributeRepalceMap&&(o=AttributeRepalceMap[o],l=o+d.join(":"))}return n in FieldReplaceMap&&(n=FieldReplaceMap[n]),n+l})),s.join("~")}var lib={},parser={},grammar={exports:{}},hasRequiredGrammar;function requireGrammar(){if(hasRequiredGrammar)return grammar.exports;hasRequiredGrammar=1;var t=grammar.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(i){return i.encoding?"rtpmap:%d %s/%s/%s":i.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(i){return i.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(i){return i.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(i){return"extmap:%d"+(i.direction?"/%s":"%v")+(i["encrypt-uri"]?" %s":"%v")+" %s"+(i.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(i){return i.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(i){var r="candidate:%s %d %s %d %s %d typ %s";return r+=i.raddr!=null?" raddr %s rport %d":"%v%v",r+=i.tcptype!=null?" tcptype %s":"%v",i.generation!=null&&(r+=" generation %d"),r+=i["network-id"]!=null?" network-id %d":"%v",r+=i["network-cost"]!=null?" network-cost %d":"%v",r}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(i){var r="ssrc:%d";return i.attribute!=null&&(r+=" %s",i.value!=null&&(r+=":%s")),r}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(i){return i.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(i){return i.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(i){return"imageattr:%s %s %s"+(i.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(i){return"simulcast:%s %s"+(i.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(i){return"ts-refclk:%s"+(i.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(i){var r="mediaclk:";return r+=i.id!=null?"id=%s %s":"%v%s",r+=i.mediaClockValue!=null?"=%s":"",r+=i.rateNumerator!=null?" rate=%s":"",r+=i.rateDenominator!=null?"/%s":"",r}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(t).forEach(function(i){var r=t[i];r.forEach(function(s){s.reg||(s.reg=/(.*)/),s.format||(s.format="%s")})}),grammar.exports}var hasRequiredParser;function requireParser(){return hasRequiredParser||(hasRequiredParser=1,function(t){var i=function(o){return String(Number(o))===o?Number(o):o},r=function(o,d,c,f){if(f&&!c)d[f]=i(o[1]);else for(var p=0;p<c.length;p+=1)o[p+1]!=null&&(d[c[p]]=i(o[p+1]))},s=function(o,d,c){var f=o.name&&o.names;o.push&&!d[o.push]?d[o.push]=[]:f&&!d[o.name]&&(d[o.name]={});var p=o.push?{}:f?d[o.name]:d;r(c.match(o.reg),p,o.names,o.name),o.push&&d[o.push].push(p)},a=requireGrammar(),n=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(o){var d={},c=[],f=d;return o.split(/(\r\n|\r|\n)/).filter(n).forEach(function(p){var _=p[0],u=p.slice(2);_==="m"&&(c.push({rtp:[],fmtp:[]}),f=c[c.length-1]);for(var h=0;h<(a[_]||[]).length;h+=1){var m=a[_][h];if(m.reg.test(u))return s(m,f,u)}}),d.media=c,d};var l=function(o,d){var c=d.split(/=(.+)/,2);return c.length===2?o[c[0]]=i(c[1]):c.length===1&&d.length>1&&(o[c[0]]=void 0),o};t.parseParams=function(o){return o.split(/;\s?/).reduce(l,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(o){return o.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(o){for(var d=[],c=o.split(" ").map(i),f=0;f<c.length;f+=3)d.push({component:c[f],ip:c[f+1],port:c[f+2]});return d},t.parseImageAttributes=function(o){return o.split(" ").map(function(d){return d.substring(1,d.length-1).split(",").reduce(l,{})})},t.parseSimulcastStreamList=function(o){return o.split(";").map(function(d){return d.split(",").map(function(c){var f,p=!1;return c[0]!=="~"?f=i(c):(f=i(c.substring(1,c.length)),p=!0),{scid:f,paused:p}})})}}(parser)),parser}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1;var t=requireGrammar(),i=/%[sdv%]/g,r=function(l){var o=1,d=arguments,c=d.length;return l.replace(i,function(f){if(o>=c)return f;var p=d[o];switch(o+=1,f){case"%%":return"%";case"%s":return String(p);case"%d":return Number(p);case"%v":return""}})},s=function(l,o,d){var c=o.format instanceof Function?o.format(o.push?d:d[o.name]):o.format,f=[l+"="+c];if(o.names)for(var p=0;p<o.names.length;p+=1){var _=o.names[p];o.name?f.push(d[o.name][_]):f.push(d[o.names[p]])}else f.push(d[o.name]);return r.apply(null,f)},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],n=["i","c","b","a"];return writer=function(l,o){o=o||{},l.version==null&&(l.version=0),l.name==null&&(l.name=" "),l.media.forEach(function(p){p.payloads==null&&(p.payloads="")});var d=o.outerOrder||a,c=o.innerOrder||n,f=[];return d.forEach(function(p){t[p].forEach(function(_){_.name in l&&l[_.name]!=null?f.push(s(p,_,l)):_.push in l&&l[_.push]!=null&&l[_.push].forEach(function(u){f.push(s(p,_,u))})})}),l.media.forEach(function(p){f.push(s("m",t.m[0],p)),c.forEach(function(_){t[_].forEach(function(u){u.name in p&&p[u.name]!=null?f.push(s(_,u,p)):u.push in p&&p[u.push]!=null&&p[u.push].forEach(function(h){f.push(s(_,u,h))})})})}),f.join(`\r
`)+`\r
`},writer}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1;var t=requireParser(),i=requireWriter(),r=requireGrammar();return lib.grammar=r,lib.write=i,lib.parse=t.parse,lib.parseParams=t.parseParams,lib.parseFmtpConfig=t.parseFmtpConfig,lib.parsePayloads=t.parsePayloads,lib.parseRemoteCandidates=t.parseRemoteCandidates,lib.parseImageAttributes=t.parseImageAttributes,lib.parseSimulcastStreamList=t.parseSimulcastStreamList,lib}var libExports=requireLib();const decompactSDP=(t,i,r)=>{const s=mergeOptions(r);return s.compress&&(t=decompressText(t)),decompactSDPStr(t,i,s)};function decompactSDPStr(t,i,r){var s;let a=t.split("~"),n=[];r.replaceFieldNames&&(a=a.map(d=>{let c=d.slice(0,1),f=d.slice(1);if(c in FieldReplaceMapReverse&&(c=FieldReplaceMapReverse[c]),c==="a="){let p=f.slice(0,1);const _=f.slice(1);p in AttributeRepalceMapReverse&&(p=AttributeRepalceMapReverse[p],f=p+_)}return c+f})),r.sdpVersion!==void 0&&n.push(`v=${r.sdpVersion}`),r.sessionName!==void 0&&n.push(`s=${r.sessionName}`),r.timing!==void 0&&n.push(`t=${r.timing}`),r.extmapAllowMixed&&n.push("a=extmap-allow-mixed"),r.msidSemantic!==void 0&&n.push(`a=msid-semantic: ${r.msidSemantic}`);let l=0;a.forEach(d=>{var c,f,p,_;if(d.startsWith("o=")&&r.origin!==void 0){let u=d.slice(2).split(" "),h=[];if(r.origin.username!==void 0)h.push(r.origin.username);else{const g=u.shift();g&&h.push(g)}if(r.origin.sessionId!==void 0)h.push(r.origin.sessionId);else{const g=u.shift();g&&h.push(g)}const m=u.shift();if(m&&h.push(m),r.origin.netType!==void 0)h.push(r.origin.netType);else{const g=u.shift();g&&h.push(g)}if(r.origin.addrtype!==void 0)h.push(r.origin.addrtype);else{const g=u.shift();g&&h.push(g)}if(r.origin.unicastAddress!==void 0)h.push(r.origin.unicastAddress);else{const g=u.shift();g&&h.push(g)}n.push(`o=${h.join(" ")}`);return}if(d.startsWith("m=")&&r.mediaOptions!==void 0){!((c=r.mediaOptions)===null||c===void 0)&&c.replaceMediaString&&(d=mediaDecode(d)),n.push(d),r.mediaOptions.removeSetup&&n.push(`a=setup:${i?"actpass":"active"}`),r.mediaOptions.removeMediaID&&(n.push(`a=mid:${l}`),l++),r.mediaOptions.forceTrickle&&n.push("a=ice-options:trickle");return}if(d.startsWith("a=candidate:")&&(!((f=r.mediaOptions)===null||f===void 0)&&f.replaceCandidateString)){d=candidateDecode(d),n.push(d);return}if(d.startsWith("a=fingerprint:")&&(!((p=r.mediaOptions)===null||p===void 0)&&p.compressFingerprint)){let[u,h]=d.slice(14).split(" ");u in HashFuncMapReverse&&(u=HashFuncMapReverse[u]),h=FingerprintToBase64.decode(h),n.push(`a=fingerprint:${u} ${h}`);return}if(d.startsWith("c=")&&(!((_=r.mediaOptions)===null||_===void 0)&&_.compressConnection)){let[u,h]=d.slice(2).split(" ");u in MediaConnectionAddressTypeMapReverse&&(u=MediaConnectionAddressTypeMapReverse[u]),h in MediaConnectionIPMapReverse&&(h=MediaConnectionIPMapReverse[h]),n.push(`c=IN ${u} ${h}`);return}n.push(d)}),!((s=r.mediaOptions)===null||s===void 0)&&s.removeMediaID&&n.unshift(`a=group:BUNDLE ${Array.from(Array(l).keys()).join(" ")}`);let o=n.join(`\r
`);return o=libExports.write(libExports.parse(o)),o}function sdpEncode(t){return compactSDP(t).replace(/\//g,"_").replace(/\+/g,"~").replace(/=/g,"-")}function sdpDecode(t,i){return decompactSDP(t.replace(/_/g,"/").replace(/~/g,"+").replace(/-/g,"="),i)}const CODE_LENGTH=5,MAX_TRIES=1e3;function getRandomAlphanumericChar(){for(;;){const i=crypto.getRandomValues(new Uint8Array(1))[0]%75+48;if(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122)return String.fromCharCode(i)}}function generateSecureCode(){let t="";for(let i=0;i<CODE_LENGTH;i++)t+=getRandomAlphanumericChar();return t}function generateUniqueCode(t,i){const r={s:t,i:i.iceServer||"",c:i.chunkSize?.toString()||"67108864",p:i.publicKey||"",h:i.highPerformance?"1":"0"},s=JSON.stringify(r);let a="";for(let n=0;n<MAX_TRIES&&(a=generateSecureCode(),!(typeof window>"u"));n++){const l=`code_${a}`;if(!window.localStorage.getItem(l))return window.localStorage.setItem(l,s),a}return a=generateSecureCode(),typeof window<"u"&&window.localStorage.setItem(`code_${a}`,s),a}function parseUniqueCode(t){try{if(!/^[A-Za-z0-9]{5}$/.test(t))throw new Error("Invalid code format");if(typeof window>"u")throw new Error("localStorage not available");const i=window.localStorage.getItem(`code_${t}`);if(!i)throw new Error("Code not found");const r=JSON.parse(i);return{sdp:r.s,iceServer:r.i||void 0,chunkSize:parseInt(r.c)||67108864,publicKey:r.p||void 0,highPerformance:r.h==="1"||parseInt(r.c)>16777216}}catch(i){throw console.error("Failed to parse unique code:",i),new Error("Invalid or expired code")}}async function handlePasteFromClipboardButton(t,i,r){try{const s=navigator.clipboard;if(!s){addToastMessage("Clipboard API not available");return}const a=[];try{const n=await s.readText();if(n&&n.trim()){const l=new Blob([n],{type:"text/plain"}),o=new File([l],"clipboard.txt",{type:"text/plain"});a.push(o)}}catch{}try{const n=await s.read();for(const l of n)for(const o of l.types){if(!o.startsWith("image/"))continue;const d=await l.getType(o),c=new File([d],`image.${o.replace("image/","")}`,{type:o});a.push(c)}}catch{}if(a.length>0){const n=new DataTransfer;a.forEach(l=>n.items.add(l)),i.onFilesPick(n.files),r(n.files)}else addToastMessage("No supported data on clipboard")}catch{addToastMessage("Failed to read clipboard")}}var root_3$5=template('<div class="w-16 h-16 rounded-md overflow-hidden flex-shrink-0 border border-gray-200 [html[data-theme=dark]_&amp;]:border-gray-700"><img class="w-full h-full object-cover"></div>'),root_4$2=template('<div><span class="text-2xl"> </span></div>'),root_2$7=template('<div class="p-4 border rounded-lg bg-white [html[data-theme=dark]_&amp;]:bg-gray-800 border-gray-200 [html[data-theme=dark]_&amp;]:border-gray-700 shadow-sm transition-colors"><div class="flex gap-4 items-start"><!> <div class="flex-1 min-w-0"><p class="text-sm font-medium text-gray-900 [html[data-theme=dark]_&amp;]:text-gray-100 truncate"> </p> <p class="text-xs text-gray-500 [html[data-theme=dark]_&amp;]:text-gray-400 mt-1"> </p> <div class="flex items-center mt-2"><button class="ml-auto inline-flex items-center p-1 rounded-full text-red-500 hover:text-red-700 [html[data-theme=dark]_&amp;]:text-red-400 [html[data-theme=dark]_&amp;]:hover:text-red-300 hover:bg-red-100 [html[data-theme=dark]_&amp;]:hover:bg-red-900/30 transition-colors" aria-label="Remove file"><!></button></div></div></div></div>'),root_1$6=template('<div class="mt-6"><h3 class="text-lg font-medium mb-3 text-gray-800 [html[data-theme=dark]_&amp;]:text-gray-200"> </h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"></div></div>'),root$9=template('<div class="w-full"><label><input accept="*" type="file" multiple class="absolute inset-0 z-50 w-full h-full p-0 m-0 outline-none opacity-0 cursor-pointer" title=""> <div class="flex flex-col items-center justify-center py-8 px-4 text-center"><div class="p-3 mb-2 rounded-full bg-blue-50 [html[data-theme=dark]_&amp;]:bg-blue-900/30 text-blue-500 [html[data-theme=dark]_&amp;]:text-blue-300"><!></div> <p class="mb-1 font-medium text-gray-700 [html[data-theme=dark]_&amp;]:text-gray-300">Drop files here or click to upload</p> <p class="text-xs text-gray-500 [html[data-theme=dark]_&amp;]:text-gray-400 hidden md:block">You can also paste from clipboard (Ctrl+V)</p></div></label> <button class="mt-3 w-full py-2 px-4 md:hidden font-medium rounded-md text-white bg-blue-500 hover:bg-blue-600 [html[data-theme=dark]_&amp;]:bg-blue-600 [html[data-theme=dark]_&amp;]:hover:bg-blue-700 transition-colors">Paste from clipboard</button> <!></div>');function DragAndDrop(t,i){push(i,!0);let r=state(proxy([])),s,a,n=state(!1);function l(D){const C=new Set(get(r).map(P=>P.file.name+P.file.lastModified)),M=[...D].filter(P=>!C.has(P.name+P.lastModified)).map(P=>({file:P,url:P.type.startsWith("image/")?URL.createObjectURL(P):void 0,status:"pending"}));set(r,[...get(r),...M],!0)}function o(){["dragenter","dragover","dragleave","drop"].forEach(C=>{s.addEventListener(C,M=>{M.preventDefault(),M.stopPropagation()},!1)}),s.addEventListener("dragenter",()=>{set(n,!0)},!1),s.addEventListener("dragover",()=>{set(n,!0)},!1),s.addEventListener("dragleave",()=>{set(n,!1)},!1),s.addEventListener("drop",C=>{set(n,!1),d(C)},!1)}function d(D){const C=D.dataTransfer?.files;C&&C.length>0&&(i.onFilesPick(C),l(C))}function c(){a.files&&a.files.length>0&&(i.onFilesPick(a.files),l(a.files),a.value="")}function f(D){const C=D.clipboardData;if(!C)return;const M=[],P=C.getData("Text");if(P){const N=new Blob([P],{type:"text/plain"}),y=new File([N],"clipboard.txt",{type:"text/plain"});M.push(y)}const A=C.items;for(let N=0;N<A.length;N++){const y=A[N].getAsFile();y&&M.push(y)}if(M.length>0){const N=new DataTransfer;M.forEach(y=>N.items.add(y)),i.onFilesPick(N.files),l(N.files)}}function p(D){const C=get(r)[D];C.url&&URL.revokeObjectURL(C.url),set(r,get(r).filter((M,P)=>P!==D),!0),addToastMessage(`Removed ${C.file.name}`)}function _(D){return D<1024?D+" B":D<1048576?(D/1024).toFixed(1)+" KB":D<1073741824?(D/1048576).toFixed(1)+" MB":(D/1073741824).toFixed(1)+" GB"}function u(D){const C=D.type;return C.startsWith("image/")?"image":C.startsWith("audio/")?"audio":C.startsWith("video/")?"video":C.startsWith("text/")?"text":C.includes("pdf")?"pdf":C.includes("word")||C.includes("document")?"word":C.includes("excel")||C.includes("sheet")?"excel":C.includes("zip")||C.includes("compressed")?"archive":"file"}function h(D){switch(D){case"image":return"bg-purple-100 text-purple-500 [html[data-theme=dark]_&]:bg-purple-900 [html[data-theme=dark]_&]:text-purple-300";case"audio":return"bg-blue-100 text-blue-500 [html[data-theme=dark]_&]:bg-blue-900 [html[data-theme=dark]_&]:text-blue-300";case"video":return"bg-pink-100 text-pink-500 [html[data-theme=dark]_&]:bg-pink-900 [html[data-theme=dark]_&]:text-pink-300";case"text":return"bg-gray-100 text-gray-500 [html[data-theme=dark]_&]:bg-gray-800 [html[data-theme=dark]_&]:text-gray-300";case"pdf":return"bg-red-100 text-red-500 [html[data-theme=dark]_&]:bg-red-900 [html[data-theme=dark]_&]:text-red-300";case"word":return"bg-blue-100 text-blue-500 [html[data-theme=dark]_&]:bg-blue-900 [html[data-theme=dark]_&]:text-blue-300";case"excel":return"bg-green-100 text-green-500 [html[data-theme=dark]_&]:bg-green-900 [html[data-theme=dark]_&]:text-green-300";case"archive":return"bg-yellow-100 text-yellow-500 [html[data-theme=dark]_&]:bg-yellow-900 [html[data-theme=dark]_&]:text-yellow-300";default:return"bg-gray-100 text-gray-500 [html[data-theme=dark]_&]:bg-gray-800 [html[data-theme=dark]_&]:text-gray-300"}}onMount(()=>{o(),document.addEventListener("paste",f)}),onDestroy(()=>{document.removeEventListener("paste",f),get(r).forEach(D=>{D.url&&URL.revokeObjectURL(D.url)})});var m=root$9(),g=child(m),v=child(g);v.__change=c,bind_this(v,D=>a=D,()=>a);var w=sibling(v,2),E=child(w),S=child(E);Paperclip(S,{class:"w-6 h-6"}),reset(E),next(4),reset(w),reset(g),bind_this(g,D=>s=D,()=>s);var x=sibling(g,2);x.__click=[handlePasteFromClipboardButton,i,l];var I=sibling(x,2);{var R=D=>{var C=root_1$6(),M=child(C),P=child(M);reset(M);var A=sibling(M,2);each(A,21,()=>get(r),index,(N,y,$)=>{var J=root_2$7(),U=child(J),te=child(U);{var j=ie=>{var se=root_3$5(),oe=child(se);reset(se),template_effect(()=>{set_attribute(oe,"src",get(y).url),set_attribute(oe,"alt",get(y).file.name)}),append(ie,se)},ee=ie=>{var se=root_4$2(),oe=child(se),he=child(oe,!0);reset(oe),reset(se),template_effect((ue,b)=>{set_class(se,1,`w-16 h-16 rounded-md overflow-hidden flex-shrink-0 flex items-center justify-center ${ue??""}`),set_text(he,b)},[()=>h(u(get(y).file)),()=>u(get(y).file).charAt(0).toUpperCase()]),append(ie,se)};if_block(te,ie=>{get(y).url?ie(j):ie(ee,!1)})}var z=sibling(te,2),B=child(z),Y=child(B,!0);reset(B);var K=sibling(B,2),q=child(K);reset(K);var le=sibling(K,2),de=child(le);de.__click=()=>p($);var ne=child(de);Trash_2(ne,{class:"w-4 h-4"}),reset(de),reset(le),reset(z),reset(U),reset(J),template_effect(ie=>{set_attribute(B,"title",get(y).file.name),set_text(Y,get(y).file.name),set_text(q,`${ie??""} â¢ ${get(y).file.type||"Unknown type"}`)},[()=>_(get(y).file.size)]),append(N,J)}),reset(A),reset(C),template_effect(()=>set_text(P,`Selected ${get(r).length??""} ${get(r).length===1?"File":"Files"}`)),append(D,C)};if_block(I,D=>{get(r).length>0&&D(R)})}reset(m),template_effect(()=>set_class(g,1,`relative flex flex-col border-2 border-dashed rounded-lg cursor-pointer transition-colors duration-200
    border-gray-300 [html[data-theme=dark]_&]:border-gray-700 hover:border-blue-400 [html[data-theme=dark]_&]:hover:border-blue-500
    ${get(n)?"bg-blue-50 [html[data-theme=dark]_&]:bg-blue-900/20 border-blue-400 [html[data-theme=dark]_&]:border-blue-500":"bg-white [html[data-theme=dark]_&]:bg-gray-800"}`)),append(t,m),pop()}delegate(["change","click"]);var eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,function(t){var i=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(d,c,f){this.fn=d,this.context=c,this.once=f||!1}function n(d,c,f,p,_){if(typeof f!="function")throw new TypeError("The listener must be a function");var u=new a(f,p||d,_),h=r?r+c:c;return d._events[h]?d._events[h].fn?d._events[h]=[d._events[h],u]:d._events[h].push(u):(d._events[h]=u,d._eventsCount++),d}function l(d,c){--d._eventsCount===0?d._events=new s:delete d._events[c]}function o(){this._events=new s,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],f,p;if(this._eventsCount===0)return c;for(p in f=this._events)i.call(f,p)&&c.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},o.prototype.listeners=function(c){var f=r?r+c:c,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var _=0,u=p.length,h=new Array(u);_<u;_++)h[_]=p[_].fn;return h},o.prototype.listenerCount=function(c){var f=r?r+c:c,p=this._events[f];return p?p.fn?1:p.length:0},o.prototype.emit=function(c,f,p,_,u,h){var m=r?r+c:c;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,w,E;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,f),!0;case 3:return g.fn.call(g.context,f,p),!0;case 4:return g.fn.call(g.context,f,p,_),!0;case 5:return g.fn.call(g.context,f,p,_,u),!0;case 6:return g.fn.call(g.context,f,p,_,u,h),!0}for(E=1,w=new Array(v-1);E<v;E++)w[E-1]=arguments[E];g.fn.apply(g.context,w)}else{var S=g.length,x;for(E=0;E<S;E++)switch(g[E].once&&this.removeListener(c,g[E].fn,void 0,!0),v){case 1:g[E].fn.call(g[E].context);break;case 2:g[E].fn.call(g[E].context,f);break;case 3:g[E].fn.call(g[E].context,f,p);break;case 4:g[E].fn.call(g[E].context,f,p,_);break;default:if(!w)for(x=1,w=new Array(v-1);x<v;x++)w[x-1]=arguments[x];g[E].fn.apply(g[E].context,w)}}return!0},o.prototype.on=function(c,f,p){return n(this,c,f,p,!1)},o.prototype.once=function(c,f,p){return n(this,c,f,p,!0)},o.prototype.removeListener=function(c,f,p,_){var u=r?r+c:c;if(!this._events[u])return this;if(!f)return l(this,u),this;var h=this._events[u];if(h.fn)h.fn===f&&(!_||h.once)&&(!p||h.context===p)&&l(this,u);else{for(var m=0,g=[],v=h.length;m<v;m++)(h[m].fn!==f||_&&!h[m].once||p&&h[m].context!==p)&&g.push(h[m]);g.length?this._events[u]=g.length===1?g[0]:g:l(this,u)}return this},o.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&l(this,f)):(this._events=new s,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o}(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var FileStatus=(t=>(t.Pending="Pending",t.WaitingAccept="WaitingAccept",t.Processing="Processing",t.Success="Success",t.Error="Error",t))(FileStatus||{});function humanFileSize(t){const i=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,i)).toFixed(2)+" "+["B","KB","MB","GB","TB"][i]}var root_1$5=template('<div class="w-16 h-16 rounded-md overflow-hidden flex-shrink-0 border border-gray-200 [html[data-theme=dark]_&amp;]:border-gray-700 mx-auto sm:mx-0"><img class="w-full h-full object-cover"></div>'),root_2$6=template('<div class="w-16 h-16 rounded-md overflow-hidden flex-shrink-0 flex items-center justify-center bg-gray-100 [html[data-theme=dark]_&amp;]:bg-gray-700 mx-auto sm:mx-0"><img class="w-12 h-12 object-contain"></div>'),root_3$4=template('<span class="inline-flex items-center px-2 py-0.5 text-xs font-medium rounded bg-blue-100 text-blue-700 [html[data-theme=dark]_&amp;]:bg-blue-900 [html[data-theme=dark]_&amp;]:text-blue-300"><!></span>'),root_7$1=template('<span class="inline-flex items-center px-2 py-0.5 text-xs font-medium rounded bg-red-100 text-red-700 [html[data-theme=dark]_&amp;]:bg-red-900 [html[data-theme=dark]_&amp;]:text-red-300"> </span>'),root_9$1=template('<span class="inline-flex items-center px-2 py-0.5 text-xs font-medium rounded bg-yellow-100 text-yellow-700 [html[data-theme=dark]_&amp;]:bg-yellow-900 [html[data-theme=dark]_&amp;]:text-yellow-300">Waiting Accept</span>'),root_11=template('<span class="inline-flex items-center px-2 py-0.5 text-xs font-medium rounded bg-green-100 text-green-700 [html[data-theme=dark]_&amp;]:bg-green-900 [html[data-theme=dark]_&amp;]:text-green-300">Success</span>'),root_12=template('<span class="inline-flex items-center px-2 py-0.5 text-xs font-medium rounded bg-gray-100 text-gray-700 [html[data-theme=dark]_&amp;]:bg-gray-800 [html[data-theme=dark]_&amp;]:text-gray-300">Pending</span>'),root$8=template('<div class="border rounded-lg bg-white [html[data-theme=dark]_&amp;]:bg-gray-800 border-gray-200 [html[data-theme=dark]_&amp;]:border-gray-700 shadow-sm transition-colors w-full max-w-full overflow-x-auto"><div class="p-3 sm:p-4 text-xs xl:text-sm"><div class="flex flex-col sm:flex-row sm:items-start gap-4"><!> <div class="flex-1 text-gray-800 [html[data-theme=dark]_&amp;]:text-gray-200 overflow-hidden"><p class="font-medium text-sm truncate break-all"> </p> <p class="text-xs text-gray-500 [html[data-theme=dark]_&amp;]:text-gray-400 break-all"> </p> <div class="mt-3"><!></div> <div class="relative mt-3 w-full max-w-full"><div class="overflow-hidden h-2 text-xs flex rounded bg-gray-200 [html[data-theme=dark]_&amp;]:bg-gray-700 w-full"><div class="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 [html[data-theme=dark]_&amp;]:bg-blue-600 transition-all duration-300 ease-in-out"></div></div></div> <div class="flex justify-end mt-3 w-full"><!></div></div></div></div></div>');function FileCard(t,i){push(i,!0);let r=null,s=state(null);const a=user_derived(()=>i.isSender&&r?r:!i.isSender&&i.fileDetail.status===FileStatus.Success&&i.fileDetail.fileBlob?i.fileDetail.fileBlob:null);user_effect(()=>{get(s)&&(URL.revokeObjectURL(get(s)),set(s,null)),get(a)&&set(s,URL.createObjectURL(get(a)),!0)});const n=()=>i.fileDetail.metaData.type?.startsWith("image/"),l={pdf:"https://img.icons8.com/fluency/100/pdf--v2.png",docx:"https://img.icons8.com/external-others-iconmarket/64/external-docx-file-types-others-iconmarket.png",xlsx:"https://img.icons8.com/arcade/64/xls.png",mp4:"https://img.icons8.com/cotton/100/video-file--v1.png",avi:"https://img.icons8.com/dusk/100/video.png",mp3:"https://img.icons8.com/external-bearicons-blue-bearicons/100/external-MP3-file-extension-bearicons-blue-bearicons.png",wav:"https://img.icons8.com/external-bearicons-outline-color-bearicons/100/external-WAV-file-extension-bearicons-outline-color-bearicons.png",zip:"https://img.icons8.com/dusk/100/zip.png",rar:"https://img.icons8.com/dusk/100/rar.png",default:"https://img.icons8.com/arcade/100/file.png",gif:"https://img.icons8.com/plasticine/100/gif.png",svg:"https://img.icons8.com/external-bearicons-blue-bearicons/100/external-SVG-file-extension-bearicons-blue-bearicons.png",png:"https://img.icons8.com/plasticine/100/png.png"};function o(A){const N=A.split(".").pop()?.toLowerCase()??"default";return l[N]||l.default}onDestroy(()=>{get(s)&&URL.revokeObjectURL(get(s))});var d=root$8(),c=child(d),f=child(c),p=child(f);{var _=A=>{var N=root_1$5(),y=child(N);reset(N),template_effect(()=>{set_attribute(y,"src",get(s)),set_attribute(y,"alt",i.fileDetail.metaData.name)}),append(A,N)},u=A=>{var N=root_2$6(),y=child(N);reset(N),template_effect($=>{set_attribute(y,"src",$),set_attribute(y,"alt",i.fileDetail.metaData.name)},[()=>o(i.fileDetail.metaData.name)]),append(A,N)};if_block(p,A=>{n()&&i.fileDetail.status===FileStatus.Success&&get(s)?A(_):A(u,!1)})}var h=sibling(p,2),m=child(h),g=child(m,!0);reset(m);var v=sibling(m,2),w=child(v);reset(v);var E=sibling(v,2),S=child(E);{var x=A=>{var N=root_3$4(),y=child(N);{var $=U=>{var te=text();template_effect(j=>set_text(te,`Sending: ${j??""}/sec`),[()=>humanFileSize(i.fileDetail.bitrate)]),append(U,te)},J=U=>{var te=text();template_effect(j=>set_text(te,`Receiving: ${j??""}/sec`),[()=>humanFileSize(i.fileDetail.bitrate)]),append(U,te)};if_block(y,U=>{i.isSender?U($):U(J,!1)})}reset(N),append(A,N)},I=(A,N)=>{{var y=J=>{var U=root_7$1(),te=child(U);reset(U),template_effect(()=>set_text(te,`Error: ${i.fileDetail.error.message??""}`)),append(J,U)},$=(J,U)=>{{var te=ee=>{var z=root_9$1();append(ee,z)},j=(ee,z)=>{{var B=K=>{var q=root_11();append(K,q)},Y=K=>{var q=root_12();append(K,q)};if_block(ee,K=>{i.fileDetail.status===FileStatus.Success?K(B):K(Y,!1)},z)}};if_block(J,ee=>{i.fileDetail.status===FileStatus.WaitingAccept?ee(te):ee(j,!1)},U)}};if_block(A,J=>{i.fileDetail.error?J(y):J($,!1)},N)}};if_block(S,A=>{i.fileDetail.status===FileStatus.Processing?A(x):A(I,!1)})}reset(E);var R=sibling(E,2),D=child(R),C=child(D);reset(D),reset(R);var M=sibling(R,2),P=child(M);snippet(P,()=>i.children??noop),reset(M),reset(h),reset(f),reset(c),reset(d),template_effect((A,N)=>{set_attribute(m,"title",i.fileDetail.metaData.name),set_text(g,i.fileDetail.metaData.name),set_text(w,`${A??""} â¢ ${(i.fileDetail.metaData.type||"Unknown type")??""}`),set_style(C,`width: ${N??""}%`)},[()=>humanFileSize(i.fileDetail.metaData.size),()=>isNaN(i.fileDetail.progress)?100:i.fileDetail.progress]),append(t,d),pop()}var on_click$3=(t,i,r)=>i.onSend(r()),root_3$3=template('<button class="btn btn-primary">Resend <!></button>'),on_click_1$2=(t,i,r)=>i.onContinue(r()),root_5$1=template('<button class="btn btn-secondary">Continue <!></button>'),on_click_2$2=(t,i,r)=>i.onStop(r()),root_7=template('<button class="btn btn-secondary">Stop <!></button>'),on_click_3$2=(t,i,r)=>i.onSend(r()),root_9=template('<button class="btn btn-outline btn-accent">Send <!></button>'),on_click_4$1=(t,i,r)=>i.onRemove(r()),root_2$5=template('<div class="flex-none my-5"><!> <button class="btn btn-error">Remove <!></button></div>'),root$7=template('<div class="grid gap-4"></div>');function SendingFileList(t,i){push(i,!0);var r=root$7();each(r,23,()=>Object.entries(i.sendingFiles),([s,a])=>s,(s,a)=>{let n=()=>get(a)[0],l=()=>get(a)[1];FileCard(s,{get fileDetail(){return l()},isSender:!0,children:(o,d)=>{var c=root_2$5(),f=child(c);{var p=m=>{var g=root_3$3();g.__click=[on_click$3,i,n];var v=sibling(child(g));Forward(v,{}),reset(g),append(m,g)},_=(m,g)=>{{var v=E=>{var S=root_5$1();S.__click=[on_click_1$2,i,n];var x=sibling(child(S));Workflow(x,{}),reset(S),append(E,S)},w=(E,S)=>{{var x=R=>{var D=root_7();D.__click=[on_click_2$2,i,n];var C=sibling(child(D));Circle_stop(C,{}),reset(D),append(R,D)},I=(R,D)=>{{var C=M=>{var P=root_9();P.__click=[on_click_3$2,i,n];var A=sibling(child(P));Send(A,{}),reset(P),append(M,P)};if_block(R,M=>{l().status!==FileStatus.Success&&l().status!==FileStatus.WaitingAccept&&M(C)},D)}};if_block(E,R=>{l().status===FileStatus.Processing?R(x):R(I,!1)},S)}};if_block(m,E=>{l().stop?E(v):E(w,!1)},g)}};if_block(f,m=>{l().error?m(p):m(_,!1)})}var u=sibling(f,2);u.__click=[on_click_4$1,i,n];var h=sibling(child(u));Shredder(h,{}),reset(u),reset(c),append(o,c)},$$slots:{default:!0}})}),reset(r),append(t,r),pop()}delegate(["click"]);function validateFileMetadata(t,i){if(i&&t.size>i)return new Error(`file is exceed max size at ${humanFileSize(i)}`)}async function sendAllFiles(t,i,r){for(const s of Object.keys(get(i)))get(i)[s].status!=FileStatus.Pending||get(i)[s].error||await r(s)}var root_1$4=template('<!> <button class="btn btn-outline btn-secondary mt-2">Send all files <!></button>',1),root_2$4=template('<p class="mt-4">No files selected</p>'),root$6=template('<div class="grid gap-4"><!> <!></div>');function Sender(t,i){push(i,!0);let r=state(proxy({}));function s(h,m){const g=get(r)[h];g&&g.event&&g.event.emit(receiveEventToJSON(m))}async function a(h){const m=get(r)[h];let g=0;get(r)[h].error=void 0,get(r)[h].stop=!1,get(r)[h].event=new EventEmitter,get(r)[h].event?.on(receiveEventToJSON(ReceiveEvent.EVENT_RECEIVER_ACCEPT),async()=>{get(r)[h].status=FileStatus.Processing,get(r)[h].startTime=Date.now(),await w()}),get(r)[h].event?.on(receiveEventToJSON(ReceiveEvent.EVENT_RECEIVED_CHUNK),async()=>{if(!get(r)[h].stop){if(get(r)[h].error||get(r)[h].status!=FileStatus.Processing){get(r)[h].progress=0,get(r)[h].status=FileStatus.Pending,get(r)[h].stop=!1;return}if(g<m.metaData.size){await w();return}get(r)[h].status=FileStatus.Success,addToastMessage(`File ${m.metaData.name} sent successfully`,"success")}}),get(r)[h].event?.on(receiveEventToJSON(ReceiveEvent.EVENT_VALIDATE_ERROR),()=>{addToastMessage("Receiver validate error","error"),get(r)[h].error=new Error("Receiver validate error"),get(r)[h].status=FileStatus.Pending}),get(r)[h].event?.on(receiveEventToJSON(ReceiveEvent.EVENT_RECEIVER_REJECT),()=>{addToastMessage("Receiver reject the file","error"),get(r)[h].error=new Error("Receiver reject the file"),get(r)[h].status=FileStatus.Pending});async function v(E){if(i.isEncrypt){const S=get(r)[h].aesKey;if(S){const x=await encryptAesGcm(S,E);i.dataChannel.send(Message.encode({id:m.metaData.name,chunk:x}).finish());return}}i.dataChannel.send(Message.encode({id:m.metaData.name,chunk:new Uint8Array(E)}).finish())}async function w(){const S=await m.file.slice(g,g+i.chunkSize).arrayBuffer();await v(S),g+=S.byteLength,get(r)[h].progress=Math.round(g/m.metaData.size*100),get(r)[h].bitrate=Math.round(g/((Date.now()-get(r)[h].startTime)/1e3))}i.dataChannel.send(Message.encode({id:m.metaData.name,metaData:m.metaData}).finish()),get(r)[h].status=FileStatus.WaitingAccept}async function n(h){get(r)[h].stop=!0}async function l(h){get(r)[h].stop=!1,get(r)[h].event?.emit(receiveEventToJSON(ReceiveEvent.EVENT_RECEIVED_CHUNK))}function o(h){get(r)[h].status===FileStatus.Processing&&(get(r)[h].stop=!0),delete get(r)[h],set(r,get(r),!0)}function d(h){Array.from(h).forEach(async m=>{let g,v=new Uint8Array;i.isEncrypt&&i.rsaPub&&(g=await generateAesKey(),v=await encryptAesKeyWithRsaPublicKey(i.rsaPub,g));const w={name:m.name,size:m.size,type:m.type,key:v},E=validateFileMetadata(w);E&&addToastMessage(`${m.name} ${E.message}`,"error"),get(r)[m.name]={file:m,metaData:w,progress:0,bitrate:0,stop:!1,error:E,startTime:0,status:FileStatus.Pending,aesKey:g}})}var c=root$6(),f=child(c);DragAndDrop(f,{onFilesPick:d});var p=sibling(f,2);{var _=h=>{var m=root_1$4(),g=first_child(m);SendingFileList(g,{get sendingFiles(){return get(r)},onRemove:o,onSend:a,onStop:n,onContinue:l});var v=sibling(g,2);v.__click=[sendAllFiles,r,a];var w=sibling(child(v));Roller_coaster(w,{}),reset(v),append(h,m)},u=h=>{var m=root_2$4();append(h,m)};if_block(p,h=>{Object.keys(get(r)).length>0?h(_):h(u,!1)})}return reset(c),append(t,c),pop({onReceiveEvent:s})}delegate(["click"]);var on_click$2=(t,i,r)=>i.onAccept(r()),on_click_1$1=(t,i,r)=>i.onDeny(r()),root_3$2=template('<button class="btn btn-primary">Accept</button> <button class="btn btn-ghost">Deny</button>',1),on_click_2$1=(t,i,r)=>i.onDownload(r()),root_5=template('<button class="btn btn-active btn-success">Download <!></button>'),on_click_3$1=(t,i,r)=>i.onRemove(r()),root_4$1=template('<!> <button class="btn btn-error">Remove <!></button>',1),root_2$3=template('<div class="flex-none"><!></div>'),root$5=template('<div class="grid gap-8"></div>');function ReceivingFileList(t,i){push(i,!0);var r=root$5();each(r,23,()=>Object.entries(i.receivingFiles),([s,a])=>s,(s,a)=>{let n=()=>get(a)[0],l=()=>get(a)[1];FileCard(s,{get fileDetail(){return l()},isSender:!1,children:(o,d)=>{var c=root_2$3(),f=child(c);{var p=u=>{var h=root_3$2(),m=first_child(h);m.__click=[on_click$2,i,n];var g=sibling(m,2);g.__click=[on_click_1$1,i,n],append(u,h)},_=u=>{var h=root_4$1(),m=first_child(h);{var g=E=>{var S=root_5();S.__click=[on_click_2$1,i,n];var x=sibling(child(S));File_down(x,{}),reset(S),append(E,S)};if_block(m,E=>{l().status===FileStatus.Success&&E(g)})}var v=sibling(m,2);v.__click=[on_click_3$1,i,n];var w=sibling(child(v));Shredder(w,{}),reset(v),append(u,h)};if_block(f,u=>{l().status===FileStatus.WaitingAccept&&!l().error?u(p):u(_,!1)})}reset(c),append(o,c)},$$slots:{default:!0}})}),reset(r),append(t,r),pop()}delegate(["click"]);function onChange(t,i,r,s){i.onUpdate({...defaultReceiveOptions,autoAccept:r(),maxSize:Number(get(s))})}var root$4=template('<div class="grid grid-cols-1 gap-4 md:grid-cols-2"><div class="flex flex-row justify-between items-center"><div><span class="text-sm">Auto accept</span> <p class="text-xs text-gray-500">The receiver will automatically accept receiving files.</p></div> <select class="select select-bordered"><option>On</option><option>Off</option></select></div> <div class="flex flex-row justify-between items-center"><div><span class="text-sm">Max Size</span> <p class="text-xs text-gray-500">The max file size to allow to send.</p></div> <select class="select select-bordered"><option>10 MB</option><option>100 MB</option><option>1 GB</option><option>10 GB</option><option>Unlimit</option></select></div></div>');function ReceiverOptions(t,i){push(i,!0);let r=state(proxy(defaultReceiveOptions.autoAccept?"true":"false")),s=state(proxy(defaultReceiveOptions.maxSize));function a(){return get(r)==="true"}var n=root$4(),l=child(n),o=sibling(child(l),2);o.__change=[onChange,i,a,s];var d=child(o);d.value=d.__value="true";var c=sibling(d);c.value=c.__value="false",reset(o),reset(l);var f=sibling(l,2),p=sibling(child(f),2);p.__change=[onChange,i,a,s];var _=child(p);_.value=_.__value=10*1024;var u=sibling(_);u.value=u.__value=100*1024;var h=sibling(u);h.value=h.__value=1024*1024*1024;var m=sibling(h);m.value=m.__value=10*1024*1024*1024;var g=sibling(m);g.value=g.__value=1024*1024*1024*1024,reset(p),reset(f),reset(n),bind_select_value(o,()=>get(r),v=>set(r,v)),bind_select_value(p,()=>get(s),v=>set(s,v)),append(t,n),pop()}delegate(["change"]);const scriptRel="modulepreload",assetsURL=function(t){return"/"+t},seen={},__vitePreload=function t(i,r,s){let a=Promise.resolve();if(r&&r.length>0){let l=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),d=o?.nonce||o?.getAttribute("nonce");a=l(r.map(c=>{if(c=assetsURL(c),c in seen)return;seen[c]=!0;const f=c.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const _=document.createElement("link");if(_.rel=f?"stylesheet":scriptRel,f||(_.as="script"),_.crossOrigin="",_.href=c,d&&_.setAttribute("nonce",d),document.head.appendChild(_),f)return new Promise((u,h)=>{_.addEventListener("load",u),_.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function n(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return a.then(l=>{for(const o of l||[])o.status==="rejected"&&n(o.reason);return i().catch(n)})};var Directory;(function(t){t.Documents="DOCUMENTS",t.Data="DATA",t.Library="LIBRARY",t.Cache="CACHE",t.External="EXTERNAL",t.ExternalStorage="EXTERNAL_STORAGE"})(Directory||(Directory={}));var Encoding;(function(t){t.UTF8="utf8",t.ASCII="ascii",t.UTF16="utf16"})(Encoding||(Encoding={}));const Filesystem=registerPlugin("Filesystem",{web:()=>__vitePreload(()=>import("./web.TUJhb6UJ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])).then(t=>new t.FilesystemWeb)});function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var hasRequiredJszip_min;function requireJszip_min(){return hasRequiredJszip_min||(hasRequiredJszip_min=1,function(t,i){(function(r){t.exports=r()})(function(){return function r(s,a,n){function l(c,f){if(!a[c]){if(!s[c]){var p=typeof commonjsRequire=="function"&&commonjsRequire;if(!f&&p)return p(c,!0);if(o)return o(c,!0);var _=new Error("Cannot find module '"+c+"'");throw _.code="MODULE_NOT_FOUND",_}var u=a[c]={exports:{}};s[c][0].call(u.exports,function(h){var m=s[c][1][h];return l(m||h)},u,u.exports,r,s,a,n)}return a[c].exports}for(var o=typeof commonjsRequire=="function"&&commonjsRequire,d=0;d<n.length;d++)l(n[d]);return l}({1:[function(r,s,a){var n=r("./utils"),l=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(d){for(var c,f,p,_,u,h,m,g=[],v=0,w=d.length,E=w,S=n.getTypeOf(d)!=="string";v<d.length;)E=w-v,p=S?(c=d[v++],f=v<w?d[v++]:0,v<w?d[v++]:0):(c=d.charCodeAt(v++),f=v<w?d.charCodeAt(v++):0,v<w?d.charCodeAt(v++):0),_=c>>2,u=(3&c)<<4|f>>4,h=1<E?(15&f)<<2|p>>6:64,m=2<E?63&p:64,g.push(o.charAt(_)+o.charAt(u)+o.charAt(h)+o.charAt(m));return g.join("")},a.decode=function(d){var c,f,p,_,u,h,m=0,g=0,v="data:";if(d.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var w,E=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===o.charAt(64)&&E--,d.charAt(d.length-2)===o.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=l.uint8array?new Uint8Array(0|E):new Array(0|E);m<d.length;)c=o.indexOf(d.charAt(m++))<<2|(_=o.indexOf(d.charAt(m++)))>>4,f=(15&_)<<4|(u=o.indexOf(d.charAt(m++)))>>2,p=(3&u)<<6|(h=o.indexOf(d.charAt(m++))),w[g++]=c,u!==64&&(w[g++]=f),h!==64&&(w[g++]=p);return w}},{"./support":30,"./utils":32}],2:[function(r,s,a){var n=r("./external"),l=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function c(f,p,_,u,h){this.compressedSize=f,this.uncompressedSize=p,this.crc32=_,this.compression=u,this.compressedContent=h}c.prototype={getContentWorker:function(){var f=new l(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),p=this;return f.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new l(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(f,p,_){return f.pipe(new o).pipe(new d("uncompressedSize")).pipe(p.compressWorker(_)).pipe(new d("compressedSize")).withStreamInfo("compression",p)},s.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,s,a){var n=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,s,a){var n=r("./utils"),l=function(){for(var o,d=[],c=0;c<256;c++){o=c;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;d[c]=o}return d}();s.exports=function(o,d){return o!==void 0&&o.length?n.getTypeOf(o)!=="string"?function(c,f,p,_){var u=l,h=_+p;c^=-1;for(var m=_;m<h;m++)c=c>>>8^u[255&(c^f[m])];return-1^c}(0|d,o,o.length,0):function(c,f,p,_){var u=l,h=_+p;c^=-1;for(var m=_;m<h;m++)c=c>>>8^u[255&(c^f.charCodeAt(m))];return-1^c}(0|d,o,o.length,0):0}},{"./utils":32}],5:[function(r,s,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,s,a){var n=null;n=typeof Promise<"u"?Promise:r("lie"),s.exports={Promise:n}},{lie:37}],7:[function(r,s,a){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=r("pako"),o=r("./utils"),d=r("./stream/GenericWorker"),c=n?"uint8array":"array";function f(p,_){d.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=_,this.meta={}}a.magic="\b\0",o.inherits(f,d),f.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,p.data),!1)},f.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(_){p.push({data:_,meta:p.meta})}},a.compressWorker=function(p){return new f("Deflate",p)},a.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,s,a){function n(u,h){var m,g="";for(m=0;m<h;m++)g+=String.fromCharCode(255&u),u>>>=8;return g}function l(u,h,m,g,v,w){var E,S,x=u.file,I=u.compression,R=w!==c.utf8encode,D=o.transformTo("string",w(x.name)),C=o.transformTo("string",c.utf8encode(x.name)),M=x.comment,P=o.transformTo("string",w(M)),A=o.transformTo("string",c.utf8encode(M)),N=C.length!==x.name.length,y=A.length!==M.length,$="",J="",U="",te=x.dir,j=x.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};h&&!m||(ee.crc32=u.crc32,ee.compressedSize=u.compressedSize,ee.uncompressedSize=u.uncompressedSize);var z=0;h&&(z|=8),R||!N&&!y||(z|=2048);var B=0,Y=0;te&&(B|=16),v==="UNIX"?(Y=798,B|=function(q,le){var de=q;return q||(de=le?16893:33204),(65535&de)<<16}(x.unixPermissions,te)):(Y=20,B|=function(q){return 63&(q||0)}(x.dosPermissions)),E=j.getUTCHours(),E<<=6,E|=j.getUTCMinutes(),E<<=5,E|=j.getUTCSeconds()/2,S=j.getUTCFullYear()-1980,S<<=4,S|=j.getUTCMonth()+1,S<<=5,S|=j.getUTCDate(),N&&(J=n(1,1)+n(f(D),4)+C,$+="up"+n(J.length,2)+J),y&&(U=n(1,1)+n(f(P),4)+A,$+="uc"+n(U.length,2)+U);var K="";return K+=`
\0`,K+=n(z,2),K+=I.magic,K+=n(E,2),K+=n(S,2),K+=n(ee.crc32,4),K+=n(ee.compressedSize,4),K+=n(ee.uncompressedSize,4),K+=n(D.length,2),K+=n($.length,2),{fileRecord:p.LOCAL_FILE_HEADER+K+D+$,dirRecord:p.CENTRAL_FILE_HEADER+n(Y,2)+K+n(P.length,2)+"\0\0\0\0"+n(B,4)+n(g,4)+D+$+P}}var o=r("../utils"),d=r("../stream/GenericWorker"),c=r("../utf8"),f=r("../crc32"),p=r("../signature");function _(u,h,m,g){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=m,this.encodeFileName=g,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(_,d),_.prototype.push=function(u){var h=u.meta.percent||0,m=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,d.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:m?(h+100*(m-g-1))/m:100}}))},_.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var h=this.streamFiles&&!u.file.dir;if(h){var m=l(u,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(u){this.accumulate=!1;var h=this.streamFiles&&!u.file.dir,m=l(u,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),h)this.push({data:function(g){return p.DATA_DESCRIPTOR+n(g.crc32,4)+n(g.compressedSize,4)+n(g.uncompressedSize,4)}(u),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var u=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var m=this.bytesWritten-u,g=function(v,w,E,S,x){var I=o.transformTo("string",x(S));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(v,2)+n(v,2)+n(w,4)+n(E,4)+n(I.length,2)+I}(this.dirRecords.length,m,u,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(u){this._sources.push(u);var h=this;return u.on("data",function(m){h.processChunk(m)}),u.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),u.on("error",function(m){h.error(m)}),this},_.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(u){var h=this._sources;if(!d.prototype.error.call(this,u))return!1;for(var m=0;m<h.length;m++)try{h[m].error(u)}catch{}return!0},_.prototype.lock=function(){d.prototype.lock.call(this);for(var u=this._sources,h=0;h<u.length;h++)u[h].lock()},s.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,s,a){var n=r("../compressions"),l=r("./ZipFileWorker");a.generateWorker=function(o,d,c){var f=new l(d.streamFiles,c,d.platform,d.encodeFileName),p=0;try{o.forEach(function(_,u){p++;var h=function(w,E){var S=w||E,x=n[S];if(!x)throw new Error(S+" is not a valid compression method !");return x}(u.options.compression,d.compression),m=u.options.compressionOptions||d.compressionOptions||{},g=u.dir,v=u.date;u._compressWorker(h,m).withStreamInfo("file",{name:_,dir:g,date:v,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(f)}),f.entriesCount=p}catch(_){f.error(_)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,s,a){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new n;for(var o in this)typeof this[o]!="function"&&(l[o]=this[o]);return l}}(n.prototype=r("./object")).loadAsync=r("./load"),n.support=r("./support"),n.defaults=r("./defaults"),n.version="3.10.1",n.loadAsync=function(l,o){return new n().loadAsync(l,o)},n.external=r("./external"),s.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,s,a){var n=r("./utils"),l=r("./external"),o=r("./utf8"),d=r("./zipEntries"),c=r("./stream/Crc32Probe"),f=r("./nodejsUtils");function p(_){return new l.Promise(function(u,h){var m=_.decompressed.getContentWorker().pipe(new c);m.on("error",function(g){h(g)}).on("end",function(){m.streamInfo.crc32!==_.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}s.exports=function(_,u){var h=this;return u=n.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),f.isNode&&f.isStream(_)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",_,!0,u.optimizedBinaryString,u.base64).then(function(m){var g=new d(u);return g.load(m),g}).then(function(m){var g=[l.Promise.resolve(m)],v=m.files;if(u.checkCRC32)for(var w=0;w<v.length;w++)g.push(p(v[w]));return l.Promise.all(g)}).then(function(m){for(var g=m.shift(),v=g.files,w=0;w<v.length;w++){var E=v[w],S=E.fileNameStr,x=n.resolve(E.fileNameStr);h.file(x,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:u.createFolders}),E.dir||(h.file(x).unsafeOriginalName=S)}return g.zipComment.length&&(h.comment=g.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,s,a){var n=r("../utils"),l=r("../stream/GenericWorker");function o(d,c){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(c)}n.inherits(o,l),o.prototype._bindStream=function(d){var c=this;(this._stream=d).pause(),d.on("data",function(f){c.push({data:f,meta:{percent:0}})}).on("error",function(f){c.isPaused?this.generatedError=f:c.error(f)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},s.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,s,a){var n=r("readable-stream").Readable;function l(o,d,c){n.call(this,d),this._helper=o;var f=this;o.on("data",function(p,_){f.push(p)||f._helper.pause(),c&&c(_)}).on("error",function(p){f.emit("error",p)}).on("end",function(){f.push(null)})}r("../utils").inherits(l,n),l.prototype._read=function(){this._helper.resume()},s.exports=l},{"../utils":32,"readable-stream":16}],14:[function(r,s,a){s.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,l);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,l)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var l=new Buffer(n);return l.fill(0),l},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(r,s,a){function n(x,I,R){var D,C=o.getTypeOf(I),M=o.extend(R||{},f);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(x=v(x)),M.createFolders&&(D=g(x))&&w.call(this,D,!0);var P=C==="string"&&M.binary===!1&&M.base64===!1;R&&R.binary!==void 0||(M.binary=!P),(I instanceof p&&I.uncompressedSize===0||M.dir||!I||I.length===0)&&(M.base64=!1,M.binary=!0,I="",M.compression="STORE",C="string");var A=null;A=I instanceof p||I instanceof d?I:h.isNode&&h.isStream(I)?new m(x,I):o.prepareContent(x,I,M.binary,M.optimizedBinaryString,M.base64);var N=new _(x,A,M);this.files[x]=N}var l=r("./utf8"),o=r("./utils"),d=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),f=r("./defaults"),p=r("./compressedObject"),_=r("./zipObject"),u=r("./generate"),h=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),g=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var I=x.lastIndexOf("/");return 0<I?x.substring(0,I):""},v=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},w=function(x,I){return I=I!==void 0?I:f.createFolders,x=v(x),this.files[x]||n.call(this,x,null,{dir:!0,createFolders:I}),this.files[x]};function E(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var I,R,D;for(I in this.files)D=this.files[I],(R=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&x(R,D)},filter:function(x){var I=[];return this.forEach(function(R,D){x(R,D)&&I.push(D)}),I},file:function(x,I,R){if(arguments.length!==1)return x=this.root+x,n.call(this,x,I,R),this;if(E(x)){var D=x;return this.filter(function(M,P){return!P.dir&&D.test(M)})}var C=this.files[this.root+x];return C&&!C.dir?C:null},folder:function(x){if(!x)return this;if(E(x))return this.filter(function(C,M){return M.dir&&x.test(C)});var I=this.root+x,R=w.call(this,I),D=this.clone();return D.root=R.name,D},remove:function(x){x=this.root+x;var I=this.files[x];if(I||(x.slice(-1)!=="/"&&(x+="/"),I=this.files[x]),I&&!I.dir)delete this.files[x];else for(var R=this.filter(function(C,M){return M.name.slice(0,x.length)===x}),D=0;D<R.length;D++)delete this.files[R[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var I,R={};try{if((R=o.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");o.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var D=R.comment||this.comment||"";I=u.generateWorker(this,R,D)}catch(C){(I=new d("error")).error(C)}return new c(I,R.type||"string",R.mimeType)},generateAsync:function(x,I){return this.generateInternalStream(x).accumulate(I)},generateNodeStream:function(x,I){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(I)}};s.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,s,a){s.exports=r("stream")},{stream:void 0}],17:[function(r,s,a){var n=r("./DataReader");function l(o){n.call(this,o);for(var d=0;d<this.data.length;d++)o[d]=255&o[d]}r("../utils").inherits(l,n),l.prototype.byteAt=function(o){return this.data[this.zero+o]},l.prototype.lastIndexOfSignature=function(o){for(var d=o.charCodeAt(0),c=o.charCodeAt(1),f=o.charCodeAt(2),p=o.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===d&&this.data[_+1]===c&&this.data[_+2]===f&&this.data[_+3]===p)return _-this.zero;return-1},l.prototype.readAndCheckSignature=function(o){var d=o.charCodeAt(0),c=o.charCodeAt(1),f=o.charCodeAt(2),p=o.charCodeAt(3),_=this.readData(4);return d===_[0]&&c===_[1]&&f===_[2]&&p===_[3]},l.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,d},s.exports=l},{"../utils":32,"./DataReader":18}],18:[function(r,s,a){var n=r("../utils");function l(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var d,c=0;for(this.checkOffset(o),d=this.index+o-1;d>=this.index;d--)c=(c<<8)+this.byteAt(d);return this.index+=o,c},readString:function(o){return n.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},s.exports=l},{"../utils":32}],19:[function(r,s,a){var n=r("./Uint8ArrayReader");function l(o){n.call(this,o)}r("../utils").inherits(l,n),l.prototype.readData=function(o){this.checkOffset(o);var d=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,d},s.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,s,a){var n=r("./DataReader");function l(o){n.call(this,o)}r("../utils").inherits(l,n),l.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},l.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},l.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},l.prototype.readData=function(o){this.checkOffset(o);var d=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,d},s.exports=l},{"../utils":32,"./DataReader":18}],21:[function(r,s,a){var n=r("./ArrayReader");function l(o){n.call(this,o)}r("../utils").inherits(l,n),l.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,d},s.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(r,s,a){var n=r("../utils"),l=r("../support"),o=r("./ArrayReader"),d=r("./StringReader"),c=r("./NodeBufferReader"),f=r("./Uint8ArrayReader");s.exports=function(p){var _=n.getTypeOf(p);return n.checkSupport(_),_!=="string"||l.uint8array?_==="nodebuffer"?new c(p):l.uint8array?new f(n.transformTo("uint8array",p)):new o(n.transformTo("array",p)):new d(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,s,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,s,a){var n=r("./GenericWorker"),l=r("../utils");function o(d){n.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(o,n),o.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},s.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,s,a){var n=r("./GenericWorker"),l=r("../crc32");function o(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,n),o.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},s.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,s,a){var n=r("../utils"),l=r("./GenericWorker");function o(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}n.inherits(o,l),o.prototype.processChunk=function(d){if(d){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+d.data.length}l.prototype.processChunk.call(this,d)},s.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,s,a){var n=r("../utils"),l=r("./GenericWorker");function o(d){l.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(f){c.dataIsReady=!0,c.data=f,c.max=f&&f.length||0,c.type=n.getTypeOf(f),c.isPaused||c._tickAndRepeat()},function(f){c.error(f)})}n.inherits(o,l),o.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,c);break;case"uint8array":d=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":d=this.data.slice(this.index,c)}return this.index=c,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},s.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,s,a){function n(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,o){return this._listeners[l].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,o){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,o)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var o=this;return l.on("data",function(d){o.processChunk(d)}),l.on("end",function(){o.end()}),l.on("error",function(d){o.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,o){return this.extraStreamInfo[l]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},s.exports=n},{}],29:[function(r,s,a){var n=r("../utils"),l=r("./ConvertWorker"),o=r("./GenericWorker"),d=r("../base64"),c=r("../support"),f=r("../external"),p=null;if(c.nodestream)try{p=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(h,m){return new f.Promise(function(g,v){var w=[],E=h._internalType,S=h._outputType,x=h._mimeType;h.on("data",function(I,R){w.push(I),m&&m(R)}).on("error",function(I){w=[],v(I)}).on("end",function(){try{var I=function(R,D,C){switch(R){case"blob":return n.newBlob(n.transformTo("arraybuffer",D),C);case"base64":return d.encode(D);default:return n.transformTo(R,D)}}(S,function(R,D){var C,M=0,P=null,A=0;for(C=0;C<D.length;C++)A+=D[C].length;switch(R){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(P=new Uint8Array(A),C=0;C<D.length;C++)P.set(D[C],M),M+=D[C].length;return P;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+R+"'")}}(E,w),x);g(I)}catch(R){v(R)}w=[]}).resume()})}function u(h,m,g){var v=m;switch(m){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=m,this._mimeType=g,n.checkSupport(v),this._worker=h.pipe(new l(v)),h.lock()}catch(w){this._worker=new o("error"),this._worker.error(w)}}u.prototype={accumulate:function(h){return _(this,h)},on:function(h,m){var g=this;return h==="data"?this._worker.on(h,function(v){m.call(g,v.data,v.meta)}):this._worker.on(h,function(){n.delay(m,arguments,g)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},h)}},s.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,s,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var n=new ArrayBuffer(0);try{a.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(n),a.blob=l.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,s,a){for(var n=r("./utils"),l=r("./support"),o=r("./nodejsUtils"),d=r("./stream/GenericWorker"),c=new Array(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;c[254]=c[254]=1;function p(){d.call(this,"utf-8 decode"),this.leftOver=null}function _(){d.call(this,"utf-8 encode")}a.utf8encode=function(u){return l.nodebuffer?o.newBufferFrom(u,"utf-8"):function(h){var m,g,v,w,E,S=h.length,x=0;for(w=0;w<S;w++)(64512&(g=h.charCodeAt(w)))==55296&&w+1<S&&(64512&(v=h.charCodeAt(w+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),w++),x+=g<128?1:g<2048?2:g<65536?3:4;for(m=l.uint8array?new Uint8Array(x):new Array(x),w=E=0;E<x;w++)(64512&(g=h.charCodeAt(w)))==55296&&w+1<S&&(64512&(v=h.charCodeAt(w+1)))==56320&&(g=65536+(g-55296<<10)+(v-56320),w++),g<128?m[E++]=g:(g<2048?m[E++]=192|g>>>6:(g<65536?m[E++]=224|g>>>12:(m[E++]=240|g>>>18,m[E++]=128|g>>>12&63),m[E++]=128|g>>>6&63),m[E++]=128|63&g);return m}(u)},a.utf8decode=function(u){return l.nodebuffer?n.transformTo("nodebuffer",u).toString("utf-8"):function(h){var m,g,v,w,E=h.length,S=new Array(2*E);for(m=g=0;m<E;)if((v=h[m++])<128)S[g++]=v;else if(4<(w=c[v]))S[g++]=65533,m+=w-1;else{for(v&=w===2?31:w===3?15:7;1<w&&m<E;)v=v<<6|63&h[m++],w--;1<w?S[g++]=65533:v<65536?S[g++]=v:(v-=65536,S[g++]=55296|v>>10&1023,S[g++]=56320|1023&v)}return S.length!==g&&(S.subarray?S=S.subarray(0,g):S.length=g),n.applyFromCharCode(S)}(u=n.transformTo(l.uint8array?"uint8array":"array",u))},n.inherits(p,d),p.prototype.processChunk=function(u){var h=n.transformTo(l.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var m=h;(h=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),h.set(m,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var g=function(w,E){var S;for((E=E||w.length)>w.length&&(E=w.length),S=E-1;0<=S&&(192&w[S])==128;)S--;return S<0||S===0?E:S+c[w[S]]>E?S:E}(h),v=h;g!==h.length&&(l.uint8array?(v=h.subarray(0,g),this.leftOver=h.subarray(g,h.length)):(v=h.slice(0,g),this.leftOver=h.slice(g,h.length))),this.push({data:a.utf8decode(v),meta:u.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=p,n.inherits(_,d),_.prototype.processChunk=function(u){this.push({data:a.utf8encode(u.data),meta:u.meta})},a.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,s,a){var n=r("./support"),l=r("./base64"),o=r("./nodejsUtils"),d=r("./external");function c(m){return m}function f(m,g){for(var v=0;v<m.length;++v)g[v]=255&m.charCodeAt(v);return g}r("setimmediate"),a.newBlob=function(m,g){a.checkSupport("blob");try{return new Blob([m],{type:g})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(m),v.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(m,g,v){var w=[],E=0,S=m.length;if(S<=v)return String.fromCharCode.apply(null,m);for(;E<S;)g==="array"||g==="nodebuffer"?w.push(String.fromCharCode.apply(null,m.slice(E,Math.min(E+v,S)))):w.push(String.fromCharCode.apply(null,m.subarray(E,Math.min(E+v,S)))),E+=v;return w.join("")},stringifyByChar:function(m){for(var g="",v=0;v<m.length;v++)g+=String.fromCharCode(m[v]);return g},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function _(m){var g=65536,v=a.getTypeOf(m),w=!0;if(v==="uint8array"?w=p.applyCanBeUsed.uint8array:v==="nodebuffer"&&(w=p.applyCanBeUsed.nodebuffer),w)for(;1<g;)try{return p.stringifyByChunk(m,v,g)}catch{g=Math.floor(g/2)}return p.stringifyByChar(m)}function u(m,g){for(var v=0;v<m.length;v++)g[v]=m[v];return g}a.applyFromCharCode=_;var h={};h.string={string:c,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return h.string.uint8array(m).buffer},uint8array:function(m){return f(m,new Uint8Array(m.length))},nodebuffer:function(m){return f(m,o.allocBuffer(m.length))}},h.array={string:_,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(m)}},h.arraybuffer={string:function(m){return _(new Uint8Array(m))},array:function(m){return u(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(new Uint8Array(m))}},h.uint8array={string:_,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return o.newBufferFrom(m)}},h.nodebuffer={string:_,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return h.nodebuffer.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:c},a.transformTo=function(m,g){if(g=g||"",!m)return g;a.checkSupport(m);var v=a.getTypeOf(g);return h[v][m](g)},a.resolve=function(m){for(var g=m.split("/"),v=[],w=0;w<g.length;w++){var E=g[w];E==="."||E===""&&w!==0&&w!==g.length-1||(E===".."?v.pop():v.push(E))}return v.join("/")},a.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":n.nodebuffer&&o.isBuffer(m)?"nodebuffer":n.uint8array&&m instanceof Uint8Array?"uint8array":n.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(m){if(!n[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(m){var g,v,w="";for(v=0;v<(m||"").length;v++)w+="\\x"+((g=m.charCodeAt(v))<16?"0":"")+g.toString(16).toUpperCase();return w},a.delay=function(m,g,v){setImmediate(function(){m.apply(v||null,g||[])})},a.inherits=function(m,g){function v(){}v.prototype=g.prototype,m.prototype=new v},a.extend=function(){var m,g,v={};for(m=0;m<arguments.length;m++)for(g in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],g)&&v[g]===void 0&&(v[g]=arguments[m][g]);return v},a.prepareContent=function(m,g,v,w,E){return d.Promise.resolve(g).then(function(S){return n.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new d.Promise(function(x,I){var R=new FileReader;R.onload=function(D){x(D.target.result)},R.onerror=function(D){I(D.target.error)},R.readAsArrayBuffer(S)}):S}).then(function(S){var x=a.getTypeOf(S);return x?(x==="arraybuffer"?S=a.transformTo("uint8array",S):x==="string"&&(E?S=l.decode(S):v&&w!==!0&&(S=function(I){return f(I,n.uint8array?new Uint8Array(I.length):new Array(I.length))}(S))),S):d.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,s,a){var n=r("./reader/readerFor"),l=r("./utils"),o=r("./signature"),d=r("./zipEntry"),c=r("./support");function f(p){this.files=[],this.loadOptions=p}f.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(_)+", expected "+l.pretty(p)+")")}},isSignature:function(p,_){var u=this.reader.index;this.reader.setIndex(p);var h=this.reader.readString(4)===_;return this.reader.setIndex(u),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),_=c.uint8array?"uint8array":"array",u=l.transformTo(_,p);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,_,u,h=this.zip64EndOfCentralSize-44;0<h;)p=this.reader.readInt(2),_=this.reader.readInt(4),u=this.reader.readData(_),this.zip64ExtensibleData[p]={id:p,length:_,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,_;for(p=0;p<this.files.length;p++)_=this.files[p],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(p=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var _=p;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var h=_-u;if(0<h)this.isSignature(_,o.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(p){this.reader=n(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},s.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,s,a){var n=r("./reader/readerFor"),l=r("./utils"),o=r("./compressedObject"),d=r("./crc32"),c=r("./utf8"),f=r("./compressions"),p=r("./support");function _(u,h){this.options=u,this.loadOptions=h}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var h,m;if(u.skip(22),this.fileNameLength=u.readInt(2),m=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((h=function(g){for(var v in f)if(Object.prototype.hasOwnProperty.call(f,v)&&f[v].magic===g)return f[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,h,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var h=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(h),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=n(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var h,m,g,v=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<v;)h=u.readInt(2),m=u.readInt(2),g=u.readData(m),this.extraFields[h]={id:h,length:m,value:g};u.setIndex(v)},handleUTF8:function(){var u=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var m=l.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var v=l.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var h=n(u.value);return h.readInt(1)!==1||d(this.fileName)!==h.readInt(4)?null:c.utf8decode(h.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var h=n(u.value);return h.readInt(1)!==1||d(this.fileComment)!==h.readInt(4)?null:c.utf8decode(h.readData(u.length-5))}return null}},s.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,s,a){function n(h,m,g){this.name=h,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=m,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var l=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),d=r("./utf8"),c=r("./compressedObject"),f=r("./stream/GenericWorker");n.prototype={internalStream:function(h){var m=null,g="string";try{if(!h)throw new Error("No output type specified.");var v=(g=h.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),m=this._decompressWorker();var w=!this._dataBinary;w&&!v&&(m=m.pipe(new d.Utf8EncodeWorker)),!w&&v&&(m=m.pipe(new d.Utf8DecodeWorker))}catch(E){(m=new f("error")).error(E)}return new l(m,g,"")},async:function(h,m){return this.internalStream(h).accumulate(m)},nodeStream:function(h,m){return this.internalStream(h||"nodebuffer").toNodejsStream(m)},_compressWorker:function(h,m){if(this._data instanceof c&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new d.Utf8EncodeWorker)),c.createWorkerFrom(g,h,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof f?this._data:new o(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<p.length;u++)n.prototype[p[u]]=_;s.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,s,a){(function(n){var l,o,d=n.MutationObserver||n.WebKitMutationObserver;if(d){var c=0,f=new d(h),p=n.document.createTextNode("");f.observe(p,{characterData:!0}),l=function(){p.data=c=++c%2}}else if(n.setImmediate||n.MessageChannel===void 0)l="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var m=n.document.createElement("script");m.onreadystatechange=function(){h(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},n.document.documentElement.appendChild(m)}:function(){setTimeout(h,0)};else{var _=new n.MessageChannel;_.port1.onmessage=h,l=function(){_.port2.postMessage(0)}}var u=[];function h(){var m,g;o=!0;for(var v=u.length;v;){for(g=u,u=[],m=-1;++m<v;)g[m]();v=u.length}o=!1}s.exports=function(m){u.push(m)!==1||o||l()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,s,a){var n=r("immediate");function l(){}var o={},d=["REJECTED"],c=["FULFILLED"],f=["PENDING"];function p(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,v!==l&&m(this,v)}function _(v,w,E){this.promise=v,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function u(v,w,E){n(function(){var S;try{S=w(E)}catch(x){return o.reject(v,x)}S===v?o.reject(v,new TypeError("Cannot resolve promise with itself")):o.resolve(v,S)})}function h(v){var w=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof w=="function")return function(){w.apply(v,arguments)}}function m(v,w){var E=!1;function S(R){E||(E=!0,o.reject(v,R))}function x(R){E||(E=!0,o.resolve(v,R))}var I=g(function(){w(x,S)});I.status==="error"&&S(I.value)}function g(v,w){var E={};try{E.value=v(w),E.status="success"}catch(S){E.status="error",E.value=S}return E}(s.exports=p).prototype.finally=function(v){if(typeof v!="function")return this;var w=this.constructor;return this.then(function(E){return w.resolve(v()).then(function(){return E})},function(E){return w.resolve(v()).then(function(){throw E})})},p.prototype.catch=function(v){return this.then(null,v)},p.prototype.then=function(v,w){if(typeof v!="function"&&this.state===c||typeof w!="function"&&this.state===d)return this;var E=new this.constructor(l);return this.state!==f?u(E,this.state===c?v:w,this.outcome):this.queue.push(new _(E,v,w)),E},_.prototype.callFulfilled=function(v){o.resolve(this.promise,v)},_.prototype.otherCallFulfilled=function(v){u(this.promise,this.onFulfilled,v)},_.prototype.callRejected=function(v){o.reject(this.promise,v)},_.prototype.otherCallRejected=function(v){u(this.promise,this.onRejected,v)},o.resolve=function(v,w){var E=g(h,w);if(E.status==="error")return o.reject(v,E.value);var S=E.value;if(S)m(v,S);else{v.state=c,v.outcome=w;for(var x=-1,I=v.queue.length;++x<I;)v.queue[x].callFulfilled(w)}return v},o.reject=function(v,w){v.state=d,v.outcome=w;for(var E=-1,S=v.queue.length;++E<S;)v.queue[E].callRejected(w);return v},p.resolve=function(v){return v instanceof this?v:o.resolve(new this(l),v)},p.reject=function(v){var w=new this(l);return o.reject(w,v)},p.all=function(v){var w=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=v.length,S=!1;if(!E)return this.resolve([]);for(var x=new Array(E),I=0,R=-1,D=new this(l);++R<E;)C(v[R],R);return D;function C(M,P){w.resolve(M).then(function(A){x[P]=A,++I!==E||S||(S=!0,o.resolve(D,x))},function(A){S||(S=!0,o.reject(D,A))})}},p.race=function(v){var w=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=v.length,S=!1;if(!E)return this.resolve([]);for(var x=-1,I=new this(l);++x<E;)R=v[x],w.resolve(R).then(function(D){S||(S=!0,o.resolve(I,D))},function(D){S||(S=!0,o.reject(I,D))});var R;return I}},{immediate:36}],38:[function(r,s,a){var n={};(0,r("./lib/utils/common").assign)(n,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),s.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,s,a){var n=r("./zlib/deflate"),l=r("./utils/common"),o=r("./utils/strings"),d=r("./zlib/messages"),c=r("./zlib/zstream"),f=Object.prototype.toString,p=0,_=-1,u=0,h=8;function m(v){if(!(this instanceof m))return new m(v);this.options=l.assign({level:_,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},v||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var E=n.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(E!==p)throw new Error(d[E]);if(w.header&&n.deflateSetHeader(this.strm,w.header),w.dictionary){var S;if(S=typeof w.dictionary=="string"?o.string2buf(w.dictionary):f.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(E=n.deflateSetDictionary(this.strm,S))!==p)throw new Error(d[E]);this._dict_set=!0}}function g(v,w){var E=new m(w);if(E.push(v,!0),E.err)throw E.msg||d[E.err];return E.result}m.prototype.push=function(v,w){var E,S,x=this.strm,I=this.options.chunkSize;if(this.ended)return!1;S=w===~~w?w:w===!0?4:0,typeof v=="string"?x.input=o.string2buf(v):f.call(v)==="[object ArrayBuffer]"?x.input=new Uint8Array(v):x.input=v,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new l.Buf8(I),x.next_out=0,x.avail_out=I),(E=n.deflate(x,S))!==1&&E!==p)return this.onEnd(E),!(this.ended=!0);x.avail_out!==0&&(x.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(l.shrinkBuf(x.output,x.next_out))):this.onData(l.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||x.avail_out===0)&&E!==1);return S===4?(E=n.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===p):S!==2||(this.onEnd(p),!(x.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},a.Deflate=m,a.deflate=g,a.deflateRaw=function(v,w){return(w=w||{}).raw=!0,g(v,w)},a.gzip=function(v,w){return(w=w||{}).gzip=!0,g(v,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,s,a){var n=r("./zlib/inflate"),l=r("./utils/common"),o=r("./utils/strings"),d=r("./zlib/constants"),c=r("./zlib/messages"),f=r("./zlib/zstream"),p=r("./zlib/gzheader"),_=Object.prototype.toString;function u(m){if(!(this instanceof u))return new u(m);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},m||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||m&&m.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var v=n.inflateInit2(this.strm,g.windowBits);if(v!==d.Z_OK)throw new Error(c[v]);this.header=new p,n.inflateGetHeader(this.strm,this.header)}function h(m,g){var v=new u(g);if(v.push(m,!0),v.err)throw v.msg||c[v.err];return v.result}u.prototype.push=function(m,g){var v,w,E,S,x,I,R=this.strm,D=this.options.chunkSize,C=this.options.dictionary,M=!1;if(this.ended)return!1;w=g===~~g?g:g===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof m=="string"?R.input=o.binstring2buf(m):_.call(m)==="[object ArrayBuffer]"?R.input=new Uint8Array(m):R.input=m,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new l.Buf8(D),R.next_out=0,R.avail_out=D),(v=n.inflate(R,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&C&&(I=typeof C=="string"?o.string2buf(C):_.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,v=n.inflateSetDictionary(this.strm,I)),v===d.Z_BUF_ERROR&&M===!0&&(v=d.Z_OK,M=!1),v!==d.Z_STREAM_END&&v!==d.Z_OK)return this.onEnd(v),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&v!==d.Z_STREAM_END&&(R.avail_in!==0||w!==d.Z_FINISH&&w!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=o.utf8border(R.output,R.next_out),S=R.next_out-E,x=o.buf2string(R.output,E),R.next_out=S,R.avail_out=D-S,S&&l.arraySet(R.output,R.output,E,S,0),this.onData(x)):this.onData(l.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(M=!0)}while((0<R.avail_in||R.avail_out===0)&&v!==d.Z_STREAM_END);return v===d.Z_STREAM_END&&(w=d.Z_FINISH),w===d.Z_FINISH?(v=n.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===d.Z_OK):w!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(R.avail_out=0))},u.prototype.onData=function(m){this.chunks.push(m)},u.prototype.onEnd=function(m){m===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},a.Inflate=u,a.inflate=h,a.inflateRaw=function(m,g){return(g=g||{}).raw=!0,h(m,g)},a.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,s,a){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(d){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var f=c.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])}}return d},a.shrinkBuf=function(d,c){return d.length===c?d:d.subarray?d.subarray(0,c):(d.length=c,d)};var l={arraySet:function(d,c,f,p,_){if(c.subarray&&d.subarray)d.set(c.subarray(f,f+p),_);else for(var u=0;u<p;u++)d[_+u]=c[f+u]},flattenChunks:function(d){var c,f,p,_,u,h;for(c=p=0,f=d.length;c<f;c++)p+=d[c].length;for(h=new Uint8Array(p),c=_=0,f=d.length;c<f;c++)u=d[c],h.set(u,_),_+=u.length;return h}},o={arraySet:function(d,c,f,p,_){for(var u=0;u<p;u++)d[_+u]=c[f+u]},flattenChunks:function(d){return[].concat.apply([],d)}};a.setTyped=function(d){d?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,l)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,o))},a.setTyped(n)},{}],42:[function(r,s,a){var n=r("./common"),l=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var d=new n.Buf8(256),c=0;c<256;c++)d[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function f(p,_){if(_<65537&&(p.subarray&&o||!p.subarray&&l))return String.fromCharCode.apply(null,n.shrinkBuf(p,_));for(var u="",h=0;h<_;h++)u+=String.fromCharCode(p[h]);return u}d[254]=d[254]=1,a.string2buf=function(p){var _,u,h,m,g,v=p.length,w=0;for(m=0;m<v;m++)(64512&(u=p.charCodeAt(m)))==55296&&m+1<v&&(64512&(h=p.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(h-56320),m++),w+=u<128?1:u<2048?2:u<65536?3:4;for(_=new n.Buf8(w),m=g=0;g<w;m++)(64512&(u=p.charCodeAt(m)))==55296&&m+1<v&&(64512&(h=p.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(h-56320),m++),u<128?_[g++]=u:(u<2048?_[g++]=192|u>>>6:(u<65536?_[g++]=224|u>>>12:(_[g++]=240|u>>>18,_[g++]=128|u>>>12&63),_[g++]=128|u>>>6&63),_[g++]=128|63&u);return _},a.buf2binstring=function(p){return f(p,p.length)},a.binstring2buf=function(p){for(var _=new n.Buf8(p.length),u=0,h=_.length;u<h;u++)_[u]=p.charCodeAt(u);return _},a.buf2string=function(p,_){var u,h,m,g,v=_||p.length,w=new Array(2*v);for(u=h=0;u<v;)if((m=p[u++])<128)w[h++]=m;else if(4<(g=d[m]))w[h++]=65533,u+=g-1;else{for(m&=g===2?31:g===3?15:7;1<g&&u<v;)m=m<<6|63&p[u++],g--;1<g?w[h++]=65533:m<65536?w[h++]=m:(m-=65536,w[h++]=55296|m>>10&1023,w[h++]=56320|1023&m)}return f(w,h)},a.utf8border=function(p,_){var u;for((_=_||p.length)>p.length&&(_=p.length),u=_-1;0<=u&&(192&p[u])==128;)u--;return u<0||u===0?_:u+d[p[u]]>_?u:_}},{"./common":41}],43:[function(r,s,a){s.exports=function(n,l,o,d){for(var c=65535&n|0,f=n>>>16&65535|0,p=0;o!==0;){for(o-=p=2e3<o?2e3:o;f=f+(c=c+l[d++]|0)|0,--p;);c%=65521,f%=65521}return c|f<<16|0}},{}],44:[function(r,s,a){s.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,s,a){var n=function(){for(var l,o=[],d=0;d<256;d++){l=d;for(var c=0;c<8;c++)l=1&l?3988292384^l>>>1:l>>>1;o[d]=l}return o}();s.exports=function(l,o,d,c){var f=n,p=c+d;l^=-1;for(var _=c;_<p;_++)l=l>>>8^f[255&(l^o[_])];return-1^l}},{}],46:[function(r,s,a){var n,l=r("../utils/common"),o=r("./trees"),d=r("./adler32"),c=r("./crc32"),f=r("./messages"),p=0,_=4,u=0,h=-2,m=-1,g=4,v=2,w=8,E=9,S=286,x=30,I=19,R=2*S+1,D=15,C=3,M=258,P=M+C+1,A=42,N=113,y=1,$=2,J=3,U=4;function te(b,H){return b.msg=f[H],H}function j(b){return(b<<1)-(4<b?9:0)}function ee(b){for(var H=b.length;0<=--H;)b[H]=0}function z(b){var H=b.state,F=H.pending;F>b.avail_out&&(F=b.avail_out),F!==0&&(l.arraySet(b.output,H.pending_buf,H.pending_out,F,b.next_out),b.next_out+=F,H.pending_out+=F,b.total_out+=F,b.avail_out-=F,H.pending-=F,H.pending===0&&(H.pending_out=0))}function B(b,H){o._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,H),b.block_start=b.strstart,z(b.strm)}function Y(b,H){b.pending_buf[b.pending++]=H}function K(b,H){b.pending_buf[b.pending++]=H>>>8&255,b.pending_buf[b.pending++]=255&H}function q(b,H){var F,T,k=b.max_chain_length,O=b.strstart,Z=b.prev_length,W=b.nice_match,L=b.strstart>b.w_size-P?b.strstart-(b.w_size-P):0,G=b.window,Q=b.w_mask,V=b.prev,re=b.strstart+M,ce=G[O+Z-1],ae=G[O+Z];b.prev_length>=b.good_match&&(k>>=2),W>b.lookahead&&(W=b.lookahead);do if(G[(F=H)+Z]===ae&&G[F+Z-1]===ce&&G[F]===G[O]&&G[++F]===G[O+1]){O+=2,F++;do;while(G[++O]===G[++F]&&G[++O]===G[++F]&&G[++O]===G[++F]&&G[++O]===G[++F]&&G[++O]===G[++F]&&G[++O]===G[++F]&&G[++O]===G[++F]&&G[++O]===G[++F]&&O<re);if(T=M-(re-O),O=re-M,Z<T){if(b.match_start=H,W<=(Z=T))break;ce=G[O+Z-1],ae=G[O+Z]}}while((H=V[H&Q])>L&&--k!=0);return Z<=b.lookahead?Z:b.lookahead}function le(b){var H,F,T,k,O,Z,W,L,G,Q,V=b.w_size;do{if(k=b.window_size-b.lookahead-b.strstart,b.strstart>=V+(V-P)){for(l.arraySet(b.window,b.window,V,V,0),b.match_start-=V,b.strstart-=V,b.block_start-=V,H=F=b.hash_size;T=b.head[--H],b.head[H]=V<=T?T-V:0,--F;);for(H=F=V;T=b.prev[--H],b.prev[H]=V<=T?T-V:0,--F;);k+=V}if(b.strm.avail_in===0)break;if(Z=b.strm,W=b.window,L=b.strstart+b.lookahead,G=k,Q=void 0,Q=Z.avail_in,G<Q&&(Q=G),F=Q===0?0:(Z.avail_in-=Q,l.arraySet(W,Z.input,Z.next_in,Q,L),Z.state.wrap===1?Z.adler=d(Z.adler,W,Q,L):Z.state.wrap===2&&(Z.adler=c(Z.adler,W,Q,L)),Z.next_in+=Q,Z.total_in+=Q,Q),b.lookahead+=F,b.lookahead+b.insert>=C)for(O=b.strstart-b.insert,b.ins_h=b.window[O],b.ins_h=(b.ins_h<<b.hash_shift^b.window[O+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[O+C-1])&b.hash_mask,b.prev[O&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=O,O++,b.insert--,!(b.lookahead+b.insert<C)););}while(b.lookahead<P&&b.strm.avail_in!==0)}function de(b,H){for(var F,T;;){if(b.lookahead<P){if(le(b),b.lookahead<P&&H===p)return y;if(b.lookahead===0)break}if(F=0,b.lookahead>=C&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+C-1])&b.hash_mask,F=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),F!==0&&b.strstart-F<=b.w_size-P&&(b.match_length=q(b,F)),b.match_length>=C)if(T=o._tr_tally(b,b.strstart-b.match_start,b.match_length-C),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=C){for(b.match_length--;b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+C-1])&b.hash_mask,F=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart,--b.match_length!=0;);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else T=o._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(T&&(B(b,!1),b.strm.avail_out===0))return y}return b.insert=b.strstart<C-1?b.strstart:C-1,H===_?(B(b,!0),b.strm.avail_out===0?J:U):b.last_lit&&(B(b,!1),b.strm.avail_out===0)?y:$}function ne(b,H){for(var F,T,k;;){if(b.lookahead<P){if(le(b),b.lookahead<P&&H===p)return y;if(b.lookahead===0)break}if(F=0,b.lookahead>=C&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+C-1])&b.hash_mask,F=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=C-1,F!==0&&b.prev_length<b.max_lazy_match&&b.strstart-F<=b.w_size-P&&(b.match_length=q(b,F),b.match_length<=5&&(b.strategy===1||b.match_length===C&&4096<b.strstart-b.match_start)&&(b.match_length=C-1)),b.prev_length>=C&&b.match_length<=b.prev_length){for(k=b.strstart+b.lookahead-C,T=o._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-C),b.lookahead-=b.prev_length-1,b.prev_length-=2;++b.strstart<=k&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+C-1])&b.hash_mask,F=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),--b.prev_length!=0;);if(b.match_available=0,b.match_length=C-1,b.strstart++,T&&(B(b,!1),b.strm.avail_out===0))return y}else if(b.match_available){if((T=o._tr_tally(b,0,b.window[b.strstart-1]))&&B(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return y}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(T=o._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<C-1?b.strstart:C-1,H===_?(B(b,!0),b.strm.avail_out===0?J:U):b.last_lit&&(B(b,!1),b.strm.avail_out===0)?y:$}function ie(b,H,F,T,k){this.good_length=b,this.max_lazy=H,this.nice_length=F,this.max_chain=T,this.func=k}function se(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*R),this.dyn_dtree=new l.Buf16(2*(2*x+1)),this.bl_tree=new l.Buf16(2*(2*I+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(D+1),this.heap=new l.Buf16(2*S+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*S+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function oe(b){var H;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=v,(H=b.state).pending=0,H.pending_out=0,H.wrap<0&&(H.wrap=-H.wrap),H.status=H.wrap?A:N,b.adler=H.wrap===2?0:1,H.last_flush=p,o._tr_init(H),u):te(b,h)}function he(b){var H=oe(b);return H===u&&function(F){F.window_size=2*F.w_size,ee(F.head),F.max_lazy_match=n[F.level].max_lazy,F.good_match=n[F.level].good_length,F.nice_match=n[F.level].nice_length,F.max_chain_length=n[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=C-1,F.match_available=0,F.ins_h=0}(b.state),H}function ue(b,H,F,T,k,O){if(!b)return h;var Z=1;if(H===m&&(H=6),T<0?(Z=0,T=-T):15<T&&(Z=2,T-=16),k<1||E<k||F!==w||T<8||15<T||H<0||9<H||O<0||g<O)return te(b,h);T===8&&(T=9);var W=new se;return(b.state=W).strm=b,W.wrap=Z,W.gzhead=null,W.w_bits=T,W.w_size=1<<W.w_bits,W.w_mask=W.w_size-1,W.hash_bits=k+7,W.hash_size=1<<W.hash_bits,W.hash_mask=W.hash_size-1,W.hash_shift=~~((W.hash_bits+C-1)/C),W.window=new l.Buf8(2*W.w_size),W.head=new l.Buf16(W.hash_size),W.prev=new l.Buf16(W.w_size),W.lit_bufsize=1<<k+6,W.pending_buf_size=4*W.lit_bufsize,W.pending_buf=new l.Buf8(W.pending_buf_size),W.d_buf=1*W.lit_bufsize,W.l_buf=3*W.lit_bufsize,W.level=H,W.strategy=O,W.method=F,he(b)}n=[new ie(0,0,0,0,function(b,H){var F=65535;for(F>b.pending_buf_size-5&&(F=b.pending_buf_size-5);;){if(b.lookahead<=1){if(le(b),b.lookahead===0&&H===p)return y;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var T=b.block_start+F;if((b.strstart===0||b.strstart>=T)&&(b.lookahead=b.strstart-T,b.strstart=T,B(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-P&&(B(b,!1),b.strm.avail_out===0))return y}return b.insert=0,H===_?(B(b,!0),b.strm.avail_out===0?J:U):(b.strstart>b.block_start&&(B(b,!1),b.strm.avail_out),y)}),new ie(4,4,8,4,de),new ie(4,5,16,8,de),new ie(4,6,32,32,de),new ie(4,4,16,16,ne),new ie(8,16,32,32,ne),new ie(8,16,128,128,ne),new ie(8,32,128,256,ne),new ie(32,128,258,1024,ne),new ie(32,258,258,4096,ne)],a.deflateInit=function(b,H){return ue(b,H,w,15,8,0)},a.deflateInit2=ue,a.deflateReset=he,a.deflateResetKeep=oe,a.deflateSetHeader=function(b,H){return b&&b.state?b.state.wrap!==2?h:(b.state.gzhead=H,u):h},a.deflate=function(b,H){var F,T,k,O;if(!b||!b.state||5<H||H<0)return b?te(b,h):h;if(T=b.state,!b.output||!b.input&&b.avail_in!==0||T.status===666&&H!==_)return te(b,b.avail_out===0?-5:h);if(T.strm=b,F=T.last_flush,T.last_flush=H,T.status===A)if(T.wrap===2)b.adler=0,Y(T,31),Y(T,139),Y(T,8),T.gzhead?(Y(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),Y(T,255&T.gzhead.time),Y(T,T.gzhead.time>>8&255),Y(T,T.gzhead.time>>16&255),Y(T,T.gzhead.time>>24&255),Y(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),Y(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(Y(T,255&T.gzhead.extra.length),Y(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(b.adler=c(b.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(Y(T,0),Y(T,0),Y(T,0),Y(T,0),Y(T,0),Y(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),Y(T,3),T.status=N);else{var Z=w+(T.w_bits-8<<4)<<8;Z|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(Z|=32),Z+=31-Z%31,T.status=N,K(T,Z),T.strstart!==0&&(K(T,b.adler>>>16),K(T,65535&b.adler)),b.adler=1}if(T.status===69)if(T.gzhead.extra){for(k=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>k&&(b.adler=c(b.adler,T.pending_buf,T.pending-k,k)),z(b),k=T.pending,T.pending!==T.pending_buf_size));)Y(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>k&&(b.adler=c(b.adler,T.pending_buf,T.pending-k,k)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){k=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>k&&(b.adler=c(b.adler,T.pending_buf,T.pending-k,k)),z(b),k=T.pending,T.pending===T.pending_buf_size)){O=1;break}O=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,Y(T,O)}while(O!==0);T.gzhead.hcrc&&T.pending>k&&(b.adler=c(b.adler,T.pending_buf,T.pending-k,k)),O===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){k=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>k&&(b.adler=c(b.adler,T.pending_buf,T.pending-k,k)),z(b),k=T.pending,T.pending===T.pending_buf_size)){O=1;break}O=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,Y(T,O)}while(O!==0);T.gzhead.hcrc&&T.pending>k&&(b.adler=c(b.adler,T.pending_buf,T.pending-k,k)),O===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&z(b),T.pending+2<=T.pending_buf_size&&(Y(T,255&b.adler),Y(T,b.adler>>8&255),b.adler=0,T.status=N)):T.status=N),T.pending!==0){if(z(b),b.avail_out===0)return T.last_flush=-1,u}else if(b.avail_in===0&&j(H)<=j(F)&&H!==_)return te(b,-5);if(T.status===666&&b.avail_in!==0)return te(b,-5);if(b.avail_in!==0||T.lookahead!==0||H!==p&&T.status!==666){var W=T.strategy===2?function(L,G){for(var Q;;){if(L.lookahead===0&&(le(L),L.lookahead===0)){if(G===p)return y;break}if(L.match_length=0,Q=o._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,Q&&(B(L,!1),L.strm.avail_out===0))return y}return L.insert=0,G===_?(B(L,!0),L.strm.avail_out===0?J:U):L.last_lit&&(B(L,!1),L.strm.avail_out===0)?y:$}(T,H):T.strategy===3?function(L,G){for(var Q,V,re,ce,ae=L.window;;){if(L.lookahead<=M){if(le(L),L.lookahead<=M&&G===p)return y;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=C&&0<L.strstart&&(V=ae[re=L.strstart-1])===ae[++re]&&V===ae[++re]&&V===ae[++re]){ce=L.strstart+M;do;while(V===ae[++re]&&V===ae[++re]&&V===ae[++re]&&V===ae[++re]&&V===ae[++re]&&V===ae[++re]&&V===ae[++re]&&V===ae[++re]&&re<ce);L.match_length=M-(ce-re),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=C?(Q=o._tr_tally(L,1,L.match_length-C),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(Q=o._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),Q&&(B(L,!1),L.strm.avail_out===0))return y}return L.insert=0,G===_?(B(L,!0),L.strm.avail_out===0?J:U):L.last_lit&&(B(L,!1),L.strm.avail_out===0)?y:$}(T,H):n[T.level].func(T,H);if(W!==J&&W!==U||(T.status=666),W===y||W===J)return b.avail_out===0&&(T.last_flush=-1),u;if(W===$&&(H===1?o._tr_align(T):H!==5&&(o._tr_stored_block(T,0,0,!1),H===3&&(ee(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),z(b),b.avail_out===0))return T.last_flush=-1,u}return H!==_?u:T.wrap<=0?1:(T.wrap===2?(Y(T,255&b.adler),Y(T,b.adler>>8&255),Y(T,b.adler>>16&255),Y(T,b.adler>>24&255),Y(T,255&b.total_in),Y(T,b.total_in>>8&255),Y(T,b.total_in>>16&255),Y(T,b.total_in>>24&255)):(K(T,b.adler>>>16),K(T,65535&b.adler)),z(b),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?u:1)},a.deflateEnd=function(b){var H;return b&&b.state?(H=b.state.status)!==A&&H!==69&&H!==73&&H!==91&&H!==103&&H!==N&&H!==666?te(b,h):(b.state=null,H===N?te(b,-3):u):h},a.deflateSetDictionary=function(b,H){var F,T,k,O,Z,W,L,G,Q=H.length;if(!b||!b.state||(O=(F=b.state).wrap)===2||O===1&&F.status!==A||F.lookahead)return h;for(O===1&&(b.adler=d(b.adler,H,Q,0)),F.wrap=0,Q>=F.w_size&&(O===0&&(ee(F.head),F.strstart=0,F.block_start=0,F.insert=0),G=new l.Buf8(F.w_size),l.arraySet(G,H,Q-F.w_size,F.w_size,0),H=G,Q=F.w_size),Z=b.avail_in,W=b.next_in,L=b.input,b.avail_in=Q,b.next_in=0,b.input=H,le(F);F.lookahead>=C;){for(T=F.strstart,k=F.lookahead-(C-1);F.ins_h=(F.ins_h<<F.hash_shift^F.window[T+C-1])&F.hash_mask,F.prev[T&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=T,T++,--k;);F.strstart=T,F.lookahead=C-1,le(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=C-1,F.match_available=0,b.next_in=W,b.input=L,b.avail_in=Z,F.wrap=O,u},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,s,a){s.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,s,a){s.exports=function(n,l){var o,d,c,f,p,_,u,h,m,g,v,w,E,S,x,I,R,D,C,M,P,A,N,y,$;o=n.state,d=n.next_in,y=n.input,c=d+(n.avail_in-5),f=n.next_out,$=n.output,p=f-(l-n.avail_out),_=f+(n.avail_out-257),u=o.dmax,h=o.wsize,m=o.whave,g=o.wnext,v=o.window,w=o.hold,E=o.bits,S=o.lencode,x=o.distcode,I=(1<<o.lenbits)-1,R=(1<<o.distbits)-1;e:do{E<15&&(w+=y[d++]<<E,E+=8,w+=y[d++]<<E,E+=8),D=S[w&I];t:for(;;){if(w>>>=C=D>>>24,E-=C,(C=D>>>16&255)===0)$[f++]=65535&D;else{if(!(16&C)){if((64&C)==0){D=S[(65535&D)+(w&(1<<C)-1)];continue t}if(32&C){o.mode=12;break e}n.msg="invalid literal/length code",o.mode=30;break e}M=65535&D,(C&=15)&&(E<C&&(w+=y[d++]<<E,E+=8),M+=w&(1<<C)-1,w>>>=C,E-=C),E<15&&(w+=y[d++]<<E,E+=8,w+=y[d++]<<E,E+=8),D=x[w&R];r:for(;;){if(w>>>=C=D>>>24,E-=C,!(16&(C=D>>>16&255))){if((64&C)==0){D=x[(65535&D)+(w&(1<<C)-1)];continue r}n.msg="invalid distance code",o.mode=30;break e}if(P=65535&D,E<(C&=15)&&(w+=y[d++]<<E,(E+=8)<C&&(w+=y[d++]<<E,E+=8)),u<(P+=w&(1<<C)-1)){n.msg="invalid distance too far back",o.mode=30;break e}if(w>>>=C,E-=C,(C=f-p)<P){if(m<(C=P-C)&&o.sane){n.msg="invalid distance too far back",o.mode=30;break e}if(N=v,(A=0)===g){if(A+=h-C,C<M){for(M-=C;$[f++]=v[A++],--C;);A=f-P,N=$}}else if(g<C){if(A+=h+g-C,(C-=g)<M){for(M-=C;$[f++]=v[A++],--C;);if(A=0,g<M){for(M-=C=g;$[f++]=v[A++],--C;);A=f-P,N=$}}}else if(A+=g-C,C<M){for(M-=C;$[f++]=v[A++],--C;);A=f-P,N=$}for(;2<M;)$[f++]=N[A++],$[f++]=N[A++],$[f++]=N[A++],M-=3;M&&($[f++]=N[A++],1<M&&($[f++]=N[A++]))}else{for(A=f-P;$[f++]=$[A++],$[f++]=$[A++],$[f++]=$[A++],2<(M-=3););M&&($[f++]=$[A++],1<M&&($[f++]=$[A++]))}break}}break}}while(d<c&&f<_);d-=M=E>>3,w&=(1<<(E-=M<<3))-1,n.next_in=d,n.next_out=f,n.avail_in=d<c?c-d+5:5-(d-c),n.avail_out=f<_?_-f+257:257-(f-_),o.hold=w,o.bits=E}},{}],49:[function(r,s,a){var n=r("../utils/common"),l=r("./adler32"),o=r("./crc32"),d=r("./inffast"),c=r("./inftrees"),f=1,p=2,_=0,u=-2,h=1,m=852,g=592;function v(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(A){var N;return A&&A.state?(N=A.state,A.total_in=A.total_out=N.total=0,A.msg="",N.wrap&&(A.adler=1&N.wrap),N.mode=h,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new n.Buf32(m),N.distcode=N.distdyn=new n.Buf32(g),N.sane=1,N.back=-1,_):u}function S(A){var N;return A&&A.state?((N=A.state).wsize=0,N.whave=0,N.wnext=0,E(A)):u}function x(A,N){var y,$;return A&&A.state?($=A.state,N<0?(y=0,N=-N):(y=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?u:($.window!==null&&$.wbits!==N&&($.window=null),$.wrap=y,$.wbits=N,S(A))):u}function I(A,N){var y,$;return A?($=new w,(A.state=$).window=null,(y=x(A,N))!==_&&(A.state=null),y):u}var R,D,C=!0;function M(A){if(C){var N;for(R=new n.Buf32(512),D=new n.Buf32(32),N=0;N<144;)A.lens[N++]=8;for(;N<256;)A.lens[N++]=9;for(;N<280;)A.lens[N++]=7;for(;N<288;)A.lens[N++]=8;for(c(f,A.lens,0,288,R,0,A.work,{bits:9}),N=0;N<32;)A.lens[N++]=5;c(p,A.lens,0,32,D,0,A.work,{bits:5}),C=!1}A.lencode=R,A.lenbits=9,A.distcode=D,A.distbits=5}function P(A,N,y,$){var J,U=A.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new n.Buf8(U.wsize)),$>=U.wsize?(n.arraySet(U.window,N,y-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):($<(J=U.wsize-U.wnext)&&(J=$),n.arraySet(U.window,N,y-$,J,U.wnext),($-=J)?(n.arraySet(U.window,N,y-$,$,0),U.wnext=$,U.whave=U.wsize):(U.wnext+=J,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=J))),0}a.inflateReset=S,a.inflateReset2=x,a.inflateResetKeep=E,a.inflateInit=function(A){return I(A,15)},a.inflateInit2=I,a.inflate=function(A,N){var y,$,J,U,te,j,ee,z,B,Y,K,q,le,de,ne,ie,se,oe,he,ue,b,H,F,T,k=0,O=new n.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return u;(y=A.state).mode===12&&(y.mode=13),te=A.next_out,J=A.output,ee=A.avail_out,U=A.next_in,$=A.input,j=A.avail_in,z=y.hold,B=y.bits,Y=j,K=ee,H=_;e:for(;;)switch(y.mode){case h:if(y.wrap===0){y.mode=13;break}for(;B<16;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}if(2&y.wrap&&z===35615){O[y.check=0]=255&z,O[1]=z>>>8&255,y.check=o(y.check,O,2,0),B=z=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&z)<<8)+(z>>8))%31){A.msg="incorrect header check",y.mode=30;break}if((15&z)!=8){A.msg="unknown compression method",y.mode=30;break}if(B-=4,b=8+(15&(z>>>=4)),y.wbits===0)y.wbits=b;else if(b>y.wbits){A.msg="invalid window size",y.mode=30;break}y.dmax=1<<b,A.adler=y.check=1,y.mode=512&z?10:12,B=z=0;break;case 2:for(;B<16;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}if(y.flags=z,(255&y.flags)!=8){A.msg="unknown compression method",y.mode=30;break}if(57344&y.flags){A.msg="unknown header flags set",y.mode=30;break}y.head&&(y.head.text=z>>8&1),512&y.flags&&(O[0]=255&z,O[1]=z>>>8&255,y.check=o(y.check,O,2,0)),B=z=0,y.mode=3;case 3:for(;B<32;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}y.head&&(y.head.time=z),512&y.flags&&(O[0]=255&z,O[1]=z>>>8&255,O[2]=z>>>16&255,O[3]=z>>>24&255,y.check=o(y.check,O,4,0)),B=z=0,y.mode=4;case 4:for(;B<16;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}y.head&&(y.head.xflags=255&z,y.head.os=z>>8),512&y.flags&&(O[0]=255&z,O[1]=z>>>8&255,y.check=o(y.check,O,2,0)),B=z=0,y.mode=5;case 5:if(1024&y.flags){for(;B<16;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}y.length=z,y.head&&(y.head.extra_len=z),512&y.flags&&(O[0]=255&z,O[1]=z>>>8&255,y.check=o(y.check,O,2,0)),B=z=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&(j<(q=y.length)&&(q=j),q&&(y.head&&(b=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),n.arraySet(y.head.extra,$,U,q,b)),512&y.flags&&(y.check=o(y.check,$,q,U)),j-=q,U+=q,y.length-=q),y.length))break e;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(j===0)break e;for(q=0;b=$[U+q++],y.head&&b&&y.length<65536&&(y.head.name+=String.fromCharCode(b)),b&&q<j;);if(512&y.flags&&(y.check=o(y.check,$,q,U)),j-=q,U+=q,b)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(j===0)break e;for(q=0;b=$[U+q++],y.head&&b&&y.length<65536&&(y.head.comment+=String.fromCharCode(b)),b&&q<j;);if(512&y.flags&&(y.check=o(y.check,$,q,U)),j-=q,U+=q,b)break e}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;B<16;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}if(z!==(65535&y.check)){A.msg="header crc mismatch",y.mode=30;break}B=z=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),A.adler=y.check=0,y.mode=12;break;case 10:for(;B<32;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}A.adler=y.check=v(z),B=z=0,y.mode=11;case 11:if(y.havedict===0)return A.next_out=te,A.avail_out=ee,A.next_in=U,A.avail_in=j,y.hold=z,y.bits=B,2;A.adler=y.check=1,y.mode=12;case 12:if(N===5||N===6)break e;case 13:if(y.last){z>>>=7&B,B-=7&B,y.mode=27;break}for(;B<3;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}switch(y.last=1&z,B-=1,3&(z>>>=1)){case 0:y.mode=14;break;case 1:if(M(y),y.mode=20,N!==6)break;z>>>=2,B-=2;break e;case 2:y.mode=17;break;case 3:A.msg="invalid block type",y.mode=30}z>>>=2,B-=2;break;case 14:for(z>>>=7&B,B-=7&B;B<32;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}if((65535&z)!=(z>>>16^65535)){A.msg="invalid stored block lengths",y.mode=30;break}if(y.length=65535&z,B=z=0,y.mode=15,N===6)break e;case 15:y.mode=16;case 16:if(q=y.length){if(j<q&&(q=j),ee<q&&(q=ee),q===0)break e;n.arraySet(J,$,U,q,te),j-=q,U+=q,ee-=q,te+=q,y.length-=q;break}y.mode=12;break;case 17:for(;B<14;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}if(y.nlen=257+(31&z),z>>>=5,B-=5,y.ndist=1+(31&z),z>>>=5,B-=5,y.ncode=4+(15&z),z>>>=4,B-=4,286<y.nlen||30<y.ndist){A.msg="too many length or distance symbols",y.mode=30;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;B<3;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}y.lens[Z[y.have++]]=7&z,z>>>=3,B-=3}for(;y.have<19;)y.lens[Z[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,F={bits:y.lenbits},H=c(0,y.lens,0,19,y.lencode,0,y.work,F),y.lenbits=F.bits,H){A.msg="invalid code lengths set",y.mode=30;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;ie=(k=y.lencode[z&(1<<y.lenbits)-1])>>>16&255,se=65535&k,!((ne=k>>>24)<=B);){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}if(se<16)z>>>=ne,B-=ne,y.lens[y.have++]=se;else{if(se===16){for(T=ne+2;B<T;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}if(z>>>=ne,B-=ne,y.have===0){A.msg="invalid bit length repeat",y.mode=30;break}b=y.lens[y.have-1],q=3+(3&z),z>>>=2,B-=2}else if(se===17){for(T=ne+3;B<T;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}B-=ne,b=0,q=3+(7&(z>>>=ne)),z>>>=3,B-=3}else{for(T=ne+7;B<T;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}B-=ne,b=0,q=11+(127&(z>>>=ne)),z>>>=7,B-=7}if(y.have+q>y.nlen+y.ndist){A.msg="invalid bit length repeat",y.mode=30;break}for(;q--;)y.lens[y.have++]=b}}if(y.mode===30)break;if(y.lens[256]===0){A.msg="invalid code -- missing end-of-block",y.mode=30;break}if(y.lenbits=9,F={bits:y.lenbits},H=c(f,y.lens,0,y.nlen,y.lencode,0,y.work,F),y.lenbits=F.bits,H){A.msg="invalid literal/lengths set",y.mode=30;break}if(y.distbits=6,y.distcode=y.distdyn,F={bits:y.distbits},H=c(p,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,F),y.distbits=F.bits,H){A.msg="invalid distances set",y.mode=30;break}if(y.mode=20,N===6)break e;case 20:y.mode=21;case 21:if(6<=j&&258<=ee){A.next_out=te,A.avail_out=ee,A.next_in=U,A.avail_in=j,y.hold=z,y.bits=B,d(A,K),te=A.next_out,J=A.output,ee=A.avail_out,U=A.next_in,$=A.input,j=A.avail_in,z=y.hold,B=y.bits,y.mode===12&&(y.back=-1);break}for(y.back=0;ie=(k=y.lencode[z&(1<<y.lenbits)-1])>>>16&255,se=65535&k,!((ne=k>>>24)<=B);){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}if(ie&&(240&ie)==0){for(oe=ne,he=ie,ue=se;ie=(k=y.lencode[ue+((z&(1<<oe+he)-1)>>oe)])>>>16&255,se=65535&k,!(oe+(ne=k>>>24)<=B);){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}z>>>=oe,B-=oe,y.back+=oe}if(z>>>=ne,B-=ne,y.back+=ne,y.length=se,ie===0){y.mode=26;break}if(32&ie){y.back=-1,y.mode=12;break}if(64&ie){A.msg="invalid literal/length code",y.mode=30;break}y.extra=15&ie,y.mode=22;case 22:if(y.extra){for(T=y.extra;B<T;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}y.length+=z&(1<<y.extra)-1,z>>>=y.extra,B-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;ie=(k=y.distcode[z&(1<<y.distbits)-1])>>>16&255,se=65535&k,!((ne=k>>>24)<=B);){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}if((240&ie)==0){for(oe=ne,he=ie,ue=se;ie=(k=y.distcode[ue+((z&(1<<oe+he)-1)>>oe)])>>>16&255,se=65535&k,!(oe+(ne=k>>>24)<=B);){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}z>>>=oe,B-=oe,y.back+=oe}if(z>>>=ne,B-=ne,y.back+=ne,64&ie){A.msg="invalid distance code",y.mode=30;break}y.offset=se,y.extra=15&ie,y.mode=24;case 24:if(y.extra){for(T=y.extra;B<T;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}y.offset+=z&(1<<y.extra)-1,z>>>=y.extra,B-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){A.msg="invalid distance too far back",y.mode=30;break}y.mode=25;case 25:if(ee===0)break e;if(q=K-ee,y.offset>q){if((q=y.offset-q)>y.whave&&y.sane){A.msg="invalid distance too far back",y.mode=30;break}le=q>y.wnext?(q-=y.wnext,y.wsize-q):y.wnext-q,q>y.length&&(q=y.length),de=y.window}else de=J,le=te-y.offset,q=y.length;for(ee<q&&(q=ee),ee-=q,y.length-=q;J[te++]=de[le++],--q;);y.length===0&&(y.mode=21);break;case 26:if(ee===0)break e;J[te++]=y.length,ee--,y.mode=21;break;case 27:if(y.wrap){for(;B<32;){if(j===0)break e;j--,z|=$[U++]<<B,B+=8}if(K-=ee,A.total_out+=K,y.total+=K,K&&(A.adler=y.check=y.flags?o(y.check,J,K,te-K):l(y.check,J,K,te-K)),K=ee,(y.flags?z:v(z))!==y.check){A.msg="incorrect data check",y.mode=30;break}B=z=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;B<32;){if(j===0)break e;j--,z+=$[U++]<<B,B+=8}if(z!==(4294967295&y.total)){A.msg="incorrect length check",y.mode=30;break}B=z=0}y.mode=29;case 29:H=1;break e;case 30:H=-3;break e;case 31:return-4;case 32:default:return u}return A.next_out=te,A.avail_out=ee,A.next_in=U,A.avail_in=j,y.hold=z,y.bits=B,(y.wsize||K!==A.avail_out&&y.mode<30&&(y.mode<27||N!==4))&&P(A,A.output,A.next_out,K-A.avail_out)?(y.mode=31,-4):(Y-=A.avail_in,K-=A.avail_out,A.total_in+=Y,A.total_out+=K,y.total+=K,y.wrap&&K&&(A.adler=y.check=y.flags?o(y.check,J,K,A.next_out-K):l(y.check,J,K,A.next_out-K)),A.data_type=y.bits+(y.last?64:0)+(y.mode===12?128:0)+(y.mode===20||y.mode===15?256:0),(Y==0&&K===0||N===4)&&H===_&&(H=-5),H)},a.inflateEnd=function(A){if(!A||!A.state)return u;var N=A.state;return N.window&&(N.window=null),A.state=null,_},a.inflateGetHeader=function(A,N){var y;return A&&A.state?(2&(y=A.state).wrap)==0?u:((y.head=N).done=!1,_):u},a.inflateSetDictionary=function(A,N){var y,$=N.length;return A&&A.state?(y=A.state).wrap!==0&&y.mode!==11?u:y.mode===11&&l(1,N,$,0)!==y.check?-3:P(A,N,$,$)?(y.mode=31,-4):(y.havedict=1,_):u},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,s,a){var n=r("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];s.exports=function(f,p,_,u,h,m,g,v){var w,E,S,x,I,R,D,C,M,P=v.bits,A=0,N=0,y=0,$=0,J=0,U=0,te=0,j=0,ee=0,z=0,B=null,Y=0,K=new n.Buf16(16),q=new n.Buf16(16),le=null,de=0;for(A=0;A<=15;A++)K[A]=0;for(N=0;N<u;N++)K[p[_+N]]++;for(J=P,$=15;1<=$&&K[$]===0;$--);if($<J&&(J=$),$===0)return h[m++]=20971520,h[m++]=20971520,v.bits=1,0;for(y=1;y<$&&K[y]===0;y++);for(J<y&&(J=y),A=j=1;A<=15;A++)if(j<<=1,(j-=K[A])<0)return-1;if(0<j&&(f===0||$!==1))return-1;for(q[1]=0,A=1;A<15;A++)q[A+1]=q[A]+K[A];for(N=0;N<u;N++)p[_+N]!==0&&(g[q[p[_+N]]++]=N);if(R=f===0?(B=le=g,19):f===1?(B=l,Y-=257,le=o,de-=257,256):(B=d,le=c,-1),A=y,I=m,te=N=z=0,S=-1,x=(ee=1<<(U=J))-1,f===1&&852<ee||f===2&&592<ee)return 1;for(;;){for(D=A-te,M=g[N]<R?(C=0,g[N]):g[N]>R?(C=le[de+g[N]],B[Y+g[N]]):(C=96,0),w=1<<A-te,y=E=1<<U;h[I+(z>>te)+(E-=w)]=D<<24|C<<16|M|0,E!==0;);for(w=1<<A-1;z&w;)w>>=1;if(w!==0?(z&=w-1,z+=w):z=0,N++,--K[A]==0){if(A===$)break;A=p[_+g[N]]}if(J<A&&(z&x)!==S){for(te===0&&(te=J),I+=y,j=1<<(U=A-te);U+te<$&&!((j-=K[U+te])<=0);)U++,j<<=1;if(ee+=1<<U,f===1&&852<ee||f===2&&592<ee)return 1;h[S=z&x]=J<<24|U<<16|I-m|0}}return z!==0&&(h[I+z]=A-te<<24|64<<16|0),v.bits=J,0}},{"../utils/common":41}],51:[function(r,s,a){s.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,s,a){var n=r("../utils/common"),l=0,o=1;function d(k){for(var O=k.length;0<=--O;)k[O]=0}var c=0,f=29,p=256,_=p+1+f,u=30,h=19,m=2*_+1,g=15,v=16,w=7,E=256,S=16,x=17,I=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(_+2));d(P);var A=new Array(2*u);d(A);var N=new Array(512);d(N);var y=new Array(256);d(y);var $=new Array(f);d($);var J,U,te,j=new Array(u);function ee(k,O,Z,W,L){this.static_tree=k,this.extra_bits=O,this.extra_base=Z,this.elems=W,this.max_length=L,this.has_stree=k&&k.length}function z(k,O){this.dyn_tree=k,this.max_code=0,this.stat_desc=O}function B(k){return k<256?N[k]:N[256+(k>>>7)]}function Y(k,O){k.pending_buf[k.pending++]=255&O,k.pending_buf[k.pending++]=O>>>8&255}function K(k,O,Z){k.bi_valid>v-Z?(k.bi_buf|=O<<k.bi_valid&65535,Y(k,k.bi_buf),k.bi_buf=O>>v-k.bi_valid,k.bi_valid+=Z-v):(k.bi_buf|=O<<k.bi_valid&65535,k.bi_valid+=Z)}function q(k,O,Z){K(k,Z[2*O],Z[2*O+1])}function le(k,O){for(var Z=0;Z|=1&k,k>>>=1,Z<<=1,0<--O;);return Z>>>1}function de(k,O,Z){var W,L,G=new Array(g+1),Q=0;for(W=1;W<=g;W++)G[W]=Q=Q+Z[W-1]<<1;for(L=0;L<=O;L++){var V=k[2*L+1];V!==0&&(k[2*L]=le(G[V]++,V))}}function ne(k){var O;for(O=0;O<_;O++)k.dyn_ltree[2*O]=0;for(O=0;O<u;O++)k.dyn_dtree[2*O]=0;for(O=0;O<h;O++)k.bl_tree[2*O]=0;k.dyn_ltree[2*E]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function ie(k){8<k.bi_valid?Y(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function se(k,O,Z,W){var L=2*O,G=2*Z;return k[L]<k[G]||k[L]===k[G]&&W[O]<=W[Z]}function oe(k,O,Z){for(var W=k.heap[Z],L=Z<<1;L<=k.heap_len&&(L<k.heap_len&&se(O,k.heap[L+1],k.heap[L],k.depth)&&L++,!se(O,W,k.heap[L],k.depth));)k.heap[Z]=k.heap[L],Z=L,L<<=1;k.heap[Z]=W}function he(k,O,Z){var W,L,G,Q,V=0;if(k.last_lit!==0)for(;W=k.pending_buf[k.d_buf+2*V]<<8|k.pending_buf[k.d_buf+2*V+1],L=k.pending_buf[k.l_buf+V],V++,W===0?q(k,L,O):(q(k,(G=y[L])+p+1,O),(Q=R[G])!==0&&K(k,L-=$[G],Q),q(k,G=B(--W),Z),(Q=D[G])!==0&&K(k,W-=j[G],Q)),V<k.last_lit;);q(k,E,O)}function ue(k,O){var Z,W,L,G=O.dyn_tree,Q=O.stat_desc.static_tree,V=O.stat_desc.has_stree,re=O.stat_desc.elems,ce=-1;for(k.heap_len=0,k.heap_max=m,Z=0;Z<re;Z++)G[2*Z]!==0?(k.heap[++k.heap_len]=ce=Z,k.depth[Z]=0):G[2*Z+1]=0;for(;k.heap_len<2;)G[2*(L=k.heap[++k.heap_len]=ce<2?++ce:0)]=1,k.depth[L]=0,k.opt_len--,V&&(k.static_len-=Q[2*L+1]);for(O.max_code=ce,Z=k.heap_len>>1;1<=Z;Z--)oe(k,G,Z);for(L=re;Z=k.heap[1],k.heap[1]=k.heap[k.heap_len--],oe(k,G,1),W=k.heap[1],k.heap[--k.heap_max]=Z,k.heap[--k.heap_max]=W,G[2*L]=G[2*Z]+G[2*W],k.depth[L]=(k.depth[Z]>=k.depth[W]?k.depth[Z]:k.depth[W])+1,G[2*Z+1]=G[2*W+1]=L,k.heap[1]=L++,oe(k,G,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(ae,_e){var ge,pe,ve,fe,ye,Ee,me=_e.dyn_tree,xe=_e.max_code,ke=_e.stat_desc.static_tree,Ae=_e.stat_desc.has_stree,Re=_e.stat_desc.extra_bits,Se=_e.stat_desc.extra_base,be=_e.stat_desc.max_length,we=0;for(fe=0;fe<=g;fe++)ae.bl_count[fe]=0;for(me[2*ae.heap[ae.heap_max]+1]=0,ge=ae.heap_max+1;ge<m;ge++)be<(fe=me[2*me[2*(pe=ae.heap[ge])+1]+1]+1)&&(fe=be,we++),me[2*pe+1]=fe,xe<pe||(ae.bl_count[fe]++,ye=0,Se<=pe&&(ye=Re[pe-Se]),Ee=me[2*pe],ae.opt_len+=Ee*(fe+ye),Ae&&(ae.static_len+=Ee*(ke[2*pe+1]+ye)));if(we!==0){do{for(fe=be-1;ae.bl_count[fe]===0;)fe--;ae.bl_count[fe]--,ae.bl_count[fe+1]+=2,ae.bl_count[be]--,we-=2}while(0<we);for(fe=be;fe!==0;fe--)for(pe=ae.bl_count[fe];pe!==0;)xe<(ve=ae.heap[--ge])||(me[2*ve+1]!==fe&&(ae.opt_len+=(fe-me[2*ve+1])*me[2*ve],me[2*ve+1]=fe),pe--)}}(k,O),de(G,ce,k.bl_count)}function b(k,O,Z){var W,L,G=-1,Q=O[1],V=0,re=7,ce=4;for(Q===0&&(re=138,ce=3),O[2*(Z+1)+1]=65535,W=0;W<=Z;W++)L=Q,Q=O[2*(W+1)+1],++V<re&&L===Q||(V<ce?k.bl_tree[2*L]+=V:L!==0?(L!==G&&k.bl_tree[2*L]++,k.bl_tree[2*S]++):V<=10?k.bl_tree[2*x]++:k.bl_tree[2*I]++,G=L,ce=(V=0)===Q?(re=138,3):L===Q?(re=6,3):(re=7,4))}function H(k,O,Z){var W,L,G=-1,Q=O[1],V=0,re=7,ce=4;for(Q===0&&(re=138,ce=3),W=0;W<=Z;W++)if(L=Q,Q=O[2*(W+1)+1],!(++V<re&&L===Q)){if(V<ce)for(;q(k,L,k.bl_tree),--V!=0;);else L!==0?(L!==G&&(q(k,L,k.bl_tree),V--),q(k,S,k.bl_tree),K(k,V-3,2)):V<=10?(q(k,x,k.bl_tree),K(k,V-3,3)):(q(k,I,k.bl_tree),K(k,V-11,7));G=L,ce=(V=0)===Q?(re=138,3):L===Q?(re=6,3):(re=7,4)}}d(j);var F=!1;function T(k,O,Z,W){K(k,(c<<1)+(W?1:0),3),function(L,G,Q,V){ie(L),Y(L,Q),Y(L,~Q),n.arraySet(L.pending_buf,L.window,G,Q,L.pending),L.pending+=Q}(k,O,Z)}a._tr_init=function(k){F||(function(){var O,Z,W,L,G,Q=new Array(g+1);for(L=W=0;L<f-1;L++)for($[L]=W,O=0;O<1<<R[L];O++)y[W++]=L;for(y[W-1]=L,L=G=0;L<16;L++)for(j[L]=G,O=0;O<1<<D[L];O++)N[G++]=L;for(G>>=7;L<u;L++)for(j[L]=G<<7,O=0;O<1<<D[L]-7;O++)N[256+G++]=L;for(Z=0;Z<=g;Z++)Q[Z]=0;for(O=0;O<=143;)P[2*O+1]=8,O++,Q[8]++;for(;O<=255;)P[2*O+1]=9,O++,Q[9]++;for(;O<=279;)P[2*O+1]=7,O++,Q[7]++;for(;O<=287;)P[2*O+1]=8,O++,Q[8]++;for(de(P,_+1,Q),O=0;O<u;O++)A[2*O+1]=5,A[2*O]=le(O,5);J=new ee(P,R,p+1,_,g),U=new ee(A,D,0,u,g),te=new ee(new Array(0),C,0,h,w)}(),F=!0),k.l_desc=new z(k.dyn_ltree,J),k.d_desc=new z(k.dyn_dtree,U),k.bl_desc=new z(k.bl_tree,te),k.bi_buf=0,k.bi_valid=0,ne(k)},a._tr_stored_block=T,a._tr_flush_block=function(k,O,Z,W){var L,G,Q=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function(V){var re,ce=4093624447;for(re=0;re<=31;re++,ce>>>=1)if(1&ce&&V.dyn_ltree[2*re]!==0)return l;if(V.dyn_ltree[18]!==0||V.dyn_ltree[20]!==0||V.dyn_ltree[26]!==0)return o;for(re=32;re<p;re++)if(V.dyn_ltree[2*re]!==0)return o;return l}(k)),ue(k,k.l_desc),ue(k,k.d_desc),Q=function(V){var re;for(b(V,V.dyn_ltree,V.l_desc.max_code),b(V,V.dyn_dtree,V.d_desc.max_code),ue(V,V.bl_desc),re=h-1;3<=re&&V.bl_tree[2*M[re]+1]===0;re--);return V.opt_len+=3*(re+1)+5+5+4,re}(k),L=k.opt_len+3+7>>>3,(G=k.static_len+3+7>>>3)<=L&&(L=G)):L=G=Z+5,Z+4<=L&&O!==-1?T(k,O,Z,W):k.strategy===4||G===L?(K(k,2+(W?1:0),3),he(k,P,A)):(K(k,4+(W?1:0),3),function(V,re,ce,ae){var _e;for(K(V,re-257,5),K(V,ce-1,5),K(V,ae-4,4),_e=0;_e<ae;_e++)K(V,V.bl_tree[2*M[_e]+1],3);H(V,V.dyn_ltree,re-1),H(V,V.dyn_dtree,ce-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,Q+1),he(k,k.dyn_ltree,k.dyn_dtree)),ne(k),W&&ie(k)},a._tr_tally=function(k,O,Z){return k.pending_buf[k.d_buf+2*k.last_lit]=O>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&O,k.pending_buf[k.l_buf+k.last_lit]=255&Z,k.last_lit++,O===0?k.dyn_ltree[2*Z]++:(k.matches++,O--,k.dyn_ltree[2*(y[Z]+p+1)]++,k.dyn_dtree[2*B(O)]++),k.last_lit===k.lit_bufsize-1},a._tr_align=function(k){K(k,2,3),q(k,E,P),function(O){O.bi_valid===16?(Y(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(r,s,a){s.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,s,a){(function(n){(function(l,o){if(!l.setImmediate){var d,c,f,p,_=1,u={},h=!1,m=l.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(l);g=g&&g.setTimeout?g:l,d={}.toString.call(l.process)==="[object process]"?function(S){process.nextTick(function(){w(S)})}:function(){if(l.postMessage&&!l.importScripts){var S=!0,x=l.onmessage;return l.onmessage=function(){S=!1},l.postMessage("","*"),l.onmessage=x,S}}()?(p="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",E,!1):l.attachEvent("onmessage",E),function(S){l.postMessage(p+S,"*")}):l.MessageChannel?((f=new MessageChannel).port1.onmessage=function(S){w(S.data)},function(S){f.port2.postMessage(S)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(S){var x=m.createElement("script");x.onreadystatechange=function(){w(S),x.onreadystatechange=null,c.removeChild(x),x=null},c.appendChild(x)}):function(S){setTimeout(w,0,S)},g.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var x=new Array(arguments.length-1),I=0;I<x.length;I++)x[I]=arguments[I+1];var R={callback:S,args:x};return u[_]=R,d(_),_++},g.clearImmediate=v}function v(S){delete u[S]}function w(S){if(h)setTimeout(w,0,S);else{var x=u[S];if(x){h=!0;try{(function(I){var R=I.callback,D=I.args;switch(D.length){case 0:R();break;case 1:R(D[0]);break;case 2:R(D[0],D[1]);break;case 3:R(D[0],D[1],D[2]);break;default:R.apply(o,D)}})(x)}finally{v(S),h=!1}}}}function E(S){S.source===l&&typeof S.data=="string"&&S.data.indexOf(p)===0&&w(+S.data.slice(p.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(jszip_min)),jszip_min.exports}var jszip_minExports=requireJszip_min();const JSZip=getDefaultExportFromCjs(jszip_minExports);async function downloadAllFiles(t,i,r,s,a,n){try{const l=new JSZip,o=l.folder("received-files"),d=`received_files_${Date.now()}.zip`;for(const c of Object.keys(get(i))){const f=get(i)[c];if(f.status!==FileStatus.Success||f.error)continue;const p=new Blob(f.receivedChunks,{type:f.metaData.type});o?.file(f.metaData.name,p)}if(get(r)){const c=await l.generateAsync({type:"blob"}),f=await s(c);await a(d,f)}else{const c=await l.generateAsync({type:"blob"});await n(d,c)}}catch(l){console.error("Failed to save ZIP:",l),addToastMessage(`Error saving ZIP: ${l.message}`,"error")}}var root_1$3=template('<!> <button class="btn btn-dash btn-success mt-2">Download <!> all files (zip) <!></button>',1),root_2$2=template('<p class="mt-4">Connected, Waiting for files...</p>'),root$3=template('<div class="grid gap-4"><!> <!></div>');function Receiver(t,i){push(i,!0);let r=state(proxy(defaultReceiveOptions)),s=state(proxy({})),a=state(!1);(async()=>{try{const x=window?.Capacitor?.getPlatform();set(a,x==="ios"||x==="android",!0)}catch{set(a,!1)}})();async function l(x,I){let R;i.isEncrypt&&i.rsa&&(R=await decryptAesKeyWithRsaPrivateKey(i.rsa.privateKey,I.key)),get(s)[x]={metaData:I,progress:0,bitrate:0,receivedSize:0,receivedChunks:[],startTime:0,status:FileStatus.WaitingAccept,aesKey:R};const D=validateFileMetadata(I,get(r).maxSize);if(D){addToastMessage(`${I.name} ${D.message}`,"error"),i.dataChannel.send(Message.encode({id:x,receiveEvent:ReceiveEvent.EVENT_VALIDATE_ERROR}).finish()),get(s)[x].error=D;return}get(r).autoAccept&&(i.dataChannel.send(Message.encode({id:x,receiveEvent:ReceiveEvent.EVENT_RECEIVER_ACCEPT}).finish()),get(s)[x].status=FileStatus.Processing,get(s)[x].startTime=Date.now())}async function o(x,I){let R=I;i.dataChannel.send(Message.encode({id:x,receiveEvent:ReceiveEvent.EVENT_RECEIVED_CHUNK}).finish());const D=get(s)[x];i.isEncrypt&&D.aesKey&&(R=await decryptAesGcm(D.aesKey,R));const C=R.byteLength;get(s)[x].receivedChunks.push(R),get(s)[x].receivedSize+=C,get(s)[x].progress=Math.round(get(s)[x].receivedSize/D.metaData.size*100),get(s)[x].bitrate=Math.round(get(s)[x].receivedSize/((Date.now()-get(s)[x].startTime)/1e3)),get(s)[x].receivedSize>=D.metaData.size&&(get(s)[x].status=FileStatus.Success,addToastMessage(`Received ${get(s)[x].metaData.name}`,"success"))}function d(x){return new Promise((I,R)=>{const D=new FileReader;D.onerror=R,D.onload=()=>{const C=D.result.split(",")[1];I(C)},D.readAsDataURL(x)})}function c(x){get(s)[x].status!=FileStatus.Success&&i.dataChannel.send(Message.encode({id:x,receiveEvent:ReceiveEvent.EVENT_RECEIVER_REJECT}).finish()),delete get(s)[x],set(s,{...get(s)},!0)}async function f(x,I){const R=URL.createObjectURL(I),D=document.createElement("a");D.href=R,D.download=x,document.body.appendChild(D),D.click(),setTimeout(()=>{document.body.removeChild(D),URL.revokeObjectURL(R)},100),addToastMessage(`Downloaded ${x}`,"success")}async function p(x,I){try{const R="Speed-share";try{await Filesystem.mkdir({path:R,directory:Directory.Documents,recursive:!0})}catch(D){if(!D.message?.includes("Directory exists"))throw D}await Filesystem.writeFile({path:`${R}/${x}`,data:I,directory:Directory.Documents}),addToastMessage(`Saved ${x} to Documents/Speed-share`,"success")}catch(R){console.error("Filesystem write error:",R),addToastMessage(`Error saving file: ${R.message}`,"error")}}async function _(x){try{const I=get(s)[x],R=new Blob(I.receivedChunks,{type:I.metaData.type}),D=I.metaData.name;if(get(a)){const C=await d(R);await p(D,C)}else await f(D,R)}catch(I){console.error("Download error:",I),addToastMessage(`Download failed: ${I.message}`,"error")}}function u(x){i.dataChannel.send(Message.encode({id:x,receiveEvent:ReceiveEvent.EVENT_RECEIVER_ACCEPT}).finish()),get(s)[x].status=FileStatus.Processing,get(s)[x].startTime=Date.now()}function h(x){i.dataChannel.send(Message.encode({id:x,receiveEvent:ReceiveEvent.EVENT_RECEIVER_REJECT}).finish()),delete get(s)[x],set(s,{...get(s)},!0)}function m(x){set(r,x,!0)}var g=root$3(),v=child(g);ReceiverOptions(v,{onUpdate:m});var w=sibling(v,2);{var E=x=>{var I=root_1$3(),R=first_child(I);ReceivingFileList(R,{get receivingFiles(){return get(s)},onRemove:c,onDownload:_,onAccept:u,onDeny:h});var D=sibling(R,2);D.__click=[downloadAllFiles,s,a,d,p,f];var C=sibling(child(D));Folder_down(C,{});var M=sibling(C,2);Folder_archive(M,{}),reset(D),append(x,I)},S=x=>{var I=root_2$2();append(x,I)};if_block(w,x=>{Object.keys(get(s)).length>0?x(E):x(S,!1)})}return reset(g),append(t,g),pop({onMetaData:l,onChunkData:o})}delegate(["click"]);/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */var Mode;(function(t){t[t.Terminator=0]="Terminator",t[t.Numeric=1]="Numeric",t[t.Alphanumeric=2]="Alphanumeric",t[t.StructuredAppend=3]="StructuredAppend",t[t.Byte=4]="Byte",t[t.Kanji=8]="Kanji",t[t.ECI=7]="ECI"})(Mode||(Mode={}));/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class QRData{constructor(i,r){this.bytes=[],this.mode=i,this.data=r}getLength(){return this.bytes.length}getLengthInBits(i){const r=this.mode,s=new Error(`illegal mode: ${r}`);if(1<=i&&i<10)switch(r){case Mode.Numeric:return 10;case Mode.Alphanumeric:return 9;case Mode.Byte:return 8;case Mode.Kanji:return 8;default:throw s}else if(i<27)switch(r){case Mode.Numeric:return 12;case Mode.Alphanumeric:return 11;case Mode.Byte:return 16;case Mode.Kanji:return 10;default:throw s}else if(i<41)switch(r){case Mode.Numeric:return 14;case Mode.Alphanumeric:return 13;case Mode.Byte:return 16;case Mode.Kanji:return 12;default:throw s}else throw new Error(`illegal version: ${i}`)}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */function encode$1(t){let i=0;const{length:r}=t,s=[];for(let a=0;a<r;a++){let n=t.charCodeAt(a);n<128?s[i++]=n:n<2048?(s[i++]=n>>6|192,s[i++]=n&63|128):(n&64512)===55296&&a+1<r&&(t.charCodeAt(a+1)&64512)===56320?(n=65536+((n&1023)<<10)+(t.charCodeAt(++a)&1023),s[i++]=n>>18|240,s[i++]=n>>12&63|128,s[i++]=n>>6&63|128,s[i++]=n&63|128):(s[i++]=n>>12|224,s[i++]=n>>6&63|128,s[i++]=n&63|128)}return s}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class QRByte extends QRData{constructor(i,r){if(super(Mode.Byte,i),this.encoding=-1,typeof r=="function"){const{encoding:s,bytes:a}=r(i);this.bytes=a,this.encoding=s}else this.bytes=encode$1(i),this.encoding=26}writeTo(i){const{bytes:r}=this;for(const s of r)i.put(s,8)}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */const EXP_TABLE=[],LOG_TABLE=[];for(let t=0;t<256;t++)LOG_TABLE[t]=0,EXP_TABLE[t]=t<8?1<<t:EXP_TABLE[t-4]^EXP_TABLE[t-5]^EXP_TABLE[t-6]^EXP_TABLE[t-8];for(let t=0;t<255;t++)LOG_TABLE[EXP_TABLE[t]]=t;function glog(t){if(t<1)throw new Error(`illegal log: ${t}`);return LOG_TABLE[t]}function gexp(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return EXP_TABLE[t]}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class Polynomial{constructor(i,r=0){let s=0,{length:a}=i;for(;s<a&&i[s]===0;)s++;a-=s;const n=[];for(let l=0;l<a;l++)n.push(i[s+l]);for(let l=0;l<r;l++)n.push(0);this.num=n}getAt(i){return this.num[i]}getLength(){return this.num.length}multiply(i){const r=[],s=i.getLength(),a=this.getLength(),n=a+s-1;for(let l=0;l<n;l++)r.push(0);for(let l=0;l<a;l++)for(let o=0;o<s;o++)r[l+o]^=gexp(glog(this.getAt(l))+glog(i.getAt(o)));return new Polynomial(r)}mod(i){const r=i.getLength(),s=this.getLength();if(s-r<0)return this;const a=glog(this.getAt(0))-glog(i.getAt(0)),n=[];for(let l=0;l<s;l++)n.push(this.getAt(l));for(let l=0;l<r;l++)n[l]^=gexp(glog(i.getAt(l))+a);return new Polynomial(n).mod(i)}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */const N1=3,N2=3,N3=40,N4=10,ALIGNMENT_PATTERN_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15_MASK=21522,G15=1335,G18=7973;function getAlignmentPattern(t){return ALIGNMENT_PATTERN_TABLE[t-1]}function getErrorCorrectionPolynomial(t){let i=new Polynomial([1]);for(let r=0;r<t;r++)i=i.multiply(new Polynomial([1,gexp(r)]));return i}function getBCHDigit(t){let i=0;for(;t!==0;)i++,t>>>=1;return i}const G18_BCH=getBCHDigit(G18);function getBCHVersion(t){let i=t<<12;for(;getBCHDigit(i)-G18_BCH>=0;)i^=G18<<getBCHDigit(i)-G18_BCH;return t<<12|i}const G15_BCH=getBCHDigit(G15);function getBCHVersionInfo(t){let i=t<<10;for(;getBCHDigit(i)-G15_BCH>=0;)i^=G15<<getBCHDigit(i)-G15_BCH;return(t<<10|i)^G15_MASK}function applyMaskPenaltyRule1Internal(t,i){const r=t.getMatrixSize();let s=0;for(let a=0;a<r;a++){let n=!1,l=0;for(let o=0;o<r;o++){const d=i?t.isDark(a,o):t.isDark(o,a);d===n?(l++,l===5?s+=N1:l>5&&s++):(n=d,l=1)}}return s}function applyMaskPenaltyRule1(t){return applyMaskPenaltyRule1Internal(t,!0)+applyMaskPenaltyRule1Internal(t,!1)}function applyMaskPenaltyRule2(t){const i=t.getMatrixSize();let r=0;for(let s=0;s<i-1;s++)for(let a=0;a<i-1;a++){const n=t.isDark(s,a);n===t.isDark(s,a+1)&&n===t.isDark(s+1,a)&&n===t.isDark(s+1,a+1)&&(r+=N2)}return r}function isFourWhite(t,i,r,s,a){r=Math.max(r,0),s=Math.min(s,t.getMatrixSize());for(let n=r;n<s;n++)if(a?t.isDark(i,n):t.isDark(n,i))return!1;return!0}function applyMaskPenaltyRule3(t){const i=t.getMatrixSize();let r=0;for(let s=0;s<i;s++)for(let a=0;a<i;a++)a+6<i&&t.isDark(s,a)&&!t.isDark(s,a+1)&&t.isDark(s,a+2)&&t.isDark(s,a+3)&&t.isDark(s,a+4)&&!t.isDark(s,a+5)&&t.isDark(s,a+6)&&(isFourWhite(t,s,a-4,a,!0)||isFourWhite(t,s,a+7,a+11,!0))&&(r+=N3),s+6<i&&t.isDark(s,a)&&!t.isDark(s+1,a)&&t.isDark(s+2,a)&&t.isDark(s+3,a)&&t.isDark(s+4,a)&&!t.isDark(s+5,a)&&t.isDark(s+6,a)&&(isFourWhite(t,a,s-4,s,!1)||isFourWhite(t,a,s+7,s+11,!1))&&(r+=N3);return r}function applyMaskPenaltyRule4(t){const i=t.getMatrixSize();let r=0;for(let n=0;n<i;n++)for(let l=0;l<i;l++)t.isDark(n,l)&&r++;const s=i*i;return Math.floor(Math.abs(r*20-s*10)/s)*N4}function calculateMaskPenalty(t){return applyMaskPenaltyRule1(t)+applyMaskPenaltyRule2(t)+applyMaskPenaltyRule3(t)+applyMaskPenaltyRule4(t)}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */var ErrorCorrectionLevel;(function(t){t[t.L=1]="L",t[t.M=0]="M",t[t.Q=3]="Q",t[t.H=2]="H"})(ErrorCorrectionLevel||(ErrorCorrectionLevel={}));/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class RSBlock{constructor(i,r){this.dataCount=r,this.totalCount=i}getDataCount(){return this.dataCount}getTotalCount(){return this.totalCount}static getRSBlocks(i,r){const s=[],a=RSBlock.getRSBlockTable(i,r),n=a.length/3;for(let l=0;l<n;l++){const o=a[l*3+0],d=a[l*3+1],c=a[l*3+2];for(let f=0;f<o;f++)s.push(new RSBlock(d,c))}return s}static getRSBlockTable(i,r){switch(r){case ErrorCorrectionLevel.L:return RSBlock.RS_BLOCK_TABLE[(i-1)*4+0];case ErrorCorrectionLevel.M:return RSBlock.RS_BLOCK_TABLE[(i-1)*4+1];case ErrorCorrectionLevel.Q:return RSBlock.RS_BLOCK_TABLE[(i-1)*4+2];case ErrorCorrectionLevel.H:return RSBlock.RS_BLOCK_TABLE[(i-1)*4+3];default:throw new Error(`illegal error correction level: ${r}`)}}}RSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class BitBuffer{constructor(){this.length=0,this.buffer=[]}getBuffer(){return this.buffer}getLengthInBits(){return this.length}getBit(i){return(this.buffer[i/8>>0]>>>7-i%8&1)===1}put(i,r){for(let s=0;s<r;s++)this.putBit((i>>>r-s-1&1)===1)}putBit(i){const{buffer:r}=this;this.length===r.length*8&&r.push(0),i&&(r[this.length/8>>0]|=128>>>this.length%8),this.length++}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */const MAX_CODE=4095;class Dict{constructor(i){const r=1<<i,s=r+1;this.bof=r,this.eof=s,this.depth=i,this.reset()}reset(){const i=this.depth+1;this.bits=i,this.size=1<<i,this.codes=new Map,this.unused=this.eof+1}add(i,r){let{unused:s}=this;if(s>MAX_CODE)return!1;this.codes.set(i<<8|r,s++);let{bits:a,size:n}=this;return s>n&&(n=1<<++a),this.bits=a,this.size=n,this.unused=s,!0}get(i,r){return this.codes.get(i<<8|r)}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class DictStream{constructor(i){this.bits=0,this.buffer=0,this.bytes=[],this.dict=i}write(i){let{bits:r}=this,s=this.buffer|i<<r;r+=this.dict.bits;const{bytes:a}=this;for(;r>=8;)a.push(s&255),s>>=8,r-=8;this.bits=r,this.buffer=s}pipe(i){const{bytes:r}=this;this.bits>0&&r.push(this.buffer),i.writeByte(this.dict.depth);const{length:s}=r;for(let a=0;a<s;){const n=s-a;n>=255?(i.writeByte(255),i.writeBytes(r,a,255),a+=255):(i.writeByte(n),i.writeBytes(r,a,n),a=s)}i.writeByte(0)}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */function compress(t,i,r){const s=new Dict(i),a=new DictStream(s);if(a.write(s.bof),t.length>0){let n=t[0];const{length:l}=t;for(let o=1;o<l;o++){const d=t[o],c=s.get(n,d);c!=null?n=c:(a.write(n),s.add(n,d)||(a.write(s.bof),s.reset()),n=d)}a.write(n)}a.write(s.eof),a.pipe(r)}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class ByteStream{constructor(){this.bytes=[]}writeByte(i){this.bytes.push(i&255)}writeInt16(i){this.bytes.push(i&255,i>>8&255)}writeBytes(i,r=0,s=i.length){const a=this.bytes;for(let n=0;n<s;n++)a.push(i[r+n]&255)}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */const{fromCharCode}=String;function encode(t){if(t&=63,t>=0){if(t<26)return 65+t;if(t<52)return 97+(t-26);if(t<62)return 48+(t-52);if(t===62)return 43;if(t===63)return 47}throw new Error(`illegal char: ${fromCharCode(t)}`)}class Base64Stream{constructor(){this.bits=0,this.buffer=0,this.length=0,this.stream=new ByteStream}get bytes(){return this.stream.bytes}write(i){let r=this.bits+8;const{stream:s}=this,a=this.buffer<<8|i&255;for(;r>=6;)s.writeByte(encode(a>>>r-6)),r-=6;this.length++,this.bits=r,this.buffer=a}close(){const{bits:i,stream:r,length:s}=this;if(i>0&&(r.writeByte(encode(this.buffer<<6-i)),this.bits=0,this.buffer=0),s%3!=0){const a=3-s%3;for(let n=0;n<a;n++)r.writeByte(61)}}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class GIFImage{constructor(i,r,{foreground:s=[0,0,0],background:a=[255,255,255]}={}){this.pixels=[],this.width=i,this.height=r,this.foreground=s,this.background=a}encodeImpl(){const i=new ByteStream,{width:r,height:s,background:a,foreground:n}=this;return i.writeBytes([71,73,70,56,57,97]),i.writeInt16(r),i.writeInt16(s),i.writeBytes([128,0,0]),i.writeBytes([a[0],a[1],a[2]]),i.writeBytes([n[0],n[1],n[2]]),i.writeByte(44),i.writeInt16(0),i.writeInt16(0),i.writeInt16(r),i.writeInt16(s),i.writeByte(0),compress(this.pixels,2,i),i.writeByte(59),i.bytes}set(i,r,s){this.pixels[r*this.width+i]=s}toDataURL(){const i=this.encodeImpl(),r=new Base64Stream;for(const n of i)r.write(n);r.close();const s=r.bytes;let a="data:image/gif;base64,";for(const n of s)a+=fromCharCode(n);return a}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */function getMaskFunc(t){switch(t){case 0:return(i,r)=>(i+r&1)===0;case 1:return(i,r)=>(r&1)===0;case 2:return(i,r)=>i%3===0;case 3:return(i,r)=>(i+r)%3===0;case 4:return(i,r)=>((i/3>>0)+(r/2>>0)&1)===0;case 5:return(i,r)=>(i*r&1)+i*r%3===0;case 6:return(i,r)=>((i*r&1)+i*r%3&1)===0;case 7:return(i,r)=>(i*r%3+(i+r&1)&1)===0;default:throw new Error(`illegal mask: ${t}`)}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */const PAD0=236,PAD1=17,{toString}=Object.prototype;function appendECI(t,i){if(t<0||t>=1e6)throw new Error("byte mode encoding hint out of range");i.put(Mode.ECI,4),t<128?i.put(t,8):t<16384?(i.put(2,2),i.put(t,14)):(i.put(6,3),i.put(t,21))}function prepareData(t,i,r,s){const a=new BitBuffer,n=RSBlock.getRSBlocks(t,i);for(const o of s){const d=o.mode;r&&d===Mode.Byte&&appendECI(o.encoding,a),a.put(d,4),a.put(o.getLength(),o.getLengthInBits(t)),o.writeTo(a)}let l=0;for(const o of n)l+=o.getDataCount();return l*=8,[a,n,l]}function createBytes(t,i){let r=0,s=0,a=0;const n=[],l=[],o=i.length,d=t.getBuffer();for(let c=0;c<o;c++){const f=i[c],p=f.getDataCount(),_=f.getTotalCount()-p;s=Math.max(s,p),a=Math.max(a,_),n[c]=[];for(let w=0;w<p;w++)n[c][w]=255&d[w+r];r+=p;const u=getErrorCorrectionPolynomial(_),h=u.getLength()-1,g=new Polynomial(n[c],h).mod(u),v=g.getLength();l[c]=[];for(let w=0;w<h;w++){const E=w+v-h;l[c][w]=E>=0?g.getAt(E):0}}t=new BitBuffer;for(let c=0;c<s;c++)for(let f=0;f<o;f++)c<n[f].length&&t.put(n[f][c],8);for(let c=0;c<a;c++)for(let f=0;f<o;f++)c<l[f].length&&t.put(l[f][c],8);return t}function createData(t,i,r){for(t.getLengthInBits()+4<=r&&t.put(0,4);t.getLengthInBits()%8!==0;)t.putBit(!1);for(;!(t.getLengthInBits()>=r||(t.put(PAD0,8),t.getLengthInBits()>=r));)t.put(PAD1,8);return createBytes(t,i)}class Encoder{constructor(i={}){this.matrixSize=0,this.chunks=[],this.matrix=[];const{version:r=0,encodingHint:s=!1,errorCorrectionLevel:a=ErrorCorrectionLevel.L}=i;this.setVersion(r),this.setEncodingHint(s),this.setErrorCorrectionLevel(a)}getMatrix(){return this.matrix}getMatrixSize(){return this.matrixSize}getVersion(){return this.version}setVersion(i){return this.version=Math.min(40,Math.max(0,i>>0)),this.auto=this.version===0,this}getErrorCorrectionLevel(){return this.errorCorrectionLevel}setErrorCorrectionLevel(i){switch(i){case ErrorCorrectionLevel.L:case ErrorCorrectionLevel.M:case ErrorCorrectionLevel.Q:case ErrorCorrectionLevel.H:this.errorCorrectionLevel=i}return this}getEncodingHint(){return this.encodingHint}setEncodingHint(i){return this.encodingHint=i,this}write(i){const{chunks:r}=this;if(i instanceof QRData)r.push(i);else if(toString.call(i)==="[object String]")r.push(new QRByte(i));else throw new Error(`illegal data: ${i}`);return this}isDark(i,r){return this.matrix[i][r]===!0}setupFinderPattern(i,r){const{matrix:s}=this,a=this.matrixSize;for(let n=-1;n<=7;n++)for(let l=-1;l<=7;l++)i+n<=-1||a<=i+n||r+l<=-1||a<=r+l||(0<=n&&n<=6&&(l===0||l===6)||0<=l&&l<=6&&(n===0||n===6)||2<=n&&n<=4&&2<=l&&l<=4?s[i+n][r+l]=!0:s[i+n][r+l]=!1)}setupAlignmentPattern(){const{matrix:i}=this,r=getAlignmentPattern(this.version),{length:s}=r;for(let a=0;a<s;a++)for(let n=0;n<s;n++){const l=r[a],o=r[n];if(i[l][o]===null)for(let d=-2;d<=2;d++)for(let c=-2;c<=2;c++)d===-2||d===2||c===-2||c===2||d===0&&c===0?i[l+d][o+c]=!0:i[l+d][o+c]=!1}}setupTimingPattern(){const{matrix:i}=this,r=this.matrixSize-8;for(let s=8;s<r;s++){const a=s%2===0;i[s][6]===null&&(i[s][6]=a),i[6][s]===null&&(i[6][s]=a)}}setupFormatInfo(i){const{matrix:r}=this,s=this.errorCorrectionLevel<<3|i,a=getBCHVersionInfo(s),n=this.matrixSize;for(let l=0;l<15;l++){const o=(a>>l&1)===1;l<6?r[l][8]=o:l<8?r[l+1][8]=o:r[n-15+l][8]=o,l<8?r[8][n-l-1]=o:l<9?r[8][15-l-1+1]=o:r[8][15-l-1]=o}r[n-8][8]=!0}setupVersionInfo(){if(this.version>=7){const{matrix:i}=this,r=this.matrixSize,s=getBCHVersion(this.version);for(let a=0;a<18;a++){const n=(s>>a&1)===1;i[a/3>>0][a%3+r-8-3]=n,i[a%3+r-8-3][a/3>>0]=n}}}setupCodewords(i,r){const{matrix:s}=this,a=this.matrixSize,n=i.getLengthInBits(),l=getMaskFunc(r);let o=0;for(let d=a-1;d>=1;d-=2){d===6&&(d=5);for(let c=0;c<a;c++)for(let f=0;f<2;f++){const p=d-f,u=(d+1&2)===0?a-1-c:c;if(s[u][p]!==null)continue;let h=!1;o<n&&(h=i.getBit(o++)),l(p,u)&&(h=!h),s[u][p]=h}}}buildMatrix(i,r){const s=[],a=this.matrixSize;for(let n=0;n<a;n++){s[n]=[];for(let l=0;l<a;l++)s[n][l]=null}this.matrix=s,this.setupFinderPattern(0,0),this.setupFinderPattern(a-7,0),this.setupFinderPattern(0,a-7),this.setupAlignmentPattern(),this.setupTimingPattern(),this.setupFormatInfo(r),this.setupVersionInfo(),this.setupCodewords(i,r)}make(){let i,r,s;const{chunks:a,errorCorrectionLevel:n}=this;if(this.auto){let f=1;for(;f<=40&&([i,r,s]=prepareData(f,n,this.encodingHint,a),!(i.getLengthInBits()<=s));f++);const p=i.getLengthInBits();if(p>s)throw new Error(`data overflow: ${p} > ${s}`);this.version=f}else[i,r,s]=prepareData(this.version,n,this.encodingHint,a);this.matrixSize=this.version*4+17;const l=[],o=createData(i,r,s);let d=-1,c=Number.MAX_VALUE;for(let f=0;f<8;f++){this.buildMatrix(o,f),l.push(this.matrix);const p=calculateMaskPenalty(this);p<c&&(c=p,d=f)}return this.matrix=l[d],this}toDataURL(i=2,r=i*4,s){i=Math.max(1,i>>0),r=Math.max(0,r>>0);const a=this.matrixSize,n=i*a+r*2,l=r,o=n-r,d=new GIFImage(n,n,s);for(let c=0;c<n;c++)for(let f=0;f<n;f++)if(l<=f&&f<o&&l<=c&&c<o){const p=(c-l)/i>>0,_=(f-l)/i>>0;d.set(f,c,this.isDark(p,_)?1:0)}else d.set(f,c,0);return d.toDataURL()}clear(){this.chunks=[]}}function handleBackdropClick(t,i){i()}var on_click$1=t=>t.stopPropagation(),root_2$1=template(`<div class="flex justify-center items-center mb-4 sm:mb-6 svelte-1lczg5n"><div class="qr-container rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden 
                      border-2 sm:border-4 border-yellow-400/60 dark:border-yellow-500/60 
                      p-1 sm:p-2 
                      bg-gradient-to-br from-yellow-50 to-yellow-100 
                      dark:from-yellow-900/20 dark:to-yellow-800/20
                      hover:border-yellow-500/80 dark:hover:border-yellow-400/80
                      transition-colors duration-300 svelte-1lczg5n"><img class="rounded-lg sm:rounded-xl w-full h-auto block max-w-[240px] sm:max-w-[280px] lg:max-w-[320px] svelte-1lczg5n" loading="lazy"></div></div> <div class="text-center space-y-2 svelte-1lczg5n"><p class="text-xs sm:text-sm text-gray-600 dark:text-gray-400 svelte-1lczg5n">Scan with your device camera or QR reader</p> <div class="flex flex-wrap justify-center gap-1 sm:gap-2 text-xs text-gray-500 dark:text-gray-500 svelte-1lczg5n"><span class="svelte-1lczg5n">Press</span> <kbd class="px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-xs font-mono svelte-1lczg5n">Esc</kbd> <span class="hidden sm:inline svelte-1lczg5n">or</span> <kbd class="hidden sm:inline px-1 py-0.5 bg-gray-200 dark:bg-gray-700 rounded text-xs font-mono svelte-1lczg5n">Shift+Q</kbd> <span class="svelte-1lczg5n">to close</span></div></div>`,1),root_3$1=template(`<div class="flex justify-center items-center h-48 sm:h-64 lg:h-80 svelte-1lczg5n"><div class="flex flex-col items-center space-y-3 sm:space-y-4 svelte-1lczg5n"><div class="animate-spin rounded-full h-8 w-8 sm:h-12 sm:w-12 
                        border-2 sm:border-4 border-yellow-400 dark:border-yellow-500 
                        border-t-transparent svelte-1lczg5n"></div> <div class="text-sm sm:text-base text-gray-500 dark:text-gray-400 svelte-1lczg5n">Generating QR code...</div></div></div>`),root_1$2=template(`<div class="fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 svelte-1lczg5n"><div></div> <div><button class="exit-button absolute top-3 right-3 sm:top-4 sm:right-4 
               w-8 h-8 sm:w-10 sm:h-10 
               rounded-full 
               bg-gradient-to-br from-gray-100 to-gray-200 
               dark:from-gray-700 dark:to-gray-800 
               hover:from-red-100 hover:to-red-200 
               dark:hover:from-red-800 dark:hover:to-red-900
               text-gray-600 dark:text-gray-300 
               hover:text-red-600 dark:hover:text-red-300
               flex items-center justify-center 
               shadow-lg border border-gray-300 dark:border-gray-600
               hover:border-red-300 dark:hover:border-red-600
               focus:outline-none focus:ring-2 focus:ring-red-500/50 focus:ring-offset-2
               focus:ring-offset-white dark:focus:ring-offset-gray-900 svelte-1lczg5n" aria-label="Close modal"><!></button> <h3 class="text-lg sm:text-xl lg:text-2xl font-bold mb-4 sm:mb-6 text-center 
                 bg-gradient-to-r from-gray-800 to-gray-600 
                 dark:from-gray-100 dark:to-gray-300 
                 bg-clip-text text-transparent pr-12 svelte-1lczg5n"> </h3> <!></div></div>`),root$2=template('<button class="button-hover inline-flex items-center gap-2 px-3 py-2 sm:px-4 sm:py-2 text-xs sm:text-sm font-semibold bg-transparent border-2 border-yellow-500 dark:border-yellow-400 text-yellow-600 dark:text-yellow-400 rounded-lg hover:bg-yellow-500 hover:dark:bg-yellow-400 hover:text-white hover:dark:text-gray-900 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-yellow-500/50 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900 svelte-1lczg5n" aria-label="Show QR Code"><!> <span class="hidden xs:inline svelte-1lczg5n">Show QR</span> <span class="xs:hidden svelte-1lczg5n">QR</span></button> <!>',1);function QrModal(t,i){push(i,!0);let r=state(!1),s=state(null),a=state(!1);function n(){set(a,!0),setTimeout(()=>{set(r,!1),set(a,!1)},300)}user_effect(()=>{i.qrData&&set(s,new Encoder({encodingHint:!0,errorCorrectionLevel:ErrorCorrectionLevel.M,version:0}).write(new QRByte(i.qrData,h=>({bytes:h.split("").map(g=>g.charCodeAt(0)),encoding:27}))).make(),!0)});function l(){set(r,!0)}function o(){set(a,!0),setTimeout(()=>{set(r,!1),set(a,!1)},300)}function d(h){h.shiftKey&&h.key.toLowerCase()==="q"&&(h.preventDefault(),l()),h.key==="Escape"&&get(r)&&(h.preventDefault(),o())}onMount(()=>(window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)));var c=root$2(),f=first_child(c);f.__click=l;var p=child(f);Qr_code(p,{class:"w-3 h-3 sm:w-4 sm:h-4"}),next(4),reset(f);var _=sibling(f,2);{var u=h=>{var m=root_1$2(),g=child(m);g.__click=[handleBackdropClick,o];var v=sibling(g,2);v.__click=[on_click$1];var w=child(v);w.__click=o;var E=child(w);X(E,{class:"w-4 h-4 sm:w-5 sm:h-5"}),reset(w);var S=sibling(w,2),x=child(S,!0);reset(S);var I=sibling(S,2);{var R=C=>{var M=root_2$1(),P=first_child(M),A=child(P),N=child(A);reset(A),reset(P),next(2),template_effect(y=>{set_attribute(N,"src",y),set_attribute(N,"alt",`QR Code for ${i.title??""}`)},[()=>get(s).toDataURL(8)]),append(C,M)},D=C=>{var M=root_3$1();append(C,M)};if_block(I,C=>{get(s)?C(R):C(D,!1)})}reset(v),reset(m),template_effect(()=>{set_class(g,1,`absolute inset-0 bg-black/40 dark:bg-black/60 ${get(a)?"backdrop-exit":"backdrop-enter"}`,"svelte-1lczg5n"),set_class(v,1,`modal-content relative z-10 w-full max-w-sm sm:max-w-md lg:max-w-xl 
             bg-white/95 dark:bg-gray-900/95 
             text-gray-900 dark:text-gray-100 
             shadow-2xl backdrop-blur-xl 
             border border-gray-200/80 dark:border-gray-700/80 
             rounded-2xl sm:rounded-3xl 
             p-4 sm:p-6 lg:p-8 
             ${get(a)?"modal-exit":"modal-enter"}
             max-h-[90vh] overflow-y-auto`,"svelte-1lczg5n"),set_text(x,i.title)}),append(h,m)};if_block(_,h=>{get(r)&&h(u)})}return append(t,c),pop({close:n})}delegate(["click"]);class e{constructor(i,r,s,a,n){this._legacyCanvasSize=e.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=i,this.$canvas=document.createElement("canvas"),s&&typeof s=="object"?this._onDecode=r:(console.warn(s||a||n?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=r),r=typeof s=="object"?s:{},this._onDecodeError=r.onDecodeError||(typeof s=="function"?s:this._onDecodeError),this._calculateScanRegion=r.calculateScanRegion||(typeof a=="function"?a:this._calculateScanRegion),this._preferredCamera=r.preferredCamera||n||this._preferredCamera,this._legacyCanvasSize=typeof s=="number"?s:typeof a=="number"?a:this._legacyCanvasSize,this._maxScansPerSecond=r.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),i.disablePictureInPicture=!0,i.playsInline=!0,i.muted=!0;let l=!1;if(i.hidden&&(i.hidden=!1,l=!0),document.body.contains(i)||(document.body.appendChild(i),l=!0),s=i.parentElement,r.highlightScanRegion||r.highlightCodeOutline){if(a=!!r.overlay,this.$overlay=r.overlay||document.createElement("div"),n=this.$overlay.style,n.position="absolute",n.display="none",n.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!a&&r.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch{}s.insertBefore(this.$overlay,this.$video.nextSibling)}r.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(i),requestAnimationFrame(()=>{let o=window.getComputedStyle(i);o.display==="none"&&(i.style.setProperty("display","block","important"),l=!0),o.visibility!=="visible"&&(i.style.setProperty("visibility","visible","important"),l=!0),l&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),i.style.opacity="0",i.style.width="0",i.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),i.addEventListener("play",this._onPlay),i.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=e.createQrEngine()}static set WORKER_PATH(i){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await e.listCameras(!1)).length}catch{return!1}}static async listCameras(i=!1){if(!navigator.mediaDevices)return[];let r=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(a=>a.kind==="videoinput"),s;try{i&&(await r()).every(a=>!a.label)&&(s=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch{}try{return(await r()).map((a,n)=>({id:a.deviceId,label:a.label||(n===0?"Default Camera":`Camera ${n+1}`)}))}finally{s&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),e._stopVideoStream(s))}}async hasFlash(){let i;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;i=this.$video.srcObject}else i=(await this._getCameraStream()).stream;return"torch"in i.getVideoTracks()[0].getSettings()}catch{return!1}finally{i&&i!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),e._stopVideoStream(i))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(i){throw this._flashOn=!1,i}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),e._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&(window.location.protocol!=="https:"&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:i,facingMode:r}=await this._getCameraStream();!this._active||this._paused?e._stopVideoStream(i):(this._setVideoMirror(r),this.$video.srcObject=i,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(i){if(!this._paused)throw this._active=!1,i}}stop(){this.pause(),this._active=!1}async pause(i=!1){if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let r=()=>{this.$video.srcObject instanceof MediaStream&&(e._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return i?(r(),!0):(await new Promise(s=>setTimeout(s,300)),this._paused?(r(),!0):!1)}async setCamera(i){i!==this._preferredCamera&&(this._preferredCamera=i,await this._restartVideoStream())}static async scanImage(i,r,s,a,n=!1,l=!1){let o,d=!1;r&&("scanRegion"in r||"qrEngine"in r||"canvas"in r||"disallowCanvasResizing"in r||"alsoTryWithoutScanRegion"in r||"returnDetailedScanResult"in r)?(o=r.scanRegion,s=r.qrEngine,a=r.canvas,n=r.disallowCanvasResizing||!1,l=r.alsoTryWithoutScanRegion||!1,d=!0):console.warn(r||s||a||n||l?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),r=!!s;try{let c,f;[s,c]=await Promise.all([s||e.createQrEngine(),e._loadImage(i)]),[a,f]=e._drawToCanvas(c,o,a,n);let p;if(s instanceof Worker){let _=s;r||e._postWorkerMessageSync(_,"inversionMode","both"),p=await new Promise((u,h)=>{let m,g,v,w=-1;g=S=>{S.data.id===w&&(_.removeEventListener("message",g),_.removeEventListener("error",v),clearTimeout(m),S.data.data!==null?u({data:S.data.data,cornerPoints:e._convertPoints(S.data.cornerPoints,o)}):h(e.NO_QR_CODE_FOUND))},v=S=>{_.removeEventListener("message",g),_.removeEventListener("error",v),clearTimeout(m),h("Scanner error: "+(S?S.message||S:"Unknown Error"))},_.addEventListener("message",g),_.addEventListener("error",v),m=setTimeout(()=>v("timeout"),1e4);let E=f.getImageData(0,0,a.width,a.height);w=e._postWorkerMessageSync(_,"decode",E,[E.data.buffer])})}else p=await Promise.race([new Promise((_,u)=>window.setTimeout(()=>u("Scanner error: timeout"),1e4)),(async()=>{try{var[_]=await s.detect(a);if(!_)throw e.NO_QR_CODE_FOUND;return{data:_.rawValue,cornerPoints:e._convertPoints(_.cornerPoints,o)}}catch(u){if(_=u.message||u,/not implemented|service unavailable/.test(_))return e._disableBarcodeDetector=!0,e.scanImage(i,{scanRegion:o,canvas:a,disallowCanvasResizing:n,alsoTryWithoutScanRegion:l});throw`Scanner error: ${_}`}})()]);return d?p:p.data}catch(c){if(!o||!l)throw c;let f=await e.scanImage(i,{qrEngine:s,canvas:a,disallowCanvasResizing:n});return d?f:f.data}finally{r||e._postWorkerMessage(s,"close")}}setGrayscaleWeights(i,r,s,a=!0){e._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:i,green:r,blue:s,useIntegerApproximation:a})}setInversionMode(i){e._postWorkerMessage(this._qrEnginePromise,"inversionMode",i)}static async createQrEngine(i){if(i&&console.warn("Specifying a worker path is not required and not supported anymore."),i=()=>__vitePreload(()=>import("./qr-scanner-worker.min.D85Z9gVD.js"),[]).then(s=>s.createWorker()),!(!e._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return i();let r=navigator.userAgentData;return r&&r.brands.some(({brand:s})=>/Chromium/i.test(s))&&/mac ?OS/i.test(r.platform)&&await r.getHighEntropyValues(["architecture","platformVersion"]).then(({architecture:s,platformVersion:a})=>/arm/i.test(s||"arm")&&13<=parseInt(a||"13")).catch(()=>!0)?i():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(i){let r=Math.round(.6666666666666666*Math.min(i.videoWidth,i.videoHeight));return{x:Math.round((i.videoWidth-r)/2),y:Math.round((i.videoHeight-r)/2),width:r,height:r,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var i=this.$video,r=i.videoWidth,s=i.videoHeight,a=i.offsetWidth,n=i.offsetHeight,l=i.offsetLeft,o=i.offsetTop,d=window.getComputedStyle(i),c=d.objectFit,f=r/s,p=a/n;switch(c){case"none":var _=r,u=s;break;case"fill":_=a,u=n;break;default:(c==="cover"?f>p:f<p)?(u=n,_=u*f):(_=a,u=_/f),c==="scale-down"&&(_=Math.min(_,r),u=Math.min(u,s))}var[h,m]=d.objectPosition.split(" ").map((v,w)=>{const E=parseFloat(v);return v.endsWith("%")?(w?n-u:a-_)*E/100:E});d=this._scanRegion.width||r,p=this._scanRegion.height||s,c=this._scanRegion.x||0;var g=this._scanRegion.y||0;f=this.$overlay.style,f.width=`${d/r*_}px`,f.height=`${p/s*u}px`,f.top=`${o+m+g/s*u}px`,s=/scaleX\(-1\)/.test(i.style.transform),f.left=`${l+(s?a-h-_:h)+(s?r-c-d:c)/r*_}px`,f.transform=i.style.transform}})}static _convertPoints(i,r){if(!r)return i;let s=r.x||0,a=r.y||0,n=r.width&&r.downScaledWidth?r.width/r.downScaledWidth:1;r=r.height&&r.downScaledHeight?r.height/r.downScaledHeight:1;for(let l of i)l.x=l.x*n+s,l.y=l.y*r+a;return i}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var i=Date.now()-this._lastScanTimestamp,r=1e3/this._maxScansPerSecond;i<r&&await new Promise(a=>setTimeout(a,r-i)),this._lastScanTimestamp=Date.now();try{var s=await e.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(a){if(!this._active)return;this._onDecodeError(a)}!e._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=e.createQrEngine()),s?(this._onDecode?this._onDecode(s):this._legacyOnDecode&&this._legacyOnDecode(s.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox",`${this._scanRegion.x||0} ${this._scanRegion.y||0} ${this._scanRegion.width||this.$video.videoWidth} ${this._scanRegion.height||this.$video.videoHeight}`),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",s.cornerPoints.map(({x:a,y:n})=>`${a},${n}`).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(i){i!==e.NO_QR_CODE_FOUND&&console.log(i)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let i=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",r=[{width:{min:1024}},{width:{min:768}},{}],s=r.map(a=>Object.assign({},a,{[i]:{exact:this._preferredCamera}}));for(let a of[...s,...r])try{let n=await navigator.mediaDevices.getUserMedia({video:a,audio:!1}),l=this._getFacingMode(n)||(a.facingMode?this._preferredCamera:this._preferredCamera==="environment"?"user":"environment");return{stream:n,facingMode:l}}catch{}throw"Camera not found."}async _restartVideoStream(){let i=this._paused;await this.pause(!0)&&!i&&this._active&&await this.start()}static _stopVideoStream(i){for(let r of i.getTracks())r.stop(),i.removeTrack(r)}_setVideoMirror(i){this.$video.style.transform="scaleX("+(i==="user"?-1:1)+")"}_getFacingMode(i){return(i=i.getVideoTracks()[0])?/rear|back|environment/i.test(i.label)?"environment":/front|user|face/i.test(i.label)?"user":null:null}static _drawToCanvas(i,r,s,a=!1){s=s||document.createElement("canvas");let n=r&&r.x?r.x:0,l=r&&r.y?r.y:0,o=r&&r.width?r.width:i.videoWidth||i.width,d=r&&r.height?r.height:i.videoHeight||i.height;return a||(a=r&&r.downScaledWidth?r.downScaledWidth:o,r=r&&r.downScaledHeight?r.downScaledHeight:d,s.width!==a&&(s.width=a),s.height!==r&&(s.height=r)),r=s.getContext("2d",{alpha:!1}),r.imageSmoothingEnabled=!1,r.drawImage(i,n,l,o,d,0,0,s.width,s.height),[s,r]}static async _loadImage(i){if(i instanceof Image)return await e._awaitImageLoad(i),i;if(i instanceof HTMLVideoElement||i instanceof HTMLCanvasElement||i instanceof SVGImageElement||"OffscreenCanvas"in window&&i instanceof OffscreenCanvas||"ImageBitmap"in window&&i instanceof ImageBitmap)return i;if(i instanceof File||i instanceof Blob||i instanceof URL||typeof i=="string"){let r=new Image;r.src=i instanceof File||i instanceof Blob?URL.createObjectURL(i):i.toString();try{return await e._awaitImageLoad(r),r}finally{(i instanceof File||i instanceof Blob)&&URL.revokeObjectURL(r.src)}}else throw"Unsupported image type."}static async _awaitImageLoad(i){i.complete&&i.naturalWidth!==0||await new Promise((r,s)=>{let a=n=>{i.removeEventListener("load",a),i.removeEventListener("error",a),n instanceof ErrorEvent?s("Image load error"):r()};i.addEventListener("load",a),i.addEventListener("error",a)})}static async _postWorkerMessage(i,r,s,a){return e._postWorkerMessageSync(await i,r,s,a)}static _postWorkerMessageSync(i,r,s,a){if(!(i instanceof Worker))return-1;let n=e._workerMessageId++;return i.postMessage({id:n,type:r,data:s},a),n}}e.DEFAULT_CANVAS_SIZE=400;e.NO_QR_CODE_FOUND="No QR code found";e._disableBarcodeDetector=!1;e._workerMessageId=0;var on_click=(t,i)=>i(!0),on_click_1=(t,i)=>i(!1),root_2=template('<div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-30"><div class="text-white text-lg">Initializing camera...</div></div>'),on_click_2=(t,i,r,s)=>{set(i,!1),r().then(a=>{a&&s()})},root_3=template('<div class="absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-70 p-4"><div class="text-white text-center mb-4"> </div> <button class="btn btn-sm btn-primary">Request Permission Again</button></div>'),on_click_3=(t,i)=>i(!1),on_click_4=(t,i,r,s)=>{set(i,!1),r().then(a=>{a&&s()})},root_4=template('<button class="btn btn-primary">Retry</button>'),root_1$1=template(`<div class="fixed inset-0 backdrop-blur-xs bg-opacity-50 flex items-center justify-center z-50"><div class="bg-transparent rounded-lg shadow-lg p-6 max-w-md w-full mx-4"><div class="flex justify-between items-center mb-4"><h3 class="text-lg font-bold text-white-900"> </h3> <button class="text-gray-500 hover:text-gray-700" aria-label="Close QR Scanner"><!></button></div> <div class="relative w-full aspect-square bg-gray-100 rounded-lg overflow-hidden"><video class="w-full h-full object-cover" playsinline=""><track kind="captions"></video> <div class="absolute inset-0 flex items-center justify-center pointer-events-none"><div></div></div> <!> <!></div> <p class="mt-4 text-sm text-gray-600">Position the QR code within the frame to scan. Make sure it's well-lit and clearly visible.</p> <div class="mt-4 flex justify-end gap-2"><button class="btn btn-error">Cancel</button> <!></div></div></div>`,2),root$1=template('<button class="btn btn-soft btn-secondary" aria-label="Open QR Scanner"><!> </button> <!>',1);function ScanQrModal(t,i){push(i,!0);const r=prop(i,"buttonText",3,"Scan QR Code"),s=prop(i,"modalTitle",3,"Scan QR Code");let a=state(!1),n=state(null),l=state(null),o=state(!1),d=state(""),c=state(!1);onMount(()=>()=>{get(n)&&(get(n).stop(),get(n).destroy())}),onDestroy(()=>{_()});async function f(){if(set(d,""),set(c,!0),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)return set(d,"Your browser does not support camera access."),!1;try{return(await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}})).getTracks().forEach(I=>I.stop()),!0}catch(x){const I=x;return I.name==="NotAllowedError"||I.name==="PermissionDeniedError"?set(d,"Camera access was denied. Please grant permission and try again."):I.name==="NotFoundError"||I.name==="DevicesNotFoundError"?set(d,"No camera found on this device."):I.name==="NotReadableError"||I.name==="TrackStartError"?set(d,"Camera is already in use by another application."):I.name==="OverconstrainedError"?set(d,"Could not find a suitable camera."):set(d,`Camera error: ${I.message||"Unknown error"}`),!1}}async function p(){if(set(d,""),!get(l)){set(d,"Video element not found.");return}if(!(!get(c)&&!await f()))try{set(n,new e(get(l),x=>{u(x)},{highlightScanRegion:!0,highlightCodeOutline:!0,preferredCamera:"environment"}),!0),get(n).start().then(()=>{set(o,!0)}).catch(x=>{set(d,`Camera error: ${x.message}`),set(o,!1),get(c)&&set(c,!1)})}catch(x){set(d,`Scanner initialization error: ${x instanceof Error?x.message:String(x)}`)}}function _(){get(n)&&(get(n).stop(),set(o,!1))}function u(x){_(),set(a,!1),i.onScanSuccess(x.data)}function h(x){set(a,x,!0),x?setTimeout(()=>{get(c)?p():f().then(I=>{I&&p()})},100):_()}onMount(()=>{function x(I){I.altKey&&I.key.toLowerCase()==="s"&&(I.preventDefault(),h(!0))}return window.addEventListener("keydown",x),()=>{window.removeEventListener("keydown",x)}});var m=root$1(),g=first_child(m);g.__click=[on_click,h];var v=child(g);Scan_line(v,{});var w=sibling(v);reset(g);var E=sibling(g,2);{var S=x=>{var I=root_1$1(),R=child(I),D=child(R),C=child(D),M=child(C,!0);reset(C);var P=sibling(C,2);P.__click=[on_click_1,h];var A=child(P);Scan_qr_code(A,{}),reset(P),reset(D);var N=sibling(D,2),y=child(N);bind_this(y,Y=>set(l,Y),()=>get(l));var $=sibling(y,4);{var J=Y=>{var K=root_2();append(Y,K)};if_block($,Y=>{!get(o)&&!get(d)&&Y(J)})}var U=sibling($,2);{var te=Y=>{var K=root_3(),q=child(K),le=child(q,!0);reset(q);var de=sibling(q,2);de.__click=[on_click_2,c,f,p],reset(K),template_effect(()=>set_text(le,get(d))),append(Y,K)};if_block(U,Y=>{get(d)&&Y(te)})}reset(N);var j=sibling(N,4),ee=child(j);ee.__click=[on_click_3,h];var z=sibling(ee,2);{var B=Y=>{var K=root_4();K.__click=[on_click_4,c,f,p],append(Y,K)};if_block(z,Y=>{!get(o)&&get(d)&&Y(B)})}reset(j),reset(R),reset(I),template_effect(()=>set_text(M,s())),append(x,I)};if_block(E,x=>{get(a)&&x(S)})}template_effect(()=>set_text(w,` ${r()??""}`)),append(t,m),pop()}delegate(["click"]);var root_1=template('<div><div class="mt-0.5"><!></div> <div class="flex-1 text-sm font-medium"> </div></div>'),root=template('<div class="fixed bottom-5 left-1/2 transform -translate-x-1/2 z-50 space-y-3 w-[90%] max-w-md sm:right-6 sm:left-auto sm:translate-x-0"></div>');function Toast(t,i){push(i,!0);let r=state(proxy([]));const s=toastAtom.subscribe(n=>{if(n){const l={...n};set(r,[l,...get(r)],!0),setTimeout(()=>{set(r,get(r).filter(o=>o.id!==l.id),!0)},n.duration)}});onDestroy(s);var a=root();each(a,21,()=>get(r),n=>n.id,(n,l)=>{var o=root_1(),d=child(o),c=child(d);{var f=h=>{Circle_check_big(h,{class:"w-5 h-5"})},p=(h,m)=>{{var g=w=>{Circle_alert(w,{class:"w-5 h-5"})},v=(w,E)=>{{var S=I=>{Info(I,{class:"w-5 h-5"})},x=(I,R)=>{{var D=C=>{Triangle_alert(C,{class:"w-5 h-5"})};if_block(I,C=>{get(l).status==="warning"&&C(D)},R)}};if_block(w,I=>{get(l).status==="info"?I(S):I(x,!1)},E)}};if_block(h,w=>{get(l).status==="error"?w(g):w(v,!1)},m)}};if_block(c,h=>{get(l).status==="success"?h(f):h(p,!1)})}reset(d);var _=sibling(d,2),u=child(_,!0);reset(_),reset(o),template_effect(()=>{set_class(o,1,`flex items-start gap-3 px-4 py-3 rounded-xl text-white toast-shadow
                                ${get(l).status==="success"?"bg-green-600":""}
                                ${get(l).status==="error"?"bg-red-600":""}
                                ${get(l).status==="info"?"bg-blue-600":""}
                                ${get(l).status==="warning"?"bg-yellow-600 text-black":""}`,"svelte-1ue5sb7"),set_text(u,get(l).message)}),transition(1,o,()=>fade,()=>({duration:300})),transition(2,o,()=>fade,()=>({duration:300})),append(n,o)}),reset(a),append(t,a),pop()}export{Collapse as C,Eye_1 as E,Icon as I,Message as M,QrModal as Q,Receiver as R,ScanQrModal as S,Toast as T,remove_input_defaults as a,bind_select_value as b,bind_value as c,set_attribute as d,each as e,bind_this as f,Send as g,Sender as h,index as i,set_class as j,addToastMessage as k,parseUniqueCode as l,importRsaPublicKeyFromBase64 as m,sdpDecode as n,generateRsaKeyPair as o,prop as p,exportRsaPublicKeyToBase64 as q,rest_props as r,spread_props as s,sdpEncode as t,generateUniqueCode as u,set_value as v,Encoding as w};
